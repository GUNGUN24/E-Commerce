function SCRIPT_LOADER(){
!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="//e.issuu.com/issuu-reader3-embed-files/328/",r(r.s=397)}([function(e,t){e.exports=React},function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return i})),r.d(t,"d",(function(){return a})),r.d(t,"f",(function(){return s})),r.d(t,"c",(function(){return u})),r.d(t,"e",(function(){return c}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function o(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var i=function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function a(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}function s(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a}function c(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(u(arguments[t]));return e}},function(e,t,r){"use strict";var n=r(5),o=r(6),i=r(130),a=r(21),s=r(34),u=r(17),c=r(152),l=r(153),f=r(131),p=r(11),d=r(151),h=p("isConcatSpreadable"),y=d>=51||!o((function(){var e=[];return e[h]=!1,e.concat()[0]!==e})),m=f("concat"),v=function(e){if(!a(e))return!1;var t=e[h];return void 0!==t?!!t:i(e)};n({target:"Array",proto:!0,forced:!y||!m},{concat:function(e){var t,r,n,o,i,a=s(this),f=l(a,0),p=0;for(t=-1,n=arguments.length;t<n;t++)if(v(i=-1===t?a:arguments[t])){if(p+(o=u(i.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(r=0;r<o;r++,p++)r in i&&c(f,p,i[r])}else{if(p>=9007199254740991)throw TypeError("Maximum allowed index exceeded");c(f,p++,i)}return f.length=p,f}})},function(e,t,r){var n=r(161),o=r(40),i=r(296);n||o(Object.prototype,"toString",i,{unsafe:!0})},function(e,t,r){var n;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var i=typeof n;if("string"===i||"number"===i)e.push(n);else if(Array.isArray(n)&&n.length){var a=o.apply(null,n);a&&e.push(a)}else if("object"===i)for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()},function(e,t,r){var n=r(8),o=r(86).f,i=r(43),a=r(40),s=r(164),u=r(205),c=r(126);e.exports=function(e,t){var r,l,f,p,d,h=e.target,y=e.global,m=e.stat;if(r=y?n:m?n[h]||s(h,{}):(n[h]||{}).prototype)for(l in t){if(p=t[l],f=e.noTargetGet?(d=o(r,l))&&d.value:r[l],!c(y?l:h+(m?".":"#")+l,e.forced)&&void 0!==f){if(typeof p==typeof f)continue;u(p,f)}(e.sham||f&&f.sham)&&i(p,"sham",!0),a(r,l,p,e)}}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,r){"use strict";var n=r(5),o=r(37).map,i=r(131),a=r(48),s=i("map"),u=a("map");n({target:"Array",proto:!0,forced:!s||!u},{map:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,r){(function(t){var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof t&&t)||function(){return this}()||Function("return this")()}).call(this,r(51))},function(e,t,r){"use strict";var n=r(52),o=r(107),i=r(128),a=r(49),s=r(180),u=a.set,c=a.getterFor("Array Iterator");e.exports=s(Array,"Array",(function(e,t){u(this,{type:"Array Iterator",target:n(e),index:0,kind:t})}),(function(){var e=c(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:t[n],done:!1}:{value:[n,t[n]],done:!1}}),"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},function(e,t,r){"use strict";var n=r(5),o=r(239);n({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o})},function(e,t,r){var n=r(8),o=r(162),i=r(27),a=r(121),s=r(166),u=r(204),c=o("wks"),l=n.Symbol,f=u?l:l&&l.withoutSetter||a;e.exports=function(e){return i(c,e)||(s&&i(l,e)?c[e]=l[e]:c[e]=f("Symbol."+e)),c[e]}},function(e,t,r){"use strict";var n=r(5),o=r(154);n({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},function(e,t,r){"use strict";var n,o=r(224),i=r(25),a=r(8),s=r(21),u=r(27),c=r(123),l=r(43),f=r(40),p=r(28).f,d=r(133),h=r(135),y=r(11),m=r(121),v=a.Int8Array,g=v&&v.prototype,_=a.Uint8ClampedArray,b=_&&_.prototype,w=v&&d(v),E=g&&d(g),O=Object.prototype,T=O.isPrototypeOf,x=y("toStringTag"),k=m("TYPED_ARRAY_TAG"),S=o&&!!h&&"Opera"!==c(a.opera),P=!1,C={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},A={BigInt64Array:8,BigUint64Array:8},R=function(e){if(!s(e))return!1;var t=c(e);return u(C,t)||u(A,t)};for(n in C)a[n]||(S=!1);if((!S||"function"!=typeof w||w===Function.prototype)&&(w=function(){throw TypeError("Incorrect invocation")},S))for(n in C)a[n]&&h(a[n],w);if((!S||!E||E===O)&&(E=w.prototype,S))for(n in C)a[n]&&h(a[n].prototype,E);if(S&&d(b)!==E&&h(b,E),i&&!u(E,x))for(n in P=!0,p(E,x,{get:function(){return s(this)?this[k]:void 0}}),C)a[n]&&l(a[n],k,n);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:S,TYPED_ARRAY_TAG:P&&k,aTypedArray:function(e){if(R(e))return e;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(e){if(h){if(T.call(w,e))return e}else for(var t in C)if(u(C,n)){var r=a[t];if(r&&(e===r||T.call(r,e)))return e}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(e,t,r){if(i){if(r)for(var n in C){var o=a[n];o&&u(o.prototype,e)&&delete o.prototype[e]}E[e]&&!r||f(E,e,r?t:S&&g[e]||t)}},exportTypedArrayStaticMethod:function(e,t,r){var n,o;if(i){if(h){if(r)for(n in C)(o=a[n])&&u(o,e)&&delete o[e];if(w[e]&&!r)return;try{return f(w,e,r?t:S&&v[e]||t)}catch(e){}}for(n in C)!(o=a[n])||o[e]&&!r||f(o,e,t)}},isView:function(e){if(!s(e))return!1;var t=c(e);return"DataView"===t||u(C,t)||u(A,t)},isTypedArray:R,TypedArray:w,TypedArrayPrototype:E}},function(e,t,r){"use strict";var n,o,i,a,s=r(5),u=r(85),c=r(8),l=r(94),f=r(298),p=r(40),d=r(147),h=r(87),y=r(148),m=r(21),v=r(127),g=r(96),_=r(167),b=r(171),w=r(149),E=r(106),O=r(209).set,T=r(299),x=r(301),k=r(302),S=r(212),P=r(303),C=r(49),A=r(126),R=r(11),j=r(150),I=r(151),D=R("species"),M="Promise",L=C.get,N=C.set,B=C.getterFor(M),F=f,U=c.TypeError,W=c.document,z=c.process,H=l("fetch"),V=S.f,G=V,q=!!(W&&W.createEvent&&c.dispatchEvent),$="function"==typeof PromiseRejectionEvent,K=A(M,(function(){if(!(_(F)!==String(F))){if(66===I)return!0;if(!j&&!$)return!0}if(u&&!F.prototype.finally)return!0;if(I>=51&&/native code/.test(F))return!1;var e=F.resolve(1),t=function(e){e((function(){}),(function(){}))};return(e.constructor={})[D]=t,!(e.then((function(){}))instanceof t)})),Y=K||!w((function(e){F.all(e).catch((function(){}))})),X=function(e){var t;return!(!m(e)||"function"!=typeof(t=e.then))&&t},Z=function(e,t){if(!e.notified){e.notified=!0;var r=e.reactions;T((function(){for(var n=e.value,o=1==e.state,i=0;r.length>i;){var a,s,u,c=r[i++],l=o?c.ok:c.fail,f=c.resolve,p=c.reject,d=c.domain;try{l?(o||(2===e.rejection&&te(e),e.rejection=1),!0===l?a=n:(d&&d.enter(),a=l(n),d&&(d.exit(),u=!0)),a===c.promise?p(U("Promise-chain cycle")):(s=X(a))?s.call(a,f,p):f(a)):p(n)}catch(e){d&&!u&&d.exit(),p(e)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&Q(e)}))}},J=function(e,t,r){var n,o;q?((n=W.createEvent("Event")).promise=t,n.reason=r,n.initEvent(e,!1,!0),c.dispatchEvent(n)):n={promise:t,reason:r},!$&&(o=c["on"+e])?o(n):"unhandledrejection"===e&&k("Unhandled promise rejection",r)},Q=function(e){O.call(c,(function(){var t,r=e.facade,n=e.value;if(ee(e)&&(t=P((function(){j?z.emit("unhandledRejection",n,r):J("unhandledrejection",r,n)})),e.rejection=j||ee(e)?2:1,t.error))throw t.value}))},ee=function(e){return 1!==e.rejection&&!e.parent},te=function(e){O.call(c,(function(){var t=e.facade;j?z.emit("rejectionHandled",t):J("rejectionhandled",t,e.value)}))},re=function(e,t,r){return function(n){e(t,n,r)}},ne=function(e,t,r){e.done||(e.done=!0,r&&(e=r),e.value=t,e.state=2,Z(e,!0))},oe=function(e,t,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===t)throw U("Promise can't be resolved itself");var n=X(t);n?T((function(){var r={done:!1};try{n.call(t,re(oe,r,e),re(ne,r,e))}catch(t){ne(r,t,e)}})):(e.value=t,e.state=1,Z(e,!1))}catch(t){ne({done:!1},t,e)}}};K&&(F=function(e){g(this,F,M),v(e),n.call(this);var t=L(this);try{e(re(oe,t),re(ne,t))}catch(e){ne(t,e)}},(n=function(e){N(this,{type:M,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=d(F.prototype,{then:function(e,t){var r=B(this),n=V(E(this,F));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=j?z.domain:void 0,r.parent=!0,r.reactions.push(n),0!=r.state&&Z(r,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new n,t=L(e);this.promise=e,this.resolve=re(oe,t),this.reject=re(ne,t)},S.f=V=function(e){return e===F||e===i?new o(e):G(e)},u||"function"!=typeof f||(a=f.prototype.then,p(f.prototype,"then",(function(e,t){var r=this;return new F((function(e,t){a.call(r,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof H&&s({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return x(F,H.apply(c,arguments))}}))),s({global:!0,wrap:!0,forced:K},{Promise:F}),h(F,M,!1,!0),y(M),i=l(M),s({target:M,stat:!0,forced:K},{reject:function(e){var t=V(this);return t.reject.call(void 0,e),t.promise}}),s({target:M,stat:!0,forced:u||K},{resolve:function(e){return x(u&&this===i?F:this,e)}}),s({target:M,stat:!0,forced:Y},{all:function(e){var t=this,r=V(t),n=r.resolve,o=r.reject,i=P((function(){var r=v(t.resolve),i=[],a=0,s=1;b(e,(function(e){var u=a++,c=!1;i.push(void 0),s++,r.call(t,e).then((function(e){c||(c=!0,i[u]=e,--s||n(i))}),o)})),--s||n(i)}));return i.error&&o(i.value),r.promise},race:function(e){var t=this,r=V(t),n=r.reject,o=P((function(){var o=v(t.resolve);b(e,(function(e){o.call(t,e).then(r.resolve,n)}))}));return o.error&&n(o.value),r.promise}})},function(e,t,r){var n=r(8),o=r(238),i=r(239),a=r(43);for(var s in o){var u=n[s],c=u&&u.prototype;if(c&&c.forEach!==i)try{a(c,"forEach",i)}catch(e){c.forEach=i}}},function(e,t,r){var n=r(5),o=r(242);n({target:"Object",stat:!0,forced:Object.assign!==o},{assign:o})},function(e,t,r){var n=r(53),o=Math.min;e.exports=function(e){return e>0?o(n(e),9007199254740991):0}},function(e,t,r){"use strict";function n(e){switch(Object.prototype.toString.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return y(e,Error)}}function o(e){return"[object ErrorEvent]"===Object.prototype.toString.call(e)}function i(e){return"[object DOMError]"===Object.prototype.toString.call(e)}function a(e){return"[object DOMException]"===Object.prototype.toString.call(e)}function s(e){return"[object String]"===Object.prototype.toString.call(e)}function u(e){return null===e||"object"!=typeof e&&"function"!=typeof e}function c(e){return"[object Object]"===Object.prototype.toString.call(e)}function l(e){return"undefined"!=typeof Event&&y(e,Event)}function f(e){return"undefined"!=typeof Element&&y(e,Element)}function p(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function d(e){return Boolean(e&&e.then&&"function"==typeof e.then)}function h(e){return c(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function y(e,t){try{return e instanceof t}catch(e){return!1}}r.d(t,"d",(function(){return n})),r.d(t,"e",(function(){return o})),r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return a})),r.d(t,"k",(function(){return s})),r.d(t,"i",(function(){return u})),r.d(t,"h",(function(){return c})),r.d(t,"f",(function(){return l})),r.d(t,"c",(function(){return f})),r.d(t,"j",(function(){return p})),r.d(t,"m",(function(){return d})),r.d(t,"l",(function(){return h})),r.d(t,"g",(function(){return y}))},,function(e,t,r){"use strict";var n=r(5),o=r(124),i=r(52),a=r(111),s=[].join,u=o!=Object,c=a("join",",");n({target:"Array",proto:!0,forced:u||!c},{join:function(e){return s.call(i(this),void 0===e?",":e)}})},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,r){"use strict";var n=r(5),o=r(125).includes,i=r(107);n({target:"Array",proto:!0,forced:!r(48)("indexOf",{ACCESSORS:!0,1:0})},{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i("includes")},function(e,t){e.exports=function(e,t,r,n){var o=r?r.call(n,e,t):void 0;if(void 0!==o)return!!o;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<i.length;u++){var c=i[u];if(!s(c))return!1;var l=e[c],f=t[c];if(!1===(o=r?r.call(n,l,f,c):void 0)||void 0===o&&l!==f)return!1}return!0}},function(e,t,r){(function(t){(function(){var r,n,o,i,a,s;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:null!=t&&t.hrtime?(e.exports=function(){return(r()-a)/1e6},n=t.hrtime,i=(r=function(){var e;return 1e9*(e=n())[0]+e[1]})(),s=1e9*t.uptime(),a=i-s):Date.now?(e.exports=function(){return Date.now()-o},o=Date.now()):(e.exports=function(){return(new Date).getTime()-o},o=(new Date).getTime())}).call(this)}).call(this,r(138))},function(e,t,r){var n=r(6);e.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(e,t,r){var n=r(21);e.exports=function(e){if(!n(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},function(e,t,r){var n=r(25),o=r(203),i=r(26),a=r(104),s=Object.defineProperty;t.f=n?s:function(e,t,r){if(i(e),t=a(t,!0),i(r),o)try{return s(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},function(e,t,r){"use strict";var n=r(40),o=r(26),i=r(6),a=r(168),s=RegExp.prototype,u=s.toString,c=i((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),l="toString"!=u.name;(c||l)&&n(RegExp.prototype,"toString",(function(){var e=o(this),t=String(e.source),r=e.flags;return"/"+t+"/"+String(void 0===r&&e instanceof RegExp&&!("flags"in s)?a.call(e):r)}),{unsafe:!0})},function(e,t,r){"use strict";var n=r(5),o=r(21),i=r(130),a=r(105),s=r(17),u=r(52),c=r(152),l=r(11),f=r(131),p=r(48),d=f("slice"),h=p("slice",{ACCESSORS:!0,0:0,1:2}),y=l("species"),m=[].slice,v=Math.max;n({target:"Array",proto:!0,forced:!d||!h},{slice:function(e,t){var r,n,l,f=u(this),p=s(f.length),d=a(e,p),h=a(void 0===t?p:t,p);if(i(f)&&("function"!=typeof(r=f.constructor)||r!==Array&&!i(r.prototype)?o(r)&&null===(r=r[y])&&(r=void 0):r=void 0,r===Array||void 0===r))return m.call(f,d,h);for(n=new(void 0===r?Array:r)(v(h-d,0)),l=0;d<h;d++,l++)d in f&&c(n,l,f[d]);return n.length=l,n}})},function(e,t,r){var n=r(5),o=r(34),i=r(132);n({target:"Object",stat:!0,forced:r(6)((function(){i(1)}))},{keys:function(e){return i(o(e))}})},function(e,t,r){"use strict";var n=r(178).charAt,o=r(49),i=r(180),a=o.set,s=o.getterFor("String Iterator");i(String,"String",(function(e){a(this,{type:"String Iterator",string:String(e),index:0})}),(function(){var e,t=s(this),r=t.string,o=t.index;return o>=r.length?{value:void 0,done:!0}:(e=n(r,o),t.index+=e.length,{value:e,done:!1})}))},function(e,t,r){"use strict";var n,o,i=e.exports=r(81),a=r(231);i.codegen=r(323),i.fetch=r(324),i.path=r(325),i.fs=i.inquire("fs"),i.toArray=function(e){if(e){for(var t=Object.keys(e),r=new Array(t.length),n=0;n<t.length;)r[n]=e[t[n++]];return r}return[]},i.toObject=function(e){for(var t={},r=0;r<e.length;){var n=e[r++],o=e[r++];void 0!==o&&(t[n]=o)}return t};var s=/\\/g,u=/"/g;i.isReserved=function(e){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(e)},i.safeProp=function(e){return!/^[$\w_]+$/.test(e)||i.isReserved(e)?'["'+e.replace(s,"\\\\").replace(u,'\\"')+'"]':"."+e},i.ucFirst=function(e){return e.charAt(0).toUpperCase()+e.substring(1)};var c=/_([a-z])/g;i.camelCase=function(e){return e.substring(0,1)+e.substring(1).replace(c,(function(e,t){return t.toUpperCase()}))},i.compareFieldsById=function(e,t){return e.id-t.id},i.decorateType=function(e,t){if(e.$type)return t&&e.$type.name!==t&&(i.decorateRoot.remove(e.$type),e.$type.name=t,i.decorateRoot.add(e.$type)),e.$type;n||(n=r(185));var o=new n(t||e.name);return i.decorateRoot.add(o),o.ctor=e,Object.defineProperty(e,"$type",{value:o,enumerable:!1}),Object.defineProperty(e.prototype,"$type",{value:o,enumerable:!1}),o};var l=0;i.decorateEnum=function(e){if(e.$type)return e.$type;o||(o=r(77));var t=new o("Enum"+l++,e);return i.decorateRoot.add(t),Object.defineProperty(e,"$type",{value:t,enumerable:!1}),t},i.setProperty=function(e,t,r){if("object"!=typeof e)throw TypeError("dst must be an object");if(!t)throw TypeError("path must be specified");return function e(t,r,n){var o=r.shift();if(r.length>0)t[o]=e(t[o]||{},r,n);else{var i=t[o];i&&(n=[].concat(i).concat(n)),t[o]=n}return t}(e,t=t.split("."),r)},Object.defineProperty(i,"decorateRoot",{get:function(){return a.decorated||(a.decorated=new(r(190)))}})},function(e,t,r){var n=r(47);e.exports=function(e){return Object(n(e))}},function(e,t,r){"use strict";var n=r(5),o=r(174),i=r(47);n({target:"String",proto:!0,forced:!r(176)("includes")},{includes:function(e){return!!~String(i(this)).indexOf(o(e),arguments.length>1?arguments[1]:void 0)}})},function(e,t,r){var n=r(8),o=r(238),i=r(9),a=r(43),s=r(11),u=s("iterator"),c=s("toStringTag"),l=i.values;for(var f in o){var p=n[f],d=p&&p.prototype;if(d){if(d[u]!==l)try{a(d,u,l)}catch(e){d[u]=l}if(d[c]||a(d,c,f),o[f])for(var h in i)if(d[h]!==i[h])try{a(d,h,i[h])}catch(e){d[h]=i[h]}}}},function(e,t,r){var n=r(88),o=r(124),i=r(34),a=r(17),s=r(153),u=[].push,c=function(e){var t=1==e,r=2==e,c=3==e,l=4==e,f=6==e,p=7==e,d=5==e||f;return function(h,y,m,v){for(var g,_,b=i(h),w=o(b),E=n(y,m,3),O=a(w.length),T=0,x=v||s,k=t?x(h,O):r||p?x(h,0):void 0;O>T;T++)if((d||T in w)&&(_=E(g=w[T],T,b),e))if(t)k[T]=_;else if(_)switch(e){case 3:return!0;case 5:return g;case 6:return T;case 2:u.call(k,g)}else switch(e){case 4:return!1;case 7:u.call(k,g)}return f?-1:c||l?l:k}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterOut:c(7)}},function(e,t,r){"use strict";var n=r(5),o=r(37).find,i=r(107),a=r(48),s=!0,u=a("find");"find"in[]&&Array(1).find((function(){s=!1})),n({target:"Array",proto:!0,forced:s||!u},{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i("find")},function(e,t,r){"use strict";(function(e){r.d(t,"e",(function(){return i})),r.d(t,"i",(function(){return a})),r.d(t,"h",(function(){return s})),r.d(t,"d",(function(){return u})),r.d(t,"c",(function(){return c})),r.d(t,"b",(function(){return l})),r.d(t,"a",(function(){return f})),r.d(t,"f",(function(){return p})),r.d(t,"g",(function(){return d}));var n=r(144),o=(r(103),{});function i(){return Object(n.b)()?e:"undefined"!=typeof window?window:"undefined"!=typeof self?self:o}function a(){var e=i(),t=e.crypto||e.msCrypto;if(void 0!==t&&t.getRandomValues){var r=new Uint16Array(8);t.getRandomValues(r),r[3]=4095&r[3]|16384,r[4]=16383&r[4]|32768;var n=function(e){for(var t=e.toString(16);t.length<4;)t="0"+t;return t};return n(r[0])+n(r[1])+n(r[2])+n(r[3])+n(r[4])+n(r[5])+n(r[6])+n(r[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function s(e){if(!e)return{};var t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};var r=t[6]||"",n=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],relative:t[5]+r+n}}function u(e){if(e.message)return e.message;if(e.exception&&e.exception.values&&e.exception.values[0]){var t=e.exception.values[0];return t.type&&t.value?t.type+": "+t.value:t.type||t.value||e.event_id||"<unknown>"}return e.event_id||"<unknown>"}function c(e){var t=i();if(!("console"in t))return e();var r=t.console,n={};["debug","info","warn","error","log","assert"].forEach((function(e){e in t.console&&r[e].__sentry_original__&&(n[e]=r[e],r[e]=r[e].__sentry_original__)}));var o=e();return Object.keys(n).forEach((function(e){r[e]=n[e]})),o}function l(e,t,r){e.exception=e.exception||{},e.exception.values=e.exception.values||[],e.exception.values[0]=e.exception.values[0]||{},e.exception.values[0].value=e.exception.values[0].value||t||"",e.exception.values[0].type=e.exception.values[0].type||r||"Error"}function f(e,t){void 0===t&&(t={});try{e.exception.values[0].mechanism=e.exception.values[0].mechanism||{},Object.keys(t).forEach((function(r){e.exception.values[0].mechanism[r]=t[r]}))}catch(e){}}function p(){try{return document.location.href}catch(e){return""}}function d(e,t){if(!t)return 6e4;var r=parseInt(""+t,10);if(!isNaN(r))return 1e3*r;var n=Date.parse(""+t);return isNaN(n)?6e4:n-e}}).call(this,r(51))},function(e,t,r){var n=r(8),o=r(43),i=r(27),a=r(164),s=r(167),u=r(49),c=u.get,l=u.enforce,f=String(String).split("String");(e.exports=function(e,t,r,s){var u,c=!!s&&!!s.unsafe,p=!!s&&!!s.enumerable,d=!!s&&!!s.noTargetGet;"function"==typeof r&&("string"!=typeof t||i(r,"name")||o(r,"name",t),(u=l(r)).source||(u.source=f.join("string"==typeof t?t:""))),e!==n?(c?!d&&e[t]&&(p=!0):delete e[t],p?e[t]=r:o(e,t,r)):p?e[t]=r:a(t,r)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||s(this)}))},function(e,t,r){"use strict";var n=r(155),o=r(26),i=r(17),a=r(53),s=r(47),u=r(177),c=r(304),l=r(156),f=Math.max,p=Math.min;n("replace",2,(function(e,t,r,n){var d=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,h=n.REPLACE_KEEPS_$0,y=d?"$":"$0";return[function(r,n){var o=s(this),i=null==r?void 0:r[e];return void 0!==i?i.call(r,o,n):t.call(String(o),r,n)},function(e,n){if(!d&&h||"string"==typeof n&&-1===n.indexOf(y)){var s=r(t,e,this,n);if(s.done)return s.value}var m=o(e),v=String(this),g="function"==typeof n;g||(n=String(n));var _=m.global;if(_){var b=m.unicode;m.lastIndex=0}for(var w=[];;){var E=l(m,v);if(null===E)break;if(w.push(E),!_)break;""===String(E[0])&&(m.lastIndex=u(v,i(m.lastIndex),b))}for(var O,T="",x=0,k=0;k<w.length;k++){E=w[k];for(var S=String(E[0]),P=f(p(a(E.index),v.length),0),C=[],A=1;A<E.length;A++)C.push(void 0===(O=E[A])?O:String(O));var R=E.groups;if(g){var j=[S].concat(C,P,v);void 0!==R&&j.push(R);var I=String(n.apply(void 0,j))}else I=c(S,v,P,C,R,n);P>=x&&(T+=v.slice(x,P)+I,x=P+S.length)}return T+v.slice(x)}]}))},function(e,t,r){"use strict";(function(e){r.d(t,"c",(function(){return c})),r.d(t,"f",(function(){return l})),r.d(t,"e",(function(){return d})),r.d(t,"d",(function(){return m})),r.d(t,"b",(function(){return v})),r.d(t,"a",(function(){return g}));var n=r(1),o=r(200),i=r(18),a=r(262),s=r(160),u=r(103);function c(e,t,r){if(t in e){var n=e[t],o=r(n);if("function"==typeof o)try{o.prototype=o.prototype||{},Object.defineProperties(o,{__sentry_original__:{enumerable:!1,value:n}})}catch(e){}e[t]=o}}function l(e){return Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")}function f(e){if(Object(i.d)(e)){var t=e,r={message:t.message,name:t.name,stack:t.stack};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}if(Object(i.f)(e)){var a=e,s={};s.type=a.type;try{s.target=Object(i.c)(a.target)?Object(o.a)(a.target):Object.prototype.toString.call(a.target)}catch(e){s.target="<unknown>"}try{s.currentTarget=Object(i.c)(a.currentTarget)?Object(o.a)(a.currentTarget):Object.prototype.toString.call(a.currentTarget)}catch(e){s.currentTarget="<unknown>"}for(var n in"undefined"!=typeof CustomEvent&&Object(i.g)(e,CustomEvent)&&(s.detail=a.detail),a)Object.prototype.hasOwnProperty.call(a,n)&&(s[n]=a);return s}return e}function p(e){return function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(e))}function d(e,t,r){void 0===t&&(t=3),void 0===r&&(r=102400);var n=m(e,t);return p(n)>r?d(e,t-1,r):n}function h(t,r){return"domain"===r&&t&&"object"==typeof t&&t._events?"[Domain]":"domainEmitter"===r?"[DomainEmitter]":void 0!==e&&t===e?"[Global]":"undefined"!=typeof window&&t===window?"[Window]":"undefined"!=typeof document&&t===document?"[Document]":Object(i.l)(t)?"[SyntheticEvent]":"number"==typeof t&&t!=t?"[NaN]":void 0===t?"[undefined]":"function"==typeof t?"[Function: "+Object(s.a)(t)+"]":"symbol"==typeof t?"["+String(t)+"]":"bigint"==typeof t?"[BigInt: "+String(t)+"]":t}function y(e,t,r,n){if(void 0===r&&(r=1/0),void 0===n&&(n=new a.a),0===r)return function(e){var t=Object.prototype.toString.call(e);if("string"==typeof e)return e;if("[object Object]"===t)return"[Object]";if("[object Array]"===t)return"[Array]";var r=h(e);return Object(i.i)(r)?r:t}(t);if(null!=t&&"function"==typeof t.toJSON)return t.toJSON();var o=h(t,e);if(Object(i.i)(o))return o;var s=f(t),u=Array.isArray(t)?[]:{};if(n.memoize(t))return"[Circular ~]";for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(u[c]=y(c,s[c],r-1,n));return n.unmemoize(t),u}function m(e,t){try{return JSON.parse(JSON.stringify(e,(function(e,r){return y(e,r,t)})))}catch(e){return"**non-serializable**"}}function v(e,t){void 0===t&&(t=40);var r=Object.keys(f(e));if(r.sort(),!r.length)return"[object has no keys]";if(r[0].length>=t)return Object(u.d)(r[0],t);for(var n=r.length;n>0;n--){var o=r.slice(0,n).join(", ");if(!(o.length>t))return n===r.length?o:Object(u.d)(o,t)}return""}function g(e){var t,r;if(Object(i.h)(e)){var o=e,a={};try{for(var s=Object(n.f)(Object.keys(o)),u=s.next();!u.done;u=s.next()){var c=u.value;void 0!==o[c]&&(a[c]=g(o[c]))}}catch(e){t={error:e}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return a}return Array.isArray(e)?e.map(g):e}}).call(this,r(51))},function(e,t,r){var n=r(25),o=r(28),i=r(92);e.exports=n?function(e,t,r){return o.f(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t,r){var n=r(25),o=r(28).f,i=Function.prototype,a=i.toString,s=/^\s*function ([^ (]*)/;n&&!("name"in i)&&o(i,"name",{configurable:!0,get:function(){try{return a.call(this).match(s)[1]}catch(e){return""}}})},function(e,t,r){"use strict";var n=r(5),o=r(37).filter,i=r(131),a=r(48),s=i("filter"),u=a("filter");n({target:"Array",proto:!0,forced:!s||!u},{filter:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,r){"use strict";var n=r(155),o=r(175),i=r(26),a=r(47),s=r(106),u=r(177),c=r(17),l=r(156),f=r(154),p=r(6),d=[].push,h=Math.min,y=!p((function(){return!RegExp(4294967295,"y")}));n("split",2,(function(e,t,r){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,r){var n=String(a(this)),i=void 0===r?4294967295:r>>>0;if(0===i)return[];if(void 0===e)return[n];if(!o(e))return t.call(n,e,i);for(var s,u,c,l=[],p=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),h=0,y=new RegExp(e.source,p+"g");(s=f.call(y,n))&&!((u=y.lastIndex)>h&&(l.push(n.slice(h,s.index)),s.length>1&&s.index<n.length&&d.apply(l,s.slice(1)),c=s[0].length,h=u,l.length>=i));)y.lastIndex===s.index&&y.lastIndex++;return h===n.length?!c&&y.test("")||l.push(""):l.push(n.slice(h)),l.length>i?l.slice(0,i):l}:"0".split(void 0,0).length?function(e,r){return void 0===e&&0===r?[]:t.call(this,e,r)}:t,[function(t,r){var o=a(this),i=null==t?void 0:t[e];return void 0!==i?i.call(t,o,r):n.call(String(o),t,r)},function(e,o){var a=r(n,e,this,o,n!==t);if(a.done)return a.value;var f=i(e),p=String(this),d=s(f,RegExp),m=f.unicode,v=(f.ignoreCase?"i":"")+(f.multiline?"m":"")+(f.unicode?"u":"")+(y?"y":"g"),g=new d(y?f:"^(?:"+f.source+")",v),_=void 0===o?4294967295:o>>>0;if(0===_)return[];if(0===p.length)return null===l(g,p)?[p]:[];for(var b=0,w=0,E=[];w<p.length;){g.lastIndex=y?w:0;var O,T=l(g,y?p:p.slice(w));if(null===T||(O=h(c(g.lastIndex+(y?0:w)),p.length))===b)w=u(p,w,m);else{if(E.push(p.slice(b,w)),E.length===_)return E;for(var x=1;x<=T.length-1;x++)if(E.push(T[x]),E.length===_)return E;w=b=O}}return E.push(p.slice(b)),E}]}),!y)},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},function(e,t,r){var n=r(25),o=r(6),i=r(27),a=Object.defineProperty,s={},u=function(e){throw e};e.exports=function(e,t){if(i(s,e))return s[e];t||(t={});var r=[][e],c=!!i(t,"ACCESSORS")&&t.ACCESSORS,l=i(t,0)?t[0]:u,f=i(t,1)?t[1]:void 0;return s[e]=!!r&&!o((function(){if(c&&!n)return!0;var e={length:-1};c?a(e,1,{enumerable:!0,get:u}):e[1]=1,r.call(e,l,f)}))}},function(e,t,r){var n,o,i,a=r(295),s=r(8),u=r(21),c=r(43),l=r(27),f=r(163),p=r(145),d=r(122),h=s.WeakMap;if(a){var y=f.state||(f.state=new h),m=y.get,v=y.has,g=y.set;n=function(e,t){return t.facade=e,g.call(y,e,t),t},o=function(e){return m.call(y,e)||{}},i=function(e){return v.call(y,e)}}else{var _=p("state");d[_]=!0,n=function(e,t){return t.facade=e,c(e,_,t),t},o=function(e){return l(e,_)?e[_]:{}},i=function(e){return l(e,_)}}e.exports={set:n,get:o,has:i,enforce:function(e){return i(e)?o(e):n(e,{})},getterFor:function(e){return function(t){var r;if(!u(t)||(r=o(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return r}}}},function(e,t,r){"use strict";var n=r(5),o=r(125).indexOf,i=r(111),a=r(48),s=[].indexOf,u=!!s&&1/[1].indexOf(1,-0)<0,c=i("indexOf"),l=a("indexOf",{ACCESSORS:!0,1:0});n({target:"Array",proto:!0,forced:u||!c||!l},{indexOf:function(e){return u?s.apply(this,arguments)||0:o(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){var n=r(124),o=r(47);e.exports=function(e){return n(o(e))}},function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},function(e,t,r){"use strict";var n=r(13),o=r(309),i=n.aTypedArray;(0,n.exportTypedArrayMethod)("copyWithin",(function(e,t){return o.call(i(this),e,t,arguments.length>2?arguments[2]:void 0)}))},function(e,t,r){"use strict";var n=r(13),o=r(37).every,i=n.aTypedArray;(0,n.exportTypedArrayMethod)("every",(function(e){return o(i(this),e,arguments.length>1?arguments[1]:void 0)}))},function(e,t,r){"use strict";var n=r(13),o=r(181),i=n.aTypedArray;(0,n.exportTypedArrayMethod)("fill",(function(e){return o.apply(i(this),arguments)}))},function(e,t,r){"use strict";var n=r(13),o=r(37).filter,i=r(106),a=n.aTypedArray,s=n.aTypedArrayConstructor;(0,n.exportTypedArrayMethod)("filter",(function(e){for(var t=o(a(this),e,arguments.length>1?arguments[1]:void 0),r=i(this,this.constructor),n=0,u=t.length,c=new(s(r))(u);u>n;)c[n]=t[n++];return c}))},function(e,t,r){"use strict";var n=r(13),o=r(37).find,i=n.aTypedArray;(0,n.exportTypedArrayMethod)("find",(function(e){return o(i(this),e,arguments.length>1?arguments[1]:void 0)}))},function(e,t,r){"use strict";var n=r(13),o=r(37).findIndex,i=n.aTypedArray;(0,n.exportTypedArrayMethod)("findIndex",(function(e){return o(i(this),e,arguments.length>1?arguments[1]:void 0)}))},function(e,t,r){"use strict";var n=r(13),o=r(37).forEach,i=n.aTypedArray;(0,n.exportTypedArrayMethod)("forEach",(function(e){o(i(this),e,arguments.length>1?arguments[1]:void 0)}))},function(e,t,r){"use strict";var n=r(13),o=r(125).includes,i=n.aTypedArray;(0,n.exportTypedArrayMethod)("includes",(function(e){return o(i(this),e,arguments.length>1?arguments[1]:void 0)}))},function(e,t,r){"use strict";var n=r(13),o=r(125).indexOf,i=n.aTypedArray;(0,n.exportTypedArrayMethod)("indexOf",(function(e){return o(i(this),e,arguments.length>1?arguments[1]:void 0)}))},function(e,t,r){"use strict";var n=r(8),o=r(13),i=r(9),a=r(11)("iterator"),s=n.Uint8Array,u=i.values,c=i.keys,l=i.entries,f=o.aTypedArray,p=o.exportTypedArrayMethod,d=s&&s.prototype[a],h=!!d&&("values"==d.name||null==d.name),y=function(){return u.call(f(this))};p("entries",(function(){return l.call(f(this))})),p("keys",(function(){return c.call(f(this))})),p("values",y,!h),p(a,y,!h)},function(e,t,r){"use strict";var n=r(13),o=n.aTypedArray,i=n.exportTypedArrayMethod,a=[].join;i("join",(function(e){return a.apply(o(this),arguments)}))},function(e,t,r){"use strict";var n=r(13),o=r(310),i=n.aTypedArray;(0,n.exportTypedArrayMethod)("lastIndexOf",(function(e){return o.apply(i(this),arguments)}))},function(e,t,r){"use strict";var n=r(13),o=r(37).map,i=r(106),a=n.aTypedArray,s=n.aTypedArrayConstructor;(0,n.exportTypedArrayMethod)("map",(function(e){return o(a(this),e,arguments.length>1?arguments[1]:void 0,(function(e,t){return new(s(i(e,e.constructor)))(t)}))}))},function(e,t,r){"use strict";var n=r(13),o=r(182).left,i=n.aTypedArray;(0,n.exportTypedArrayMethod)("reduce",(function(e){return o(i(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)}))},function(e,t,r){"use strict";var n=r(13),o=r(182).right,i=n.aTypedArray;(0,n.exportTypedArrayMethod)("reduceRight",(function(e){return o(i(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)}))},function(e,t,r){"use strict";var n=r(13),o=n.aTypedArray,i=n.exportTypedArrayMethod,a=Math.floor;i("reverse",(function(){for(var e,t=o(this).length,r=a(t/2),n=0;n<r;)e=this[n],this[n++]=this[--t],this[t]=e;return this}))},function(e,t,r){"use strict";var n=r(13),o=r(17),i=r(226),a=r(34),s=r(6),u=n.aTypedArray;(0,n.exportTypedArrayMethod)("set",(function(e){u(this);var t=i(arguments.length>1?arguments[1]:void 0,1),r=this.length,n=a(e),s=o(n.length),c=0;if(s+t>r)throw RangeError("Wrong length");for(;c<s;)this[t+c]=n[c++]}),s((function(){new Int8Array(1).set({})})))},function(e,t,r){"use strict";var n=r(13),o=r(106),i=r(6),a=n.aTypedArray,s=n.aTypedArrayConstructor,u=n.exportTypedArrayMethod,c=[].slice;u("slice",(function(e,t){for(var r=c.call(a(this),e,t),n=o(this,this.constructor),i=0,u=r.length,l=new(s(n))(u);u>i;)l[i]=r[i++];return l}),i((function(){new Int8Array(1).slice()})))},function(e,t,r){"use strict";var n=r(13),o=r(37).some,i=n.aTypedArray;(0,n.exportTypedArrayMethod)("some",(function(e){return o(i(this),e,arguments.length>1?arguments[1]:void 0)}))},function(e,t,r){"use strict";var n=r(13),o=n.aTypedArray,i=n.exportTypedArrayMethod,a=[].sort;i("sort",(function(e){return a.call(o(this),e)}))},function(e,t,r){"use strict";var n=r(13),o=r(17),i=r(105),a=r(106),s=n.aTypedArray;(0,n.exportTypedArrayMethod)("subarray",(function(e,t){var r=s(this),n=r.length,u=i(e,n);return new(a(r,r.constructor))(r.buffer,r.byteOffset+u*r.BYTES_PER_ELEMENT,o((void 0===t?n:i(t,n))-u))}))},function(e,t,r){"use strict";var n=r(8),o=r(13),i=r(6),a=n.Int8Array,s=o.aTypedArray,u=o.exportTypedArrayMethod,c=[].toLocaleString,l=[].slice,f=!!a&&i((function(){c.call(new a(1))}));u("toLocaleString",(function(){return c.apply(f?l.call(s(this)):s(this),arguments)}),i((function(){return[1,2].toLocaleString()!=new a([1,2]).toLocaleString()}))||!i((function(){a.prototype.toLocaleString.call([1,2])})))},function(e,t,r){"use strict";var n=r(13).exportTypedArrayMethod,o=r(6),i=r(8).Uint8Array,a=i&&i.prototype||{},s=[].toString,u=[].join;o((function(){s.call({})}))&&(s=function(){return u.call(this)});var c=a.toString!=s;n("toString",s,c)},function(e,t,r){"use strict";e.exports=a;var n=r(112);((a.prototype=Object.create(n.prototype)).constructor=a).className="Enum";var o=r(137),i=r(33);function a(e,t,r,o,i){if(n.call(this,e,r),t&&"object"!=typeof t)throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=o,this.comments=i||{},this.reserved=void 0,t)for(var a=Object.keys(t),s=0;s<a.length;++s)"number"==typeof t[a[s]]&&(this.valuesById[this.values[a[s]]=t[a[s]]]=a[s])}a.fromJSON=function(e,t){var r=new a(e,t.values,t.options,t.comment,t.comments);return r.reserved=t.reserved,r},a.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return i.toObject(["options",this.options,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",t?this.comment:void 0,"comments",t?this.comments:void 0])},a.prototype.add=function(e,t,r){if(!i.isString(e))throw TypeError("name must be a string");if(!i.isInteger(t))throw TypeError("id must be an integer");if(void 0!==this.values[e])throw Error("duplicate name '"+e+"' in "+this);if(this.isReservedId(t))throw Error("id "+t+" is reserved in "+this);if(this.isReservedName(e))throw Error("name '"+e+"' is reserved in "+this);if(void 0!==this.valuesById[t]){if(!this.options||!this.options.allow_alias)throw Error("duplicate id "+t+" in "+this);this.values[e]=t}else this.valuesById[this.values[e]=t]=e;return this.comments[e]=r||null,this},a.prototype.remove=function(e){if(!i.isString(e))throw TypeError("name must be a string");var t=this.values[e];if(null==t)throw Error("name '"+e+"' does not exist in "+this);return delete this.valuesById[t],delete this.values[e],delete this.comments[e],this},a.prototype.isReservedId=function(e){return o.isReservedId(this.reserved,e)},a.prototype.isReservedName=function(e){return o.isReservedName(this.reserved,e)}},function(e,t,r){"use strict";var n=r(5),o=r(182).left,i=r(111),a=r(48),s=r(151),u=r(150),c=i("reduce"),l=a("reduce",{1:0});n({target:"Array",proto:!0,forced:!c||!l||!u&&s>79&&s<83},{reduce:function(e){return o(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(e,t,r){"use strict";var n=r(5),o=r(37).some,i=r(111),a=r(48),s=i("some"),u=a("some");n({target:"Array",proto:!0,forced:!s||!u},{some:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,r){"use strict";var n=r(25),o=r(8),i=r(126),a=r(40),s=r(27),u=r(93),c=r(157),l=r(104),f=r(6),p=r(97),d=r(95).f,h=r(86).f,y=r(28).f,m=r(221).trim,v=o.Number,g=v.prototype,_="Number"==u(p(g)),b=function(e){var t,r,n,o,i,a,s,u,c=l(e,!1);if("string"==typeof c&&c.length>2)if(43===(t=(c=m(c)).charCodeAt(0))||45===t){if(88===(r=c.charCodeAt(2))||120===r)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:n=2,o=49;break;case 79:case 111:n=8,o=55;break;default:return+c}for(a=(i=c.slice(2)).length,s=0;s<a;s++)if((u=i.charCodeAt(s))<48||u>o)return NaN;return parseInt(i,n)}return+c};if(i("Number",!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var w,E=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof E&&(_?f((function(){g.valueOf.call(r)})):"Number"!=u(r))?c(new v(b(t)),r,E):b(t)},O=n?d(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),T=0;O.length>T;T++)s(v,w=O[T])&&!s(E,w)&&y(E,w,h(v,w));E.prototype=g,g.constructor=E,a(o,"Number",E)}},function(e,t,r){"use strict";(function(e){var n=t;function o(e,t,r){for(var n=Object.keys(t),o=0;o<n.length;++o)void 0!==e[n[o]]&&r||(e[n[o]]=t[n[o]]);return e}function i(e){function t(e,r){if(!(this instanceof t))return new t(e,r);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),r&&o(this,r)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}n.asPromise=r(228),n.base64=r(314),n.EventEmitter=r(315),n.float=r(316),n.inquire=r(229),n.utf8=r(317),n.pool=r(318),n.LongBits=r(319),n.isNode=Boolean(void 0!==e&&e&&e.process&&e.process.versions&&e.process.versions.node),n.global=n.isNode&&e||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,n.emptyArray=Object.freeze?Object.freeze([]):[],n.emptyObject=Object.freeze?Object.freeze({}):{},n.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},n.isString=function(e){return"string"==typeof e||e instanceof String},n.isObject=function(e){return e&&"object"==typeof e},n.isset=n.isSet=function(e,t){var r=e[t];return!(null==r||!e.hasOwnProperty(t))&&("object"!=typeof r||(Array.isArray(r)?r.length:Object.keys(r).length)>0)},n.Buffer=function(){try{var e=n.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),n._Buffer_from=null,n._Buffer_allocUnsafe=null,n.newBuffer=function(e){return"number"==typeof e?n.Buffer?n._Buffer_allocUnsafe(e):new n.Array(e):n.Buffer?n._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},n.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,n.Long=n.global.dcodeIO&&n.global.dcodeIO.Long||n.global.Long||n.inquire("long"),n.key2Re=/^true|false|0|1$/,n.key32Re=/^-?(?:0|[1-9][0-9]*)$/,n.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,n.longToHash=function(e){return e?n.LongBits.from(e).toHash():n.LongBits.zeroHash},n.longFromHash=function(e,t){var r=n.LongBits.fromHash(e);return n.Long?n.Long.fromBits(r.lo,r.hi,t):r.toNumber(Boolean(t))},n.merge=o,n.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},n.newError=i,n.ProtocolError=i("ProtocolError"),n.oneOfGetter=function(e){for(var t={},r=0;r<e.length;++r)t[e[r]]=1;return function(){for(var e=Object.keys(this),r=e.length-1;r>-1;--r)if(1===t[e[r]]&&void 0!==this[e[r]]&&null!==this[e[r]])return e[r]}},n.oneOfSetter=function(e){return function(t){for(var r=0;r<e.length;++r)e[r]!==t&&delete this[e[r]]}},n.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},n._configure=function(){var e=n.Buffer;e?(n._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,r){return new e(t,r)},n._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):n._Buffer_from=n._Buffer_allocUnsafe=null}}).call(this,r(51))},function(e,t,r){var n=r(5),o=r(181),i=r(107);n({target:"Array",proto:!0},{fill:o}),i("fill")},function(e,t,r){r(158)("Float32",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return me})),r.d(t,"c",(function(){return Re}));var n=r(117),o=r(0),i=r.n(o),a=r(23),s=r.n(a),u=r(283),c=r(284),l=r(202),f=r(118),p=r.n(f);function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var h=function(e,t){for(var r=[e[0]],n=0,o=t.length;n<o;n+=1)r.push(t[n],e[n+1]);return r},y=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!Object(n.typeOf)(e)},m=Object.freeze([]),v=Object.freeze({});function g(e){return"function"==typeof e}function _(e){return e.displayName||e.name||"Component"}function b(e){return e&&"string"==typeof e.styledComponentId}var w=void 0!==e&&(e.env.REACT_APP_SC_ATTR||e.env.SC_ATTR)||"data-styled",E="undefined"!=typeof window&&"HTMLElement"in window,O=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:void 0!==e&&void 0!==e.env.REACT_APP_SC_DISABLE_SPEEDY&&""!==e.env.REACT_APP_SC_DISABLE_SPEEDY?"false"!==e.env.REACT_APP_SC_DISABLE_SPEEDY&&e.env.REACT_APP_SC_DISABLE_SPEEDY:void 0!==e&&void 0!==e.env.SC_DISABLE_SPEEDY&&""!==e.env.SC_DISABLE_SPEEDY&&("false"!==e.env.SC_DISABLE_SPEEDY&&e.env.SC_DISABLE_SPEEDY));function T(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(r.length>0?" Args: "+r.join(", "):""))}var x=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,r=0;r<e;r++)t+=this.groupSizes[r];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var r=this.groupSizes,n=r.length,o=n;e>=o;)(o<<=1)<0&&T(16,""+e);this.groupSizes=new Uint32Array(o),this.groupSizes.set(r),this.length=o;for(var i=n;i<o;i++)this.groupSizes[i]=0}for(var a=this.indexOfGroup(e+1),s=0,u=t.length;s<u;s++)this.tag.insertRule(a,t[s])&&(this.groupSizes[e]++,a++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],r=this.indexOfGroup(e),n=r+t;this.groupSizes[e]=0;for(var o=r;o<n;o++)this.tag.deleteRule(r)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var r=this.groupSizes[e],n=this.indexOfGroup(e),o=n+r,i=n;i<o;i++)t+=this.tag.getRule(i)+"/*!sc*/\n";return t},e}(),k=new Map,S=new Map,P=1,C=function(e){if(k.has(e))return k.get(e);for(;S.has(P);)P++;var t=P++;return k.set(e,t),S.set(t,e),t},A=function(e){return S.get(e)},R=function(e,t){k.set(e,t),S.set(t,e)},j="style["+w+'][data-styled-version="5.2.1"]',I=new RegExp("^"+w+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),D=function(e,t,r){for(var n,o=r.split(","),i=0,a=o.length;i<a;i++)(n=o[i])&&e.registerName(t,n)},M=function(e,t){for(var r=t.innerHTML.split("/*!sc*/\n"),n=[],o=0,i=r.length;o<i;o++){var a=r[o].trim();if(a){var s=a.match(I);if(s){var u=0|parseInt(s[1],10),c=s[2];0!==u&&(R(c,u),D(e,c,s[3]),e.getTag().insertRules(u,n)),n.length=0}else n.push(a)}}},L=function(){return r.nc},N=function(e){var t=document.head,r=e||t,n=document.createElement("style"),o=function(e){for(var t=e.childNodes,r=t.length;r>=0;r--){var n=t[r];if(n&&1===n.nodeType&&n.hasAttribute(w))return n}}(r),i=void 0!==o?o.nextSibling:null;n.setAttribute(w,"active"),n.setAttribute("data-styled-version","5.2.1");var a=L();return a&&n.setAttribute("nonce",a),r.insertBefore(n,i),n},B=function(){function e(e){var t=this.element=N(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,r=0,n=t.length;r<n;r++){var o=t[r];if(o.ownerNode===e)return o}T(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),F=function(){function e(e){var t=this.element=N(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var r=document.createTextNode(t),n=this.nodes[e];return this.element.insertBefore(r,n||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),U=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),W=E,z={isServer:!E,useCSSOMInjection:!O},H=function(){function e(e,t,r){void 0===e&&(e=v),void 0===t&&(t={}),this.options=d({},z,{},e),this.gs=t,this.names=new Map(r),!this.options.isServer&&E&&W&&(W=!1,function(e){for(var t=document.querySelectorAll(j),r=0,n=t.length;r<n;r++){var o=t[r];o&&"active"!==o.getAttribute(w)&&(M(e,o),o.parentNode&&o.parentNode.removeChild(o))}}(this))}e.registerId=function(e){return C(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,r){return void 0===r&&(r=!0),new e(d({},this.options,{},t),this.gs,r&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(r=(t=this.options).isServer,n=t.useCSSOMInjection,o=t.target,e=r?new U(o):n?new B(o):new F(o),new x(e)));var e,t,r,n,o},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(C(e),this.names.has(e))this.names.get(e).add(t);else{var r=new Set;r.add(t),this.names.set(e,r)}},t.insertRules=function(e,t,r){this.registerName(e,t),this.getTag().insertRules(C(e),r)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(C(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),r=t.length,n="",o=0;o<r;o++){var i=A(o);if(void 0!==i){var a=e.names.get(i),s=t.getGroup(o);if(void 0!==a&&0!==s.length){var u=w+".g"+o+'[id="'+i+'"]',c="";void 0!==a&&a.forEach((function(e){e.length>0&&(c+=e+",")})),n+=""+s+u+'{content:"'+c+'"}/*!sc*/\n'}}}return n}(this)},e}(),V=/(a)(d)/gi,G=function(e){return String.fromCharCode(e+(e>25?39:97))};function q(e){var t,r="";for(t=Math.abs(e);t>52;t=t/52|0)r=G(t%52)+r;return(G(t%52)+r).replace(V,"$1-$2")}var $=function(e,t){for(var r=t.length;r;)e=33*e^t.charCodeAt(--r);return e},K=function(e){return $(5381,e)};function Y(e){for(var t=0;t<e.length;t+=1){var r=e[t];if(g(r)&&!b(r))return!1}return!0}var X=K("5.2.1"),Z=function(){function e(e,t,r){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===r||r.isStatic)&&Y(e),this.componentId=t,this.baseHash=$(X,t),this.baseStyle=r,H.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,r){var n=this.componentId,o=[];if(this.baseStyle&&o.push(this.baseStyle.generateAndInjectStyles(e,t,r)),this.isStatic&&!r.hash)if(this.staticRulesId&&t.hasNameForId(n,this.staticRulesId))o.push(this.staticRulesId);else{var i=ye(this.rules,e,t,r).join(""),a=q($(this.baseHash,i.length)>>>0);if(!t.hasNameForId(n,a)){var s=r(i,"."+a,void 0,n);t.insertRules(n,a,s)}o.push(a),this.staticRulesId=a}else{for(var u=this.rules.length,c=$(this.baseHash,r.hash),l="",f=0;f<u;f++){var p=this.rules[f];if("string"==typeof p)l+=p;else if(p){var d=ye(p,e,t,r),h=Array.isArray(d)?d.join(""):d;c=$(c,h+f),l+=h}}if(l){var y=q(c>>>0);if(!t.hasNameForId(n,y)){var m=r(l,"."+y,void 0,n);t.insertRules(n,y,m)}o.push(y)}}return o.join(" ")},e}(),J=/^\s*\/\/.*$/gm,Q=[":","[",".","#"];function ee(e){var t,r,n,o,i=void 0===e?v:e,a=i.options,s=void 0===a?v:a,c=i.plugins,l=void 0===c?m:c,f=new u.a(s),p=[],d=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(r,n,o,i,a,s,u,c,l,f){switch(r){case 1:if(0===l&&64===n.charCodeAt(0))return e(n+";"),"";break;case 2:if(0===c)return n+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(o[0]+n),"";default:return n+(0===f?"/*|*/":"")}case-2:n.split("/*|*/}").forEach(t)}}}((function(e){p.push(e)})),h=function(e,n,i){return 0===n&&Q.includes(i[r.length])||i.match(o)?e:"."+t};function y(e,i,a,s){void 0===s&&(s="&");var u=e.replace(J,""),c=i&&a?a+" "+i+" { "+u+" }":u;return t=s,r=i,n=new RegExp("\\"+r+"\\b","g"),o=new RegExp("(\\"+r+"\\b){2,}"),f(a||!i?"":i,c)}return f.use([].concat(l,[function(e,t,o){2===e&&o.length&&o[0].lastIndexOf(r)>0&&(o[0]=o[0].replace(n,h))},d,function(e){if(-2===e){var t=p;return p=[],t}}])),y.hash=l.length?l.reduce((function(e,t){return t.name||T(15),$(e,t.name)}),5381).toString():"",y}var te=i.a.createContext(),re=(te.Consumer,i.a.createContext()),ne=(re.Consumer,new H),oe=ee();function ie(){return Object(o.useContext)(te)||ne}function ae(){return Object(o.useContext)(re)||oe}function se(e){var t=Object(o.useState)(e.stylisPlugins),r=t[0],n=t[1],a=ie(),u=Object(o.useMemo)((function(){var t=a;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),c=Object(o.useMemo)((function(){return ee({options:{prefix:!e.disableVendorPrefixes},plugins:r})}),[e.disableVendorPrefixes,r]);return Object(o.useEffect)((function(){s()(r,e.stylisPlugins)||n(e.stylisPlugins)}),[e.stylisPlugins]),i.a.createElement(te.Provider,{value:u},i.a.createElement(re.Provider,{value:c},e.children))}var ue=function(){function e(e,t){var r=this;this.inject=function(e,t){void 0===t&&(t=oe);var n=r.name+t.hash;e.hasNameForId(r.id,n)||e.insertRules(r.id,n,t(r.rules,n,"@keyframes"))},this.toString=function(){return T(12,String(r.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=oe),this.name+e.hash},e}(),ce=/([A-Z])/,le=/([A-Z])/g,fe=/^ms-/,pe=function(e){return"-"+e.toLowerCase()};function de(e){return ce.test(e)?e.replace(le,pe).replace(fe,"-ms-"):e}var he=function(e){return null==e||!1===e||""===e};function ye(e,t,r,n){if(Array.isArray(e)){for(var o,i=[],a=0,s=e.length;a<s;a+=1)""!==(o=ye(e[a],t,r,n))&&(Array.isArray(o)?i.push.apply(i,o):i.push(o));return i}return he(e)?"":b(e)?"."+e.styledComponentId:g(e)?"function"!=typeof(u=e)||u.prototype&&u.prototype.isReactComponent||!t?e:ye(e(t),t,r,n):e instanceof ue?r?(e.inject(r,n),e.getName(n)):e:y(e)?function e(t,r){var n,o,i=[];for(var a in t)t.hasOwnProperty(a)&&!he(t[a])&&(y(t[a])?i.push.apply(i,e(t[a],a)):g(t[a])?i.push(de(a)+":",t[a],";"):i.push(de(a)+": "+(n=a,(null==(o=t[a])||"boolean"==typeof o||""===o?"":"number"!=typeof o||0===o||n in c.a?String(o).trim():o+"px")+";")));return r?[r+" {"].concat(i,["}"]):i}(e):e.toString();var u}function me(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return g(e)||y(e)?ye(h(m,[e].concat(r))):0===r.length&&1===e.length&&"string"==typeof e[0]?e:ye(h(e,r))}new Set;var ve=function(e,t,r){return void 0===r&&(r=v),e.theme!==r.theme&&e.theme||t||r.theme},ge=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,_e=/(^-|-$)/g;function be(e){return e.replace(ge,"-").replace(_e,"")}var we=function(e){return q(K(e)>>>0)};function Ee(e){return"string"==typeof e&&!0}var Oe=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},Te=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function xe(e,t,r){var n=e[r];Oe(t)&&Oe(n)?ke(n,t):e[r]=t}function ke(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];for(var o=0,i=r;o<i.length;o++){var a=i[o];if(Oe(a))for(var s in a)Te(s)&&xe(e,a[s],s)}return e}var Se=i.a.createContext();Se.Consumer;var Pe={};function Ce(e,t,r){var n=b(e),a=!Ee(e),s=t.attrs,u=void 0===s?m:s,c=t.componentId,f=void 0===c?function(e,t){var r="string"!=typeof e?"sc":be(e);Pe[r]=(Pe[r]||0)+1;var n=r+"-"+we("5.2.1"+r+Pe[r]);return t?t+"-"+n:n}(t.displayName,t.parentComponentId):c,h=t.displayName,y=void 0===h?function(e){return Ee(e)?"styled."+e:"Styled("+_(e)+")"}(e):h,w=t.displayName&&t.componentId?be(t.displayName)+"-"+t.componentId:t.componentId||f,E=n&&e.attrs?Array.prototype.concat(e.attrs,u).filter(Boolean):u,O=t.shouldForwardProp;n&&e.shouldForwardProp&&(O=t.shouldForwardProp?function(r,n){return e.shouldForwardProp(r,n)&&t.shouldForwardProp(r,n)}:e.shouldForwardProp);var T,x=new Z(r,w,n?e.componentStyle:void 0),k=x.isStatic&&0===u.length,S=function(e,t){return function(e,t,r,n){var i=e.attrs,a=e.componentStyle,s=e.defaultProps,u=e.foldedComponentIds,c=e.shouldForwardProp,f=e.styledComponentId,p=e.target,h=function(e,t,r){void 0===e&&(e=v);var n=d({},t,{theme:e}),o={};return r.forEach((function(e){var t,r,i,a=e;for(t in g(a)&&(a=a(n)),a)n[t]=o[t]="className"===t?(r=o[t],i=a[t],r&&i?r+" "+i:r||i):a[t]})),[n,o]}(ve(t,Object(o.useContext)(Se),s)||v,t,i),y=h[0],m=h[1],_=function(e,t,r,n){var o=ie(),i=ae();return t?e.generateAndInjectStyles(v,o,i):e.generateAndInjectStyles(r,o,i)}(a,n,y),b=r,w=m.$as||t.$as||m.as||t.as||p,E=Ee(w),O=m!==t?d({},t,{},m):t,T={};for(var x in O)"$"!==x[0]&&"as"!==x&&("forwardedAs"===x?T.as=O[x]:(c?c(x,l.a):!E||Object(l.a)(x))&&(T[x]=O[x]));return t.style&&m.style!==t.style&&(T.style=d({},t.style,{},m.style)),T.className=Array.prototype.concat(u,f,_!==f?_:null,t.className,m.className).filter(Boolean).join(" "),T.ref=b,Object(o.createElement)(w,T)}(T,e,t,k)};return S.displayName=y,(T=i.a.forwardRef(S)).attrs=E,T.componentStyle=x,T.displayName=y,T.shouldForwardProp=O,T.foldedComponentIds=n?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):m,T.styledComponentId=w,T.target=n?e.target:e,T.withComponent=function(e){var n=t.componentId,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(t,["componentId"]),i=n&&n+"-"+(Ee(e)?e:be(_(e)));return Ce(e,d({},o,{attrs:E,componentId:i}),r)},Object.defineProperty(T,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=n?ke({},e.defaultProps,t):t}}),T.toString=function(){return"."+T.styledComponentId},a&&p()(T,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),T}var Ae=function(e){return function e(t,r,o){if(void 0===o&&(o=v),!Object(n.isValidElementType)(r))return T(1,String(r));var i=function(){return t(r,o,me.apply(void 0,arguments))};return i.withConfig=function(n){return e(t,r,d({},o,{},n))},i.attrs=function(n){return e(t,r,d({},o,{attrs:Array.prototype.concat(o.attrs,n).filter(Boolean)}))},i}(Ce,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){Ae[e]=Ae(e)}));!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=Y(e),H.registerId(this.componentId+1)}var t=e.prototype;t.createStyles=function(e,t,r,n){var o=n(ye(this.rules,t,r,n).join(""),""),i=this.componentId+e;r.insertRules(i,i,o)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,r,n){e>2&&H.registerId(this.componentId+e),this.removeStyles(e,r),this.createStyles(e,t,r,n)}}();function Re(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var o=me.apply(void 0,[e].concat(r)).join(""),i=we(o);return new ue(i,o)}!function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString(),r=L();return"<style "+[r&&'nonce="'+r+'"',w+'="true"','data-styled-version="5.2.1"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?T(2):e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)return T(2);var r=((t={})[w]="",t["data-styled-version"]="5.2.1",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),n=L();return n&&(r.nonce=n),[i.a.createElement("style",d({},r,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new H({isServer:!0}),this.sealed=!1}var t=e.prototype;t.collectStyles=function(e){return this.sealed?T(2):i.a.createElement(se,{sheet:this.instance},e)},t.interleaveWithNodeStream=function(e){return T(3)}}();t.b=Ae}).call(this,r(138))},function(e,t){e.exports=!1},function(e,t,r){var n=r(25),o=r(146),i=r(92),a=r(52),s=r(104),u=r(27),c=r(203),l=Object.getOwnPropertyDescriptor;t.f=n?l:function(e,t){if(e=a(e),t=s(t,!0),c)try{return l(e,t)}catch(e){}if(u(e,t))return i(!o.f.call(e,t),e[t])}},function(e,t,r){var n=r(28).f,o=r(27),i=r(11)("toStringTag");e.exports=function(e,t,r){e&&!o(e=r?e:e.prototype,i)&&n(e,i,{configurable:!0,value:t})}},function(e,t,r){var n=r(127);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 0:return function(){return e.call(t)};case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,o){return e.call(t,r,n,o)}}return function(){return e.apply(t,arguments)}}},function(e,t,r){"use strict";var n=SyntaxError,o=Function,i=TypeError,a=function(e){try{return Function('"use strict"; return ('+e+").constructor;")()}catch(e){}},s=Object.getOwnPropertyDescriptor;if(s)try{s({},"")}catch(e){s=null}var u=function(){throw new i},c=s?function(){try{return u}catch(e){try{return s(arguments,"callee").get}catch(e){return u}}}():u,l=r(197)(),f=Object.getPrototypeOf||function(e){return e.__proto__},p=a("async function* () {}"),d=p?p.prototype:void 0,h=d?d.prototype:void 0,y="undefined"==typeof Uint8Array?void 0:f(Uint8Array),m={"%AggregateError%":"undefined"==typeof AggregateError?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":l?f([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":a("async function () {}"),"%AsyncGenerator%":d,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":h?f(h):void 0,"%Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"%BigInt%":"undefined"==typeof BigInt?void 0:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?void 0:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":a("function* () {}"),"%Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":l?f(f([][Symbol.iterator]())):void 0,"%JSON%":"object"==typeof JSON?JSON:void 0,"%Map%":"undefined"==typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&l?f((new Map)[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?void 0:Promise,"%Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&l?f((new Set)[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":l?f(""[Symbol.iterator]()):void 0,"%Symbol%":l?Symbol:void 0,"%SyntaxError%":n,"%ThrowTypeError%":c,"%TypedArray%":y,"%TypeError%":i,"%Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?void 0:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet},v={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},g=r(198),_=r(362),b=g.call(Function.call,Array.prototype.concat),w=g.call(Function.apply,Array.prototype.splice),E=g.call(Function.call,String.prototype.replace),O=g.call(Function.call,String.prototype.slice),T=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,x=/\\(\\)?/g,k=function(e){var t=O(e,0,1),r=O(e,-1);if("%"===t&&"%"!==r)throw new n("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new n("invalid intrinsic syntax, expected opening `%`");var o=[];return E(e,T,(function(e,t,r,n){o[o.length]=r?E(n,x,"$1"):t||e})),o},S=function(e,t){var r,o=e;if(_(v,o)&&(o="%"+(r=v[o])[0]+"%"),_(m,o)){var a=m[o];if(void 0===a&&!t)throw new i("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:o,value:a}}throw new n("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new i("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new i('"allowMissing" argument must be a boolean');var r=k(e),o=r.length>0?r[0]:"",a=S("%"+o+"%",t),u=a.name,c=a.value,l=!1,f=a.alias;f&&(o=f[0],w(r,b([0,1],f)));for(var p=1,d=!0;p<r.length;p+=1){var h=r[p],y=O(h,0,1),v=O(h,-1);if(('"'===y||"'"===y||"`"===y||'"'===v||"'"===v||"`"===v)&&y!==v)throw new n("property names with quotes must have matching quotes");if("constructor"!==h&&d||(l=!0),_(m,u="%"+(o+="."+h)+"%"))c=m[u];else if(null!=c){if(!(h in c)){if(!t)throw new i("base intrinsic for "+e+" exists, but the property is not available.");return}if(s&&p+1>=r.length){var g=s(c,h);c=(d=!!g)&&"get"in g&&!("originalValue"in g.get)?g.get:c[h]}else d=_(c,h),c=c[h];d&&!l&&(m[u]=c)}}return c}},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(global){__webpack_require__.d(__webpack_exports__,"c",(function(){return loadImageAsLayer})),__webpack_require__.d(__webpack_exports__,"d",(function(){return loadLayers})),__webpack_require__.d(__webpack_exports__,"b",(function(){return loadFindData})),__webpack_require__.d(__webpack_exports__,"a",(function(){return find})),__webpack_require__.d(__webpack_exports__,"e",(function(){return renderLayers}));var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2),core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es_array_find_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(38),core_js_modules_es_array_find_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_array_find_js__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(10),core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_array_from_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(99),core_js_modules_es_array_from_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_array_from_js__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(9),core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(20),core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(7),core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_es_array_reduce_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(78),core_js_modules_es_array_reduce_js__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_es_array_reduce_js__WEBPACK_IMPORTED_MODULE_7__),core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(30),core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_8__),core_js_modules_es_array_some_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(79),core_js_modules_es_array_some_js__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(core_js_modules_es_array_some_js__WEBPACK_IMPORTED_MODULE_9__),core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(116),core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_10__),core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(44),core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_11__),core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(80),core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_12__),core_js_modules_es_number_is_integer_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(335),core_js_modules_es_number_is_integer_js__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(core_js_modules_es_number_is_integer_js__WEBPACK_IMPORTED_MODULE_13__),core_js_modules_es_object_assign_js__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(16),core_js_modules_es_object_assign_js__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(core_js_modules_es_object_assign_js__WEBPACK_IMPORTED_MODULE_14__),core_js_modules_es_object_freeze_js__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(337),core_js_modules_es_object_freeze_js__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(core_js_modules_es_object_freeze_js__WEBPACK_IMPORTED_MODULE_15__),core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(31),core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_16__),core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(3),core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_17___default=__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_17__),core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(14),core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_18___default=__webpack_require__.n(core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_18__),core_js_modules_es_regexp_constructor_js__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(139),core_js_modules_es_regexp_constructor_js__WEBPACK_IMPORTED_MODULE_19___default=__webpack_require__.n(core_js_modules_es_regexp_constructor_js__WEBPACK_IMPORTED_MODULE_19__),core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(12),core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_20___default=__webpack_require__.n(core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_20__),core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(29),core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_21___default=__webpack_require__.n(core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_21__),core_js_modules_es_set_js__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(115),core_js_modules_es_set_js__WEBPACK_IMPORTED_MODULE_22___default=__webpack_require__.n(core_js_modules_es_set_js__WEBPACK_IMPORTED_MODULE_22__),core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(32),core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_23___default=__webpack_require__.n(core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_23__),core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(194),core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_24___default=__webpack_require__.n(core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_24__),core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(41),core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_25___default=__webpack_require__.n(core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_25__),core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(46),core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_26___default=__webpack_require__.n(core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_26__),core_js_modules_es_string_trim_js__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__(140),core_js_modules_es_string_trim_js__WEBPACK_IMPORTED_MODULE_27___default=__webpack_require__.n(core_js_modules_es_string_trim_js__WEBPACK_IMPORTED_MODULE_27__),core_js_modules_es_typed_array_float32_array_js__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__(83),core_js_modules_es_typed_array_float32_array_js__WEBPACK_IMPORTED_MODULE_28___default=__webpack_require__.n(core_js_modules_es_typed_array_float32_array_js__WEBPACK_IMPORTED_MODULE_28__),core_js_modules_es_typed_array_float64_array_js__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__(339),core_js_modules_es_typed_array_float64_array_js__WEBPACK_IMPORTED_MODULE_29___default=__webpack_require__.n(core_js_modules_es_typed_array_float64_array_js__WEBPACK_IMPORTED_MODULE_29__),core_js_modules_es_typed_array_uint8_array_js__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__(136),core_js_modules_es_typed_array_uint8_array_js__WEBPACK_IMPORTED_MODULE_30___default=__webpack_require__.n(core_js_modules_es_typed_array_uint8_array_js__WEBPACK_IMPORTED_MODULE_30__),core_js_modules_es_typed_array_copy_within_js__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__(54),core_js_modules_es_typed_array_copy_within_js__WEBPACK_IMPORTED_MODULE_31___default=__webpack_require__.n(core_js_modules_es_typed_array_copy_within_js__WEBPACK_IMPORTED_MODULE_31__),core_js_modules_es_typed_array_every_js__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__(55),core_js_modules_es_typed_array_every_js__WEBPACK_IMPORTED_MODULE_32___default=__webpack_require__.n(core_js_modules_es_typed_array_every_js__WEBPACK_IMPORTED_MODULE_32__),core_js_modules_es_typed_array_fill_js__WEBPACK_IMPORTED_MODULE_33__=__webpack_require__(56),core_js_modules_es_typed_array_fill_js__WEBPACK_IMPORTED_MODULE_33___default=__webpack_require__.n(core_js_modules_es_typed_array_fill_js__WEBPACK_IMPORTED_MODULE_33__),core_js_modules_es_typed_array_filter_js__WEBPACK_IMPORTED_MODULE_34__=__webpack_require__(57),core_js_modules_es_typed_array_filter_js__WEBPACK_IMPORTED_MODULE_34___default=__webpack_require__.n(core_js_modules_es_typed_array_filter_js__WEBPACK_IMPORTED_MODULE_34__),core_js_modules_es_typed_array_find_js__WEBPACK_IMPORTED_MODULE_35__=__webpack_require__(58),core_js_modules_es_typed_array_find_js__WEBPACK_IMPORTED_MODULE_35___default=__webpack_require__.n(core_js_modules_es_typed_array_find_js__WEBPACK_IMPORTED_MODULE_35__),core_js_modules_es_typed_array_find_index_js__WEBPACK_IMPORTED_MODULE_36__=__webpack_require__(59),core_js_modules_es_typed_array_find_index_js__WEBPACK_IMPORTED_MODULE_36___default=__webpack_require__.n(core_js_modules_es_typed_array_find_index_js__WEBPACK_IMPORTED_MODULE_36__),core_js_modules_es_typed_array_for_each_js__WEBPACK_IMPORTED_MODULE_37__=__webpack_require__(60),core_js_modules_es_typed_array_for_each_js__WEBPACK_IMPORTED_MODULE_37___default=__webpack_require__.n(core_js_modules_es_typed_array_for_each_js__WEBPACK_IMPORTED_MODULE_37__),core_js_modules_es_typed_array_from_js__WEBPACK_IMPORTED_MODULE_38__=__webpack_require__(340),core_js_modules_es_typed_array_from_js__WEBPACK_IMPORTED_MODULE_38___default=__webpack_require__.n(core_js_modules_es_typed_array_from_js__WEBPACK_IMPORTED_MODULE_38__),core_js_modules_es_typed_array_includes_js__WEBPACK_IMPORTED_MODULE_39__=__webpack_require__(61),core_js_modules_es_typed_array_includes_js__WEBPACK_IMPORTED_MODULE_39___default=__webpack_require__.n(core_js_modules_es_typed_array_includes_js__WEBPACK_IMPORTED_MODULE_39__),core_js_modules_es_typed_array_index_of_js__WEBPACK_IMPORTED_MODULE_40__=__webpack_require__(62),core_js_modules_es_typed_array_index_of_js__WEBPACK_IMPORTED_MODULE_40___default=__webpack_require__.n(core_js_modules_es_typed_array_index_of_js__WEBPACK_IMPORTED_MODULE_40__),core_js_modules_es_typed_array_iterator_js__WEBPACK_IMPORTED_MODULE_41__=__webpack_require__(63),core_js_modules_es_typed_array_iterator_js__WEBPACK_IMPORTED_MODULE_41___default=__webpack_require__.n(core_js_modules_es_typed_array_iterator_js__WEBPACK_IMPORTED_MODULE_41__),core_js_modules_es_typed_array_join_js__WEBPACK_IMPORTED_MODULE_42__=__webpack_require__(64),core_js_modules_es_typed_array_join_js__WEBPACK_IMPORTED_MODULE_42___default=__webpack_require__.n(core_js_modules_es_typed_array_join_js__WEBPACK_IMPORTED_MODULE_42__),core_js_modules_es_typed_array_last_index_of_js__WEBPACK_IMPORTED_MODULE_43__=__webpack_require__(65),core_js_modules_es_typed_array_last_index_of_js__WEBPACK_IMPORTED_MODULE_43___default=__webpack_require__.n(core_js_modules_es_typed_array_last_index_of_js__WEBPACK_IMPORTED_MODULE_43__),core_js_modules_es_typed_array_map_js__WEBPACK_IMPORTED_MODULE_44__=__webpack_require__(66),core_js_modules_es_typed_array_map_js__WEBPACK_IMPORTED_MODULE_44___default=__webpack_require__.n(core_js_modules_es_typed_array_map_js__WEBPACK_IMPORTED_MODULE_44__),core_js_modules_es_typed_array_reduce_js__WEBPACK_IMPORTED_MODULE_45__=__webpack_require__(67),core_js_modules_es_typed_array_reduce_js__WEBPACK_IMPORTED_MODULE_45___default=__webpack_require__.n(core_js_modules_es_typed_array_reduce_js__WEBPACK_IMPORTED_MODULE_45__),core_js_modules_es_typed_array_reduce_right_js__WEBPACK_IMPORTED_MODULE_46__=__webpack_require__(68),core_js_modules_es_typed_array_reduce_right_js__WEBPACK_IMPORTED_MODULE_46___default=__webpack_require__.n(core_js_modules_es_typed_array_reduce_right_js__WEBPACK_IMPORTED_MODULE_46__),core_js_modules_es_typed_array_reverse_js__WEBPACK_IMPORTED_MODULE_47__=__webpack_require__(69),core_js_modules_es_typed_array_reverse_js__WEBPACK_IMPORTED_MODULE_47___default=__webpack_require__.n(core_js_modules_es_typed_array_reverse_js__WEBPACK_IMPORTED_MODULE_47__),core_js_modules_es_typed_array_set_js__WEBPACK_IMPORTED_MODULE_48__=__webpack_require__(70),core_js_modules_es_typed_array_set_js__WEBPACK_IMPORTED_MODULE_48___default=__webpack_require__.n(core_js_modules_es_typed_array_set_js__WEBPACK_IMPORTED_MODULE_48__),core_js_modules_es_typed_array_slice_js__WEBPACK_IMPORTED_MODULE_49__=__webpack_require__(71),core_js_modules_es_typed_array_slice_js__WEBPACK_IMPORTED_MODULE_49___default=__webpack_require__.n(core_js_modules_es_typed_array_slice_js__WEBPACK_IMPORTED_MODULE_49__),core_js_modules_es_typed_array_some_js__WEBPACK_IMPORTED_MODULE_50__=__webpack_require__(72),core_js_modules_es_typed_array_some_js__WEBPACK_IMPORTED_MODULE_50___default=__webpack_require__.n(core_js_modules_es_typed_array_some_js__WEBPACK_IMPORTED_MODULE_50__),core_js_modules_es_typed_array_sort_js__WEBPACK_IMPORTED_MODULE_51__=__webpack_require__(73),core_js_modules_es_typed_array_sort_js__WEBPACK_IMPORTED_MODULE_51___default=__webpack_require__.n(core_js_modules_es_typed_array_sort_js__WEBPACK_IMPORTED_MODULE_51__),core_js_modules_es_typed_array_subarray_js__WEBPACK_IMPORTED_MODULE_52__=__webpack_require__(74),core_js_modules_es_typed_array_subarray_js__WEBPACK_IMPORTED_MODULE_52___default=__webpack_require__.n(core_js_modules_es_typed_array_subarray_js__WEBPACK_IMPORTED_MODULE_52__),core_js_modules_es_typed_array_to_locale_string_js__WEBPACK_IMPORTED_MODULE_53__=__webpack_require__(75),core_js_modules_es_typed_array_to_locale_string_js__WEBPACK_IMPORTED_MODULE_53___default=__webpack_require__.n(core_js_modules_es_typed_array_to_locale_string_js__WEBPACK_IMPORTED_MODULE_53__),core_js_modules_es_typed_array_to_string_js__WEBPACK_IMPORTED_MODULE_54__=__webpack_require__(76),core_js_modules_es_typed_array_to_string_js__WEBPACK_IMPORTED_MODULE_54___default=__webpack_require__.n(core_js_modules_es_typed_array_to_string_js__WEBPACK_IMPORTED_MODULE_54__),core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_55__=__webpack_require__(15),core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_55___default=__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_55__),core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_56__=__webpack_require__(36),core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_56___default=__webpack_require__.n(core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_56__),core_js_modules_web_url_js__WEBPACK_IMPORTED_MODULE_57__=__webpack_require__(341),core_js_modules_web_url_js__WEBPACK_IMPORTED_MODULE_57___default=__webpack_require__.n(core_js_modules_web_url_js__WEBPACK_IMPORTED_MODULE_57__),regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_58__=__webpack_require__(134),regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_58___default=__webpack_require__.n(regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_58__),_marked=regeneratorRuntime.mark(renderLayers);function _createForOfIteratorHelper(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function retry(e,t){return new Promise((function r(n,o){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;return e().then((function(e){return n([e,i])})).catch((function(e){i<t?setTimeout((function(){return r(n,o,i+1,5*a)}),a):o([e,i])}))}))}var timeoutCounter=0;function withTimeout(e,t){if(timeoutCounter>=5)return Promise.reject("Too many timeouts");var r=null,n=new Promise((function(t,n){r=setTimeout((function(){timeoutCounter++,n(new Error("Worker image decoder timeout"))}),e)}));return Promise.race([t,n]).then((function(e){return r&&clearTimeout(r),e}),(function(e){return r&&clearTimeout(r),Promise.reject(e)}))}function getUniqueMessageId(){return"id_".concat(Math.random())}function createWorker(e){try{return new Worker(URL.createObjectURL(new Blob(["(".concat(e.toString(),")()")])))}catch(e){return null}}var worker=createWorker((function(){self.addEventListener("message",(function(e){var t=e.data,r=t.url,n=t.id;try{fetch(r,{mode:"cors"}).then((function(e){return e.blob()})).then((function(e){return createImageBitmap(e)})).then((function(e){return self.postMessage({id:n,bitmap:e},[e])})).catch((function(e){return self.postMessage({id:n,error:e.toString()})}))}catch(e){self.postMessage({id:n,error:e.toString()})}}))}));function loadImageWithWorker(e){return withTimeout(2e3,new Promise((function(t,r){if(worker){var n=getUniqueMessageId();worker.addEventListener("message",o),worker.addEventListener("error",i),worker.postMessage({url:e,id:n})}else r("Unable to create Worker with Blob");function o(e){var a=e.data;a.id===n&&(worker.removeEventListener("message",o),worker.removeEventListener("error",i),a.error&&r(a.error),t(a.bitmap))}function i(e){worker.removeEventListener("message",o),worker.removeEventListener("error",i),r(e)}})))}function loadImageWithImg(e){return new Promise((function(t,r){var n=new Image;"data"!==e.substr(0,4)&&(n.crossOrigin="Anonymous"),n.onload=function(){"function"==typeof createImageBitmap?createImageBitmap(n).then((function(e){return t(e)})):t(n)},n.onerror=function(){return r(new TypeError("Could not load image"))},n.src=e}))}function loadImageWithXHR(e){return new Promise((function(t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){200===n.status?"function"==typeof createImageBitmap?createImageBitmap(n.response).then((function(e){t(e)}),(function(){r(new TypeError("[loadImageWithXHR] Could not create image bitmap"))})):r(new TypeError("[loadImageWithXHR] createImageBitmap not support")):r(new TypeError("[loadImageWithXHR] Could not load image ".concat(n.status)))},n.onerror=function(){r(new TypeError("[loadImageWithXHR] Could not load image"))},n.send()}))}function loadImage(e){return loadImageWithWorker(e).catch((function(){return loadImageWithImg(e)})).catch((function(){return loadImageWithXHR(e)}))}function createImageLayer(e,t,r,n){return{page:e,width:r,height:n,layers:[{type:"image",image:0,width:r,height:n}],images:[t],fonts:[]}}function loadLayersImage(e,t,r,n){return retry((function(){return loadImage(e)}),3).then((function(e){var o=_slicedToArray(e,2),i=o[0],a=o[1];return[createImageLayer(t,i,r,n),a]})).catch((function(e){return Promise.reject(e)}))}function loadJson(e,t){return fetch(e,{mode:"cors",credentials:t?"include":"omit"}).then((function(e){return e.json()}))}function loadLayersJson(e,t){return retry((function(){return loadJson(e,t)}),3).then((function(e){var t=_slicedToArray(e,2);return[t[0],t[1]]}))}var commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==global?global:"undefined"!=typeof self?self:{};function createCommonjsModule(e,t){return e(t={exports:{}},t.exports),t.exports}var aspromise=asPromise;function asPromise(e,t){for(var r=new Array(arguments.length-1),n=0,o=2,i=!0;o<arguments.length;)r[n++]=arguments[o++];return new Promise((function(o,a){r[n]=function(e){if(i)if(i=!1,e)a(e);else{for(var t=new Array(arguments.length-1),r=0;r<t.length;)t[r++]=arguments[r];o.apply(null,t)}};try{e.apply(t||null,r)}catch(e){i&&(i=!1,a(e))}}))}var base64_1=createCommonjsModule((function(e,t){var r=t;r.length=function(e){var t=e.length;if(!t)return 0;for(var r=0;--t%4>1&&"="===e.charAt(t);)++r;return Math.ceil(3*e.length)/4-r};for(var n=new Array(64),o=new Array(123),i=0;i<64;)o[n[i]=i<26?i+65:i<52?i+71:i<62?i-4:i-59|43]=i++;r.encode=function(e,t,r){for(var o,i=null,a=[],s=0,u=0;t<r;){var c=e[t++];switch(u){case 0:a[s++]=n[c>>2],o=(3&c)<<4,u=1;break;case 1:a[s++]=n[o|c>>4],o=(15&c)<<2,u=2;break;case 2:a[s++]=n[o|c>>6],a[s++]=n[63&c],u=0}s>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,a)),s=0)}return u&&(a[s++]=n[o],a[s++]=61,1===u&&(a[s++]=61)),i?(s&&i.push(String.fromCharCode.apply(String,a.slice(0,s))),i.join("")):String.fromCharCode.apply(String,a.slice(0,s))};r.decode=function(e,t,r){for(var n,i=r,a=0,s=0;s<e.length;){var u=e.charCodeAt(s++);if(61===u&&a>1)break;if(void 0===(u=o[u]))throw Error("invalid encoding");switch(a){case 0:n=u,a=1;break;case 1:t[r++]=n<<2|(48&u)>>4,n=u,a=2;break;case 2:t[r++]=(15&n)<<4|(60&u)>>2,n=u,a=3;break;case 3:t[r++]=(3&n)<<6|u,a=0}}if(1===a)throw Error("invalid encoding");return r-i},r.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}})),eventemitter=EventEmitter;function EventEmitter(){this._listeners={}}EventEmitter.prototype.on=function(e,t,r){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:r||this}),this},EventEmitter.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var r=this._listeners[e],n=0;n<r.length;)r[n].fn===t?r.splice(n,1):++n;return this},EventEmitter.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var r=[],n=1;n<arguments.length;)r.push(arguments[n++]);for(n=0;n<t.length;)t[n].fn.apply(t[n++].ctx,r)}return this};var float_1=factory(factory);function factory(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),r=new Uint8Array(t.buffer),n=128===r[3];function o(e,n,o){t[0]=e,n[o]=r[0],n[o+1]=r[1],n[o+2]=r[2],n[o+3]=r[3]}function i(e,n,o){t[0]=e,n[o]=r[3],n[o+1]=r[2],n[o+2]=r[1],n[o+3]=r[0]}function a(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],t[0]}function s(e,n){return r[3]=e[n],r[2]=e[n+1],r[1]=e[n+2],r[0]=e[n+3],t[0]}e.writeFloatLE=n?o:i,e.writeFloatBE=n?i:o,e.readFloatLE=n?a:s,e.readFloatBE=n?s:a}():function(){function t(e,t,r,n){var o=t<0?1:0;if(o&&(t=-t),0===t)e(1/t>0?0:2147483648,r,n);else if(isNaN(t))e(2143289344,r,n);else if(t>34028234663852886e22)e((o<<31|2139095040)>>>0,r,n);else if(t<11754943508222875e-54)e((o<<31|Math.round(t/1401298464324817e-60))>>>0,r,n);else{var i=Math.floor(Math.log(t)/Math.LN2);e((o<<31|i+127<<23|8388607&Math.round(t*Math.pow(2,-i)*8388608))>>>0,r,n)}}function r(e,t,r){var n=e(t,r),o=2*(n>>31)+1,i=n>>>23&255,a=8388607&n;return 255===i?a?NaN:o*(1/0):0===i?1401298464324817e-60*o*a:o*Math.pow(2,i-150)*(a+8388608)}e.writeFloatLE=t.bind(null,writeUintLE),e.writeFloatBE=t.bind(null,writeUintBE),e.readFloatLE=r.bind(null,readUintLE),e.readFloatBE=r.bind(null,readUintBE)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),r=new Uint8Array(t.buffer),n=128===r[7];function o(e,n,o){t[0]=e,n[o]=r[0],n[o+1]=r[1],n[o+2]=r[2],n[o+3]=r[3],n[o+4]=r[4],n[o+5]=r[5],n[o+6]=r[6],n[o+7]=r[7]}function i(e,n,o){t[0]=e,n[o]=r[7],n[o+1]=r[6],n[o+2]=r[5],n[o+3]=r[4],n[o+4]=r[3],n[o+5]=r[2],n[o+6]=r[1],n[o+7]=r[0]}function a(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],r[4]=e[n+4],r[5]=e[n+5],r[6]=e[n+6],r[7]=e[n+7],t[0]}function s(e,n){return r[7]=e[n],r[6]=e[n+1],r[5]=e[n+2],r[4]=e[n+3],r[3]=e[n+4],r[2]=e[n+5],r[1]=e[n+6],r[0]=e[n+7],t[0]}e.writeDoubleLE=n?o:i,e.writeDoubleBE=n?i:o,e.readDoubleLE=n?a:s,e.readDoubleBE=n?s:a}():function(){function t(e,t,r,n,o,i){var a=n<0?1:0;if(a&&(n=-n),0===n)e(0,o,i+t),e(1/n>0?0:2147483648,o,i+r);else if(isNaN(n))e(0,o,i+t),e(2146959360,o,i+r);else if(n>17976931348623157e292)e(0,o,i+t),e((a<<31|2146435072)>>>0,o,i+r);else{var s;if(n<22250738585072014e-324)e((s=n/5e-324)>>>0,o,i+t),e((a<<31|s/4294967296)>>>0,o,i+r);else{var u=Math.floor(Math.log(n)/Math.LN2);1024===u&&(u=1023),e(4503599627370496*(s=n*Math.pow(2,-u))>>>0,o,i+t),e((a<<31|u+1023<<20|1048576*s&1048575)>>>0,o,i+r)}}}function r(e,t,r,n,o){var i=e(n,o+t),a=e(n,o+r),s=2*(a>>31)+1,u=a>>>20&2047,c=4294967296*(1048575&a)+i;return 2047===u?c?NaN:s*(1/0):0===u?5e-324*s*c:s*Math.pow(2,u-1075)*(c+4503599627370496)}e.writeDoubleLE=t.bind(null,writeUintLE,0,4),e.writeDoubleBE=t.bind(null,writeUintBE,4,0),e.readDoubleLE=r.bind(null,readUintLE,0,4),e.readDoubleBE=r.bind(null,readUintBE,4,0)}(),e}function writeUintLE(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}function writeUintBE(e,t,r){t[r]=e>>>24,t[r+1]=e>>>16&255,t[r+2]=e>>>8&255,t[r+3]=255&e}function readUintLE(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function readUintBE(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}var inquire_1=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}var utf8_1=createCommonjsModule((function(e,t){var r=t;r.length=function(e){for(var t=0,r=0,n=0;n<e.length;++n)(r=e.charCodeAt(n))<128?t+=1:r<2048?t+=2:55296==(64512&r)&&56320==(64512&e.charCodeAt(n+1))?(++n,t+=4):t+=3;return t},r.read=function(e,t,r){if(r-t<1)return"";for(var n,o=null,i=[],a=0;t<r;)(n=e[t++])<128?i[a++]=n:n>191&&n<224?i[a++]=(31&n)<<6|63&e[t++]:n>239&&n<365?(n=((7&n)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,i[a++]=55296+(n>>10),i[a++]=56320+(1023&n)):i[a++]=(15&n)<<12|(63&e[t++])<<6|63&e[t++],a>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,i)),a=0);return o?(a&&o.push(String.fromCharCode.apply(String,i.slice(0,a))),o.join("")):String.fromCharCode.apply(String,i.slice(0,a))},r.write=function(e,t,r){for(var n,o,i=r,a=0;a<e.length;++a)(n=e.charCodeAt(a))<128?t[r++]=n:n<2048?(t[r++]=n>>6|192,t[r++]=63&n|128):55296==(64512&n)&&56320==(64512&(o=e.charCodeAt(a+1)))?(n=65536+((1023&n)<<10)+(1023&o),++a,t[r++]=n>>18|240,t[r++]=n>>12&63|128,t[r++]=n>>6&63|128,t[r++]=63&n|128):(t[r++]=n>>12|224,t[r++]=n>>6&63|128,t[r++]=63&n|128);return r-i}})),pool_1=pool;function pool(e,t,r){var n=r||8192,o=n>>>1,i=null,a=n;return function(r){if(r<1||r>o)return e(r);a+r>n&&(i=e(n),a=0);var s=t.call(i,a,a+=r);return 7&a&&(a=1+(7|a)),s}}var longbits=LongBits;function LongBits(e,t){this.lo=e>>>0,this.hi=t>>>0}var zero=LongBits.zero=new LongBits(0,0);zero.toNumber=function(){return 0},zero.zzEncode=zero.zzDecode=function(){return this},zero.length=function(){return 1};var zeroHash=LongBits.zeroHash="\0\0\0\0\0\0\0\0";LongBits.fromNumber=function(e){if(0===e)return zero;var t=e<0;t&&(e=-e);var r=e>>>0,n=(e-r)/4294967296>>>0;return t&&(n=~n>>>0,r=~r>>>0,++r>4294967295&&(r=0,++n>4294967295&&(n=0))),new LongBits(r,n)},LongBits.from=function(e){if("number"==typeof e)return LongBits.fromNumber(e);if(minimal.isString(e)){if(!minimal.Long)return LongBits.fromNumber(parseInt(e,10));e=minimal.Long.fromString(e)}return e.low||e.high?new LongBits(e.low>>>0,e.high>>>0):zero},LongBits.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,r=~this.hi>>>0;return t||(r=r+1>>>0),-(t+4294967296*r)}return this.lo+4294967296*this.hi},LongBits.prototype.toLong=function(e){return minimal.Long?new minimal.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var charCodeAt=String.prototype.charCodeAt;LongBits.fromHash=function(e){return e===zeroHash?zero:new LongBits((charCodeAt.call(e,0)|charCodeAt.call(e,1)<<8|charCodeAt.call(e,2)<<16|charCodeAt.call(e,3)<<24)>>>0,(charCodeAt.call(e,4)|charCodeAt.call(e,5)<<8|charCodeAt.call(e,6)<<16|charCodeAt.call(e,7)<<24)>>>0)},LongBits.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},LongBits.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},LongBits.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},LongBits.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return 0===r?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:r<128?9:10};var minimal=createCommonjsModule((function(e,t){var r=t;function n(e,t,r){for(var n=Object.keys(t),o=0;o<n.length;++o)void 0!==e[n[o]]&&r||(e[n[o]]=t[n[o]]);return e}function o(e){function t(e,r){if(!(this instanceof t))return new t(e,r);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),r&&n(this,r)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}r.asPromise=aspromise,r.base64=base64_1,r.EventEmitter=eventemitter,r.float=float_1,r.inquire=inquire_1,r.utf8=utf8_1,r.pool=pool_1,r.LongBits=longbits,r.global="undefined"!=typeof window&&window||void 0!==commonjsGlobal&&commonjsGlobal||"undefined"!=typeof self&&self||commonjsGlobal,r.emptyArray=Object.freeze?Object.freeze([]):[],r.emptyObject=Object.freeze?Object.freeze({}):{},r.isNode=Boolean(r.global.process&&r.global.process.versions&&r.global.process.versions.node),r.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},r.isString=function(e){return"string"==typeof e||e instanceof String},r.isObject=function(e){return e&&"object"===_typeof(e)},r.isset=r.isSet=function(e,t){var r=e[t];return!(null==r||!e.hasOwnProperty(t))&&("object"!==_typeof(r)||(Array.isArray(r)?r.length:Object.keys(r).length)>0)},r.Buffer=function(){try{var e=r.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),r._Buffer_from=null,r._Buffer_allocUnsafe=null,r.newBuffer=function(e){return"number"==typeof e?r.Buffer?r._Buffer_allocUnsafe(e):new r.Array(e):r.Buffer?r._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},r.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,r.Long=r.global.dcodeIO&&r.global.dcodeIO.Long||r.global.Long||r.inquire("long"),r.key2Re=/^true|false|0|1$/,r.key32Re=/^-?(?:0|[1-9][0-9]*)$/,r.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,r.longToHash=function(e){return e?r.LongBits.from(e).toHash():r.LongBits.zeroHash},r.longFromHash=function(e,t){var n=r.LongBits.fromHash(e);return r.Long?r.Long.fromBits(n.lo,n.hi,t):n.toNumber(Boolean(t))},r.merge=n,r.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},r.newError=o,r.ProtocolError=o("ProtocolError"),r.oneOfGetter=function(e){for(var t={},r=0;r<e.length;++r)t[e[r]]=1;return function(){for(var e=Object.keys(this),r=e.length-1;r>-1;--r)if(1===t[e[r]]&&void 0!==this[e[r]]&&null!==this[e[r]])return e[r]}},r.oneOfSetter=function(e){return function(t){for(var r=0;r<e.length;++r)e[r]!==t&&delete this[e[r]]}},r.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},r._configure=function(){var e=r.Buffer;e?(r._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,r){return new e(t,r)},r._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):r._Buffer_from=r._Buffer_allocUnsafe=null}})),writer=Writer,BufferWriter,LongBits$1=minimal.LongBits,base64=minimal.base64,utf8=minimal.utf8;function Op(e,t,r){this.fn=e,this.len=t,this.next=void 0,this.val=r}function noop(){}function State(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function Writer(){this.len=0,this.head=new Op(noop,0,0),this.tail=this.head,this.states=null}function writeByte(e,t,r){t[r]=255&e}function writeVarint32(e,t,r){for(;e>127;)t[r++]=127&e|128,e>>>=7;t[r]=e}function VarintOp(e,t){this.len=e,this.next=void 0,this.val=t}function writeVarint64(e,t,r){for(;e.hi;)t[r++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[r++]=127&e.lo|128,e.lo=e.lo>>>7;t[r++]=e.lo}function writeFixed32(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}Writer.create=minimal.Buffer?function(){return(Writer.create=function(){return new BufferWriter})()}:function(){return new Writer},Writer.alloc=function(e){return new minimal.Array(e)},minimal.Array!==Array&&(Writer.alloc=minimal.pool(Writer.alloc,minimal.Array.prototype.subarray)),Writer.prototype._push=function(e,t,r){return this.tail=this.tail.next=new Op(e,t,r),this.len+=t,this},VarintOp.prototype=Object.create(Op.prototype),VarintOp.prototype.fn=writeVarint32,Writer.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new VarintOp((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},Writer.prototype.int32=function(e){return e<0?this._push(writeVarint64,10,LongBits$1.fromNumber(e)):this.uint32(e)},Writer.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},Writer.prototype.uint64=function(e){var t=LongBits$1.from(e);return this._push(writeVarint64,t.length(),t)},Writer.prototype.int64=Writer.prototype.uint64,Writer.prototype.sint64=function(e){var t=LongBits$1.from(e).zzEncode();return this._push(writeVarint64,t.length(),t)},Writer.prototype.bool=function(e){return this._push(writeByte,1,e?1:0)},Writer.prototype.fixed32=function(e){return this._push(writeFixed32,4,e>>>0)},Writer.prototype.sfixed32=Writer.prototype.fixed32,Writer.prototype.fixed64=function(e){var t=LongBits$1.from(e);return this._push(writeFixed32,4,t.lo)._push(writeFixed32,4,t.hi)},Writer.prototype.sfixed64=Writer.prototype.fixed64,Writer.prototype.float=function(e){return this._push(minimal.float.writeFloatLE,4,e)},Writer.prototype.double=function(e){return this._push(minimal.float.writeDoubleLE,8,e)};var writeBytes=minimal.Array.prototype.set?function(e,t,r){t.set(e,r)}:function(e,t,r){for(var n=0;n<e.length;++n)t[r+n]=e[n]};Writer.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(writeByte,1,0);if(minimal.isString(e)){var r=Writer.alloc(t=base64.length(e));base64.decode(e,r,0),e=r}return this.uint32(t)._push(writeBytes,t,e)},Writer.prototype.string=function(e){var t=utf8.length(e);return t?this.uint32(t)._push(utf8.write,t,e):this._push(writeByte,1,0)},Writer.prototype.fork=function(){return this.states=new State(this),this.head=this.tail=new Op(noop,0,0),this.len=0,this},Writer.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Op(noop,0,0),this.len=0),this},Writer.prototype.ldelim=function(){var e=this.head,t=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=e.next,this.tail=t,this.len+=r),this},Writer.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),r=0;e;)e.fn(e.val,t,r),r+=e.len,e=e.next;return t},Writer._configure=function(e){BufferWriter=e};var writer_buffer=BufferWriter$1;(BufferWriter$1.prototype=Object.create(writer.prototype)).constructor=BufferWriter$1;var Buffer=minimal.Buffer;function BufferWriter$1(){writer.call(this)}BufferWriter$1.alloc=function(e){return(BufferWriter$1.alloc=minimal._Buffer_allocUnsafe)(e)};var writeBytesBuffer=Buffer&&Buffer.prototype instanceof Uint8Array&&"set"===Buffer.prototype.set.name?function(e,t,r){t.set(e,r)}:function(e,t,r){if(e.copy)e.copy(t,r,0,e.length);else for(var n=0;n<e.length;)t[r++]=e[n++]};function writeStringBuffer(e,t,r){e.length<40?minimal.utf8.write(e,t,r):t.utf8Write(e,r)}BufferWriter$1.prototype.bytes=function(e){minimal.isString(e)&&(e=minimal._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(writeBytesBuffer,t,e),this},BufferWriter$1.prototype.string=function(e){var t=Buffer.byteLength(e);return this.uint32(t),t&&this._push(writeStringBuffer,t,e),this};var reader=Reader,BufferReader,LongBits$2=minimal.LongBits,utf8$1=minimal.utf8;function indexOutOfRange(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function Reader(e){this.buf=e,this.pos=0,this.len=e.length}var create_array="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new Reader(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new Reader(e);throw Error("illegal buffer")},value;function readLongVarint(){var e=new LongBits$2(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw indexOutOfRange(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw indexOutOfRange(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function readFixed32_end(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function readFixed64(){if(this.pos+8>this.len)throw indexOutOfRange(this,8);return new LongBits$2(readFixed32_end(this.buf,this.pos+=4),readFixed32_end(this.buf,this.pos+=4))}Reader.create=minimal.Buffer?function(e){return(Reader.create=function(e){return minimal.Buffer.isBuffer(e)?new BufferReader(e):create_array(e)})(e)}:create_array,Reader.prototype._slice=minimal.Array.prototype.subarray||minimal.Array.prototype.slice,Reader.prototype.uint32=(value=4294967295,function(){if(value=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return value;if(value=(value|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return value;if(value=(value|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return value;if(value=(value|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return value;if(value=(value|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return value;if((this.pos+=5)>this.len)throw this.pos=this.len,indexOutOfRange(this,10);return value}),Reader.prototype.int32=function(){return 0|this.uint32()},Reader.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},Reader.prototype.bool=function(){return 0!==this.uint32()},Reader.prototype.fixed32=function(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)},Reader.prototype.sfixed32=function(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return 0|readFixed32_end(this.buf,this.pos+=4)},Reader.prototype.float=function(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);var e=minimal.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},Reader.prototype.double=function(){if(this.pos+8>this.len)throw indexOutOfRange(this,4);var e=minimal.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},Reader.prototype.bytes=function(){var e=this.uint32(),t=this.pos,r=this.pos+e;if(r>this.len)throw indexOutOfRange(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,r):t===r?new this.buf.constructor(0):this._slice.call(this.buf,t,r)},Reader.prototype.string=function(){var e=this.bytes();return utf8$1.read(e,0,e.length)},Reader.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw indexOutOfRange(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw indexOutOfRange(this)}while(128&this.buf[this.pos++]);return this},Reader.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},Reader._configure=function(e){BufferReader=e;var t=minimal.Long?"toLong":"toNumber";minimal.merge(Reader.prototype,{int64:function(){return readLongVarint.call(this)[t](!1)},uint64:function(){return readLongVarint.call(this)[t](!0)},sint64:function(){return readLongVarint.call(this).zzDecode()[t](!1)},fixed64:function(){return readFixed64.call(this)[t](!0)},sfixed64:function(){return readFixed64.call(this)[t](!1)}})};var reader_buffer=BufferReader$1;function BufferReader$1(e){reader.call(this,e)}(BufferReader$1.prototype=Object.create(reader.prototype)).constructor=BufferReader$1,minimal.Buffer&&(BufferReader$1.prototype._slice=minimal.Buffer.prototype.slice),BufferReader$1.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len))};var service=Service;function Service(e,t,r){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");minimal.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(r)}(Service.prototype=Object.create(minimal.EventEmitter.prototype)).constructor=Service,Service.prototype.rpcCall=function e(t,r,n,o,i){if(!o)throw TypeError("request must be specified");var a=this;if(!i)return minimal.asPromise(e,a,t,r,n,o);if(a.rpcImpl)try{return a.rpcImpl(t,r[a.requestDelimited?"encodeDelimited":"encode"](o).finish(),(function(e,r){if(e)return a.emit("error",e,t),i(e);if(null!==r){if(!(r instanceof n))try{r=n[a.responseDelimited?"decodeDelimited":"decode"](r)}catch(e){return a.emit("error",e,t),i(e)}return a.emit("data",r,t),i(null,r)}a.end(!0)}))}catch(e){return a.emit("error",e,t),void setTimeout((function(){i(e)}),0)}else setTimeout((function(){i(Error("already ended"))}),0)},Service.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this};var rpc_1=createCommonjsModule((function(e,t){t.Service=service})),roots={},indexMinimal=createCommonjsModule((function(e,t){var r=t;function n(){r.Reader._configure(r.BufferReader),r.util._configure()}r.build="minimal",r.Writer=writer,r.BufferWriter=writer_buffer,r.Reader=reader,r.BufferReader=reader_buffer,r.util=minimal,r.rpc=rpc_1,r.roots=roots,r.configure=n,r.Writer._configure(r.BufferWriter),n()})),minimal$1=indexMinimal,$Reader=minimal$1.Reader,$util=minimal$1.util,$root=minimal$1.roots.default||(minimal$1.roots.default={}),valuesById,values,layers;$root.layers=(layers={},layers.BlendType=(valuesById={},(values=Object.create(valuesById))[valuesById[0]="Normal"]=0,values[valuesById[1]="Multiply"]=1,values[valuesById[2]="Screen"]=2,values[valuesById[3]="Overlay"]=3,values[valuesById[4]="Darken"]=4,values[valuesById[5]="Lighten"]=5,values[valuesById[6]="Colordodge"]=6,values[valuesById[7]="Colorburn"]=7,values[valuesById[8]="Hardlight"]=8,values[valuesById[9]="Softlight"]=9,values[valuesById[10]="Difference"]=10,values[valuesById[11]="Exclusion"]=11,values[valuesById[12]="Hue"]=12,values[valuesById[13]="Saturation"]=13,values[valuesById[14]="Color"]=14,values[valuesById[15]="Luminosity"]=15,values),layers.ImageLayer=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.image=0,e.prototype.width=0,e.prototype.height=0,e.decode=function(e,t){e instanceof $Reader||(e=$Reader.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new $root.layers.ImageLayer;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.image=e.uint32();break;case 2:n.width=e.uint32();break;case 3:n.height=e.uint32();break;default:e.skipType(7&o)}}return n},e}(),layers.TextLayer=function(){function e(e){if(this.matrix=[],this.originx=[],this.originy=[],this.scale=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.text="",e.prototype.font=0,e.prototype.size=0,e.prototype.color=0,e.prototype.matrix=$util.emptyArray,e.prototype.originx=$util.emptyArray,e.prototype.originy=$util.emptyArray,e.prototype.scale=$util.emptyArray,e.decode=function(e,t){e instanceof $Reader||(e=$Reader.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new $root.layers.TextLayer;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.text=e.string();break;case 2:n.font=e.uint32();break;case 3:n.size=e.float();break;case 4:n.color=e.uint32();break;case 5:if(n.matrix&&n.matrix.length||(n.matrix=[]),2==(7&o))for(var i=e.uint32()+e.pos;e.pos<i;)n.matrix.push(e.float());else n.matrix.push(e.float());break;case 6:if(n.originx&&n.originx.length||(n.originx=[]),2==(7&o))for(i=e.uint32()+e.pos;e.pos<i;)n.originx.push(e.float());else n.originx.push(e.float());break;case 7:if(n.originy&&n.originy.length||(n.originy=[]),2==(7&o))for(i=e.uint32()+e.pos;e.pos<i;)n.originy.push(e.float());else n.originy.push(e.float());break;case 8:if(n.scale&&n.scale.length||(n.scale=[]),2==(7&o))for(i=e.uint32()+e.pos;e.pos<i;)n.scale.push(e.float());else n.scale.push(e.float());break;default:e.skipType(7&o)}}return n},e}(),layers.RectLayer=function(){function e(e){if(this.box=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.color=0,e.prototype.blend=0,e.prototype.box=$util.emptyArray,e.decode=function(e,t){e instanceof $Reader||(e=$Reader.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new $root.layers.RectLayer;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.color=e.uint32();break;case 2:n.blend=e.int32();break;case 3:if(n.box&&n.box.length||(n.box=[]),2==(7&o))for(var i=e.uint32()+e.pos;e.pos<i;)n.box.push(e.float());else n.box.push(e.float());break;default:e.skipType(7&o)}}return n},e}(),layers.LineLayer=function(){function e(e){if(this.coord=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.color=0,e.prototype.blend=0,e.prototype.coord=$util.emptyArray,e.decode=function(e,t){e instanceof $Reader||(e=$Reader.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new $root.layers.LineLayer;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.color=e.uint32();break;case 2:n.blend=e.int32();break;case 3:if(n.coord&&n.coord.length||(n.coord=[]),2==(7&o))for(var i=e.uint32()+e.pos;e.pos<i;)n.coord.push(e.float());else n.coord.push(e.float());break;default:e.skipType(7&o)}}return n},e}(),layers.Font=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.resource=$util.newBuffer([]),e.prototype.weight=0,e.decode=function(e,t){e instanceof $Reader||(e=$Reader.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new $root.layers.Font;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.resource=e.bytes();break;case 2:n.weight=e.uint32();break;default:e.skipType(7&o)}}return n},e}(),layers.Image=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.resource=$util.newBuffer([]),e.prototype.width=0,e.prototype.height=0,e.decode=function(e,t){e instanceof $Reader||(e=$Reader.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new $root.layers.Image;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.resource=e.bytes();break;case 2:n.width=e.uint32();break;case 3:n.height=e.uint32();break;default:e.skipType(7&o)}}return n},e}(),layers.Layer=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var t;return e.prototype.image=null,e.prototype.text=null,e.prototype.rect=null,e.prototype.line=null,Object.defineProperty(e.prototype,"kind",{get:$util.oneOfGetter(t=["image","text","rect","line"]),set:$util.oneOfSetter(t)}),e.decode=function(e,t){e instanceof $Reader||(e=$Reader.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new $root.layers.Layer;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.image=$root.layers.ImageLayer.decode(e,e.uint32());break;case 2:n.text=$root.layers.TextLayer.decode(e,e.uint32());break;case 3:n.rect=$root.layers.RectLayer.decode(e,e.uint32());break;case 4:n.line=$root.layers.LineLayer.decode(e,e.uint32());break;default:e.skipType(7&o)}}return n},e}(),layers.Page=function(){function e(e){if(this.layer=[],this.font=[],this.image=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.page=0,e.prototype.version=0,e.prototype.build="",e.prototype.width=0,e.prototype.height=0,e.prototype.usable=!1,e.prototype.rmse=0,e.prototype.fallback="",e.prototype.layer=$util.emptyArray,e.prototype.font=$util.emptyArray,e.prototype.image=$util.emptyArray,e.decode=function(e,t){e instanceof $Reader||(e=$Reader.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new $root.layers.Page;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.page=e.uint32();break;case 2:n.version=e.uint32();break;case 3:n.build=e.string();break;case 4:n.width=e.uint32();break;case 5:n.height=e.uint32();break;case 6:n.usable=e.bool();break;case 7:n.rmse=e.float();break;case 8:n.fallback=e.string();break;case 9:n.layer&&n.layer.length||(n.layer=[]),n.layer.push($root.layers.Layer.decode(e,e.uint32()));break;case 10:n.font&&n.font.length||(n.font=[]),n.font.push($root.layers.Font.decode(e,e.uint32()));break;case 11:n.image&&n.image.length||(n.image=[]),n.image.push($root.layers.Image.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return n},e}(),layers);var layersProto=$root;function xhrSupportsResponseTypeArrayBuffer(){var e=new XMLHttpRequest;if("string"==typeof e.responseType)try{return e.responseType="arraybuffer","arraybuffer"===e.responseType}catch(e){return!1}return!1}function decodeAsync(e){var t=new Uint8Array(e.length);return new Promise((function(r){setTimeout((function(){return function n(o){for(var i=Math.min(t.length,o+1e4),a=o;a<i;a++)t[a]=255&e.charCodeAt(a);i<t.length?setTimeout((function(){return n(i)}),0):r(t)}(0)}),0)}))}function loadBinaryFallback(e,t){return new Promise((function(r,n){var o=new XMLHttpRequest;if(o.open("GET",e,!0),o.withCredentials=t,!o.overrideMimeType)return n("cannot load binary files");o.overrideMimeType("text/plain; charset=x-user-defined"),o.onreadystatechange=function(){if(4===o.readyState)return 200===o.status?r(o.responseText):n()},o.send()})).then(decodeAsync)}function loadBinaryBuffer(e,t){return new Promise((function(r,n){var o=new XMLHttpRequest;o.open("GET",e,!0),o.responseType="arraybuffer",o.withCredentials=t,o.onload=function(){var e=o.response;return e?r(new Uint8Array(e)):n()},o.onerror=function(){return n()},o.send()}))}var loadBinary=xhrSupportsResponseTypeArrayBuffer()?loadBinaryBuffer:loadBinaryFallback;function base64$1(e){for(var t=[],r=0;r<e.length;r+=32768)t.push(String.fromCharCode.apply(null,e.subarray(r,r+32768)));return btoa(t.join(""))}function blendTypeToString(e){switch(e){case layersProto.layers.BlendType.Normal:return"source-over";case layersProto.layers.BlendType.Multiply:return"multiply";case layersProto.layers.BlendType.Screen:return"screen";case layersProto.layers.BlendType.Overlay:case layersProto.layers.BlendType.Darken:return"overlay";case layersProto.layers.BlendType.Lighten:return"lighten";case layersProto.layers.BlendType.Colordodge:return"color-dodge";case layersProto.layers.BlendType.Colorburn:return"color-burn";case layersProto.layers.BlendType.Hardlight:return"hard-light";case layersProto.layers.BlendType.Softlight:return"soft-light";case layersProto.layers.BlendType.Difference:return"difference";case layersProto.layers.BlendType.Exclusion:return"exclusion";case layersProto.layers.BlendType.Hue:return"hue";case layersProto.layers.BlendType.Saturation:return"saturation";case layersProto.layers.BlendType.Color:return"color";case layersProto.layers.BlendType.Luminosity:return"luminosity"}}function protoToColorArray(e){return[e>>16&255,e>>8&255,e>>0&255,(e>>24&255)/255]}function protoToLayer(e){switch(e.kind){case"image":return{type:"image",image:e.image.image,width:e.image.width,height:e.image.height};case"rect":return{type:"rect",box:e.rect.box,color:protoToColorArray(e.rect.color),blend:blendTypeToString(e.rect.blend)};case"line":return{type:"line",coords:e.line.coord,color:protoToColorArray(e.line.color),blend:blendTypeToString(e.line.blend)};case"text":return{type:"text",text:e.text.text,font:e.text.font,size:e.text.size,color:protoToColorArray(e.text.color),matrix:e.text.matrix,originx:e.text.originx,originy:e.text.originy,scale:e.text.scale}}}function loadLayersProto(e,t){return retry((function(){return loadBinary(e,t)}),3).then((function(e){var t=_slicedToArray(e,2),r=t[0],n=t[1],o=layersProto.layers.Page.decode(r);return[{layers:o.layer.map(protoToLayer),images:o.image.map((function(e){return{type:"embed",resource:base64$1(e.resource)}})),fonts:o.font.map((function(e){return{type:"embed",resource:base64$1(e.resource)}})),width:o.width,height:o.height,page:o.page,version:o.version,usable:o.usable},n]}))}function loadImageAsLayer(e){var t=e.url,r=e.pageNumber,n=e.width,o=e.height,i=e.loadStatsTracker;return i.onPageLoadStart(r,"image"),loadLayersImage(t,r,n,o).then((function(e){var t=_slicedToArray(e,2),n=t[0];return t[1]>1?i.onPageLoadSuccessAfterRetry(r,"image"):i.onPageLoadSuccess(r,"image"),n})).catch((function(e){return i.onPageLoadFailure(r,"image"),Promise.reject(e)}))}function loadLayersByVersion(e,t,r,n){var o=null;switch(r){case 1:o=loadLayersJson;break;case 2:o=loadLayersProto;break;default:return Promise.reject("Unknown version ".concat(r))}n.onPageLoadStart(t,"layers");return o(e,!1)}var fontfaceobserver_standalone=createCommonjsModule((function(e){!function(){function t(e,t){document.addEventListener?e.addEventListener("scroll",t,!1):e.attachEvent("scroll",t)}function r(e){this.a=document.createElement("div"),this.a.setAttribute("aria-hidden","true"),this.a.appendChild(document.createTextNode(e)),this.b=document.createElement("span"),this.c=document.createElement("span"),this.h=document.createElement("span"),this.f=document.createElement("span"),this.g=-1,this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.b.appendChild(this.h),this.c.appendChild(this.f),this.a.appendChild(this.b),this.a.appendChild(this.c)}function n(e,t){e.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+t+";"}function o(e){var t=e.a.offsetWidth,r=t+100;return e.f.style.width=r+"px",e.c.scrollLeft=r,e.b.scrollLeft=e.b.scrollWidth+100,e.g!==t&&(e.g=t,!0)}function i(e,r){function n(){var e=i;o(e)&&e.a.parentNode&&r(e.g)}var i=e;t(e.b,n),t(e.c,n),o(e)}function a(e,t){var r=t||{};this.family=e,this.style=r.style||"normal",this.weight=r.weight||"normal",this.stretch=r.stretch||"normal"}var s=null,u=null,c=null,l=null;function f(){return null===l&&(l=!!document.fonts),l}function p(){if(null===c){var e=document.createElement("div");try{e.style.font="condensed 100px sans-serif"}catch(e){}c=""!==e.style.font}return c}function d(e,t){return[e.style,e.weight,p()?e.stretch:"","100px",t].join(" ")}a.prototype.load=function(e,t){var o=this,a=e||"BESbswy",c=0,l=t||3e3,p=(new Date).getTime();return new Promise((function(e,t){if(f()&&!function(){if(null===u)if(f()&&/Apple/.test(window.navigator.vendor)){var e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);u=!!e&&603>parseInt(e[1],10)}else u=!1;return u}()){var h=new Promise((function(e,t){!function r(){(new Date).getTime()-p>=l?t(Error(l+"ms timeout exceeded")):document.fonts.load(d(o,'"'+o.family+'"'),a).then((function(t){1<=t.length?e():setTimeout(r,25)}),t)}()})),y=new Promise((function(e,t){c=setTimeout((function(){t(Error(l+"ms timeout exceeded"))}),l)}));Promise.race([y,h]).then((function(){clearTimeout(c),e(o)}),t)}else!function(e){document.body?e():document.addEventListener?document.addEventListener("DOMContentLoaded",(function t(){document.removeEventListener("DOMContentLoaded",t),e()})):document.attachEvent("onreadystatechange",(function t(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",t),e())}))}((function(){function u(){var t;(t=-1!=m&&-1!=v||-1!=m&&-1!=g||-1!=v&&-1!=g)&&((t=m!=v&&m!=g&&v!=g)||(null===s&&(t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),s=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))),t=s&&(m==_&&v==_&&g==_||m==b&&v==b&&g==b||m==w&&v==w&&g==w)),t=!t),t&&(E.parentNode&&E.parentNode.removeChild(E),clearTimeout(c),e(o))}var f=new r(a),h=new r(a),y=new r(a),m=-1,v=-1,g=-1,_=-1,b=-1,w=-1,E=document.createElement("div");E.dir="ltr",n(f,d(o,"sans-serif")),n(h,d(o,"serif")),n(y,d(o,"monospace")),E.appendChild(f.a),E.appendChild(h.a),E.appendChild(y.a),document.body.appendChild(E),_=f.a.offsetWidth,b=h.a.offsetWidth,w=y.a.offsetWidth,function e(){if((new Date).getTime()-p>=l)E.parentNode&&E.parentNode.removeChild(E),t(Error(l+"ms timeout exceeded"));else{var r=document.hidden;!0!==r&&void 0!==r||(m=f.a.offsetWidth,v=h.a.offsetWidth,g=y.a.offsetWidth,u()),c=setTimeout(e,50)}}(),i(f,(function(e){m=e,u()})),n(f,d(o,'"'+o.family+'",sans-serif')),i(h,(function(e){v=e,u()})),n(h,d(o,'"'+o.family+'",serif')),i(y,(function(e){g=e,u()})),n(y,d(o,'"'+o.family+'",monospace'))}))}))},e.exports=a}()})),FONT_LOAD_TIMEOUT_IN_MS=3e3,styleNode=document.createElement("style");styleNode.id="reader3-fonts",styleNode.type="text/css",document.head&&document.head.appendChild(styleNode);var fonts={};function fontLoadNative(e,t,r,n){var o=new FontFace(t,r,{});e.add(o);var i=e.load("12px ".concat(t)).then((function(e){if(0===e.length)throw new Error("Native font load failed");return o})),a=null,s=new Promise((function(e,t){a=setTimeout((function(){return t(new Error("Native font load timeout"))}),n)}));return Promise.race([i,s]).then((function(e){return a&&clearTimeout(a),e}),(function(e){return a&&clearTimeout(a),Promise.reject(e)}))}function fontLoadCompat(e,t,r,n){var o='@font-face { font-family: "'.concat(e,'"; src: ').concat(t,'; format("woff"); }');styleNode.appendChild(document.createTextNode(o));var i=new fontfaceobserver_standalone(e);if(r){var a=r.text.substring(0,8);return i.load(a,n).catch((function(e){var t=new Error('Compat font load failed: "'.concat(e,'"'));throw t.skipTracking=!0,t}))}return Promise.resolve(i)}function loadFont(e,t,r){if(fonts.hasOwnProperty(e))return fonts[e];var n=document.fonts;return fonts[e]=n?fontLoadNative(n,e,t,FONT_LOAD_TIMEOUT_IN_MS):fontLoadCompat(e,t,r,FONT_LOAD_TIMEOUT_IN_MS),fonts[e]}function getSymbols(e){for(var t=0,r=e.length,n=[];t<r-1;++t){var o=e.charCodeAt(t);o>=55296&&o<=56319&&(o=e.charCodeAt(t+1))>=56320&&o<=57343?(n.push(e.slice(t,t+2)),++t):n.push(e.charAt(t))}return n.push(e.charAt(t)),n}function getTimestamp(){try{return performance.now()}catch(e){return Date.now()}}var $Reader$1=minimal$1.Reader,$util$1=minimal$1.util,$root$1=minimal$1.roots.default||(minimal$1.roots.default={}),text;$root$1.text=(text={},text.TextBlock=function(){function e(e){if(this.matrix=[],this.char_offset=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.text="",e.prototype.height=0,e.prototype.matrix=$util$1.emptyArray,e.prototype.char_offset=$util$1.emptyArray,e.decode=function(e,t){e instanceof $Reader$1||(e=$Reader$1.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new $root$1.text.TextBlock;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.text=e.string();break;case 2:n.height=e.float();break;case 3:if(n.matrix&&n.matrix.length||(n.matrix=[]),2==(7&o))for(var i=e.uint32()+e.pos;e.pos<i;)n.matrix.push(e.float());else n.matrix.push(e.float());break;case 4:if(n.char_offset&&n.char_offset.length||(n.char_offset=[]),2==(7&o))for(i=e.uint32()+e.pos;e.pos<i;)n.char_offset.push(e.int32());else n.char_offset.push(e.int32());break;default:e.skipType(7&o)}}return n},e}(),text.Page=function(){function e(e){if(this.text_block=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.page_number=0,e.prototype.width=0,e.prototype.height=0,e.prototype.text_block=$util$1.emptyArray,e.decode=function(e,t){e instanceof $Reader$1||(e=$Reader$1.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new $root$1.text.Page;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.page_number=e.uint32();break;case 2:n.width=e.uint32();break;case 3:n.height=e.uint32();break;case 4:n.text_block&&n.text_block.length||(n.text_block=[]),n.text_block.push($root$1.text.TextBlock.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return n},e}(),text.Document=function(){function e(e){if(this.page=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.page=$util$1.emptyArray,e.prototype.build="",e.decode=function(e,t){e instanceof $Reader$1||(e=$Reader$1.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new $root$1.text.Document;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.page&&n.page.length||(n.page=[]),n.page.push($root$1.text.Page.decode(e,e.uint32()));break;case 2:n.build=e.string();break;default:e.skipType(7&o)}}return n},e}(),text);var textProto=$root$1,accent_map={"ẚ":"a","Á":"a","á":"a","À":"a","à":"a","Ă":"a","ă":"a","Ắ":"a","ắ":"a","Ằ":"a","ằ":"a","Ẵ":"a","ẵ":"a","Ẳ":"a","ẳ":"a","Â":"a","â":"a","Ấ":"a","ấ":"a","Ầ":"a","ầ":"a","Ẫ":"a","ẫ":"a","Ẩ":"a","ẩ":"a","Ǎ":"a","ǎ":"a","Å":"a","å":"a","Ǻ":"a","ǻ":"a","Ä":"a","ä":"a","Ǟ":"a","ǟ":"a","Ã":"a","ã":"a","Ȧ":"a","ȧ":"a","Ǡ":"a","ǡ":"a","Ą":"a","ą":"a","Ā":"a","ā":"a","Ả":"a","ả":"a","Ȁ":"a","ȁ":"a","Ȃ":"a","ȃ":"a","Ạ":"a","ạ":"a","Ặ":"a","ặ":"a","Ậ":"a","ậ":"a","Ḁ":"a","ḁ":"a","Ⱥ":"a","ⱥ":"a","Ǽ":"a","ǽ":"a","Ǣ":"a","ǣ":"a","Ḃ":"b","ḃ":"b","Ḅ":"b","ḅ":"b","Ḇ":"b","ḇ":"b","Ƀ":"b","ƀ":"b","ᵬ":"b","Ɓ":"b","ɓ":"b","Ƃ":"b","ƃ":"b","Ć":"c","ć":"c","Ĉ":"c","ĉ":"c","Č":"c","č":"c","Ċ":"c","ċ":"c","Ç":"c","ç":"c","Ḉ":"c","ḉ":"c","Ȼ":"c","ȼ":"c","Ƈ":"c","ƈ":"c","ɕ":"c","Ď":"d","ď":"d","Ḋ":"d","ḋ":"d","Ḑ":"d","ḑ":"d","Ḍ":"d","ḍ":"d","Ḓ":"d","ḓ":"d","Ḏ":"d","ḏ":"d","Đ":"d","đ":"d","ᵭ":"d","Ɖ":"d","ɖ":"d","Ɗ":"d","ɗ":"d","Ƌ":"d","ƌ":"d","ȡ":"d","ð":"d","É":"e","Ə":"e","Ǝ":"e","ǝ":"e","é":"e","È":"e","è":"e","Ĕ":"e","ĕ":"e","Ê":"e","ê":"e","Ế":"e","ế":"e","Ề":"e","ề":"e","Ễ":"e","ễ":"e","Ể":"e","ể":"e","Ě":"e","ě":"e","Ë":"e","ë":"e","Ẽ":"e","ẽ":"e","Ė":"e","ė":"e","Ȩ":"e","ȩ":"e","Ḝ":"e","ḝ":"e","Ę":"e","ę":"e","Ē":"e","ē":"e","Ḗ":"e","ḗ":"e","Ḕ":"e","ḕ":"e","Ẻ":"e","ẻ":"e","Ȅ":"e","ȅ":"e","Ȇ":"e","ȇ":"e","Ẹ":"e","ẹ":"e","Ệ":"e","ệ":"e","Ḙ":"e","ḙ":"e","Ḛ":"e","ḛ":"e","Ɇ":"e","ɇ":"e","ɚ":"e","ɝ":"e","Ḟ":"f","ḟ":"f","ᵮ":"f","Ƒ":"f","ƒ":"f","Ǵ":"g","ǵ":"g","Ğ":"g","ğ":"g","Ĝ":"g","ĝ":"g","Ǧ":"g","ǧ":"g","Ġ":"g","ġ":"g","Ģ":"g","ģ":"g","Ḡ":"g","ḡ":"g","Ǥ":"g","ǥ":"g","Ɠ":"g","ɠ":"g","Ĥ":"h","ĥ":"h","Ȟ":"h","ȟ":"h","Ḧ":"h","ḧ":"h","Ḣ":"h","ḣ":"h","Ḩ":"h","ḩ":"h","Ḥ":"h","ḥ":"h","Ḫ":"h","ḫ":"h",H:"h","ẖ":"h","Ħ":"h","ħ":"h","Ⱨ":"h","ⱨ":"h","Í":"i","í":"i","Ì":"i","ì":"i","Ĭ":"i","ĭ":"i","Î":"i","î":"i","Ǐ":"i","ǐ":"i","Ï":"i","ï":"i","Ḯ":"i","ḯ":"i","Ĩ":"i","ĩ":"i","İ":"i",i:"i","Į":"i","į":"i","Ī":"i","ī":"i","Ỉ":"i","ỉ":"i","Ȉ":"i","ȉ":"i","Ȋ":"i","ȋ":"i","Ị":"i","ị":"i","Ḭ":"i","ḭ":"i",I:"i","ı":"i","Ɨ":"i","ɨ":"i","Ĵ":"j","ĵ":"j",J:"j","ǰ":"j","ȷ":"j","Ɉ":"j","ɉ":"j","ʝ":"j","ɟ":"j","ʄ":"j","Ḱ":"k","ḱ":"k","Ǩ":"k","ǩ":"k","Ķ":"k","ķ":"k","Ḳ":"k","ḳ":"k","Ḵ":"k","ḵ":"k","Ƙ":"k","ƙ":"k","Ⱪ":"k","ⱪ":"k","Ĺ":"a","ĺ":"l","Ľ":"l","ľ":"l","Ļ":"l","ļ":"l","Ḷ":"l","ḷ":"l","Ḹ":"l","ḹ":"l","Ḽ":"l","ḽ":"l","Ḻ":"l","ḻ":"l","Ł":"l","ł":"l","Ŀ":"l","ŀ":"l","Ƚ":"l","ƚ":"l","Ⱡ":"l","ⱡ":"l","Ɫ":"l","ɫ":"l","ɬ":"l","ɭ":"l","ȴ":"l","Ḿ":"m","ḿ":"m","Ṁ":"m","ṁ":"m","Ṃ":"m","ṃ":"m","ɱ":"m","Ń":"n","ń":"n","Ǹ":"n","ǹ":"n","Ň":"n","ň":"n","Ñ":"n","ñ":"n","Ṅ":"n","ṅ":"n","Ņ":"n","ņ":"n","Ṇ":"n","ṇ":"n","Ṋ":"n","ṋ":"n","Ṉ":"n","ṉ":"n","Ɲ":"n","ɲ":"n","Ƞ":"n","ƞ":"n","ɳ":"n","ȵ":"n",N:"n",n:"n","Ó":"o","ó":"o","Ò":"o","ò":"o","Ŏ":"o","ŏ":"o","Ô":"o","ô":"o","Ố":"o","ố":"o","Ồ":"o","ồ":"o","Ỗ":"o","ỗ":"o","Ổ":"o","ổ":"o","Ǒ":"o","ǒ":"o","Ö":"o","ö":"o","Ȫ":"o","ȫ":"o","Ő":"o","ő":"o","Õ":"o","õ":"o","Ṍ":"o","ṍ":"o","Ṏ":"o","ṏ":"o","Ȭ":"o","ȭ":"o","Ȯ":"o","ȯ":"o","Ȱ":"o","ȱ":"o","Ø":"o","ø":"o","Ǿ":"o","ǿ":"o","Ǫ":"o","ǫ":"o","Ǭ":"o","ǭ":"o","Ō":"o","ō":"o","Ṓ":"o","ṓ":"o","Ṑ":"o","ṑ":"o","Ỏ":"o","ỏ":"o","Ȍ":"o","ȍ":"o","Ȏ":"o","ȏ":"o","Ơ":"o","ơ":"o","Ớ":"o","ớ":"o","Ờ":"o","ờ":"o","Ỡ":"o","ỡ":"o","Ở":"o","ở":"o","Ợ":"o","ợ":"o","Ọ":"o","ọ":"o","Ộ":"o","ộ":"o","Ɵ":"o","ɵ":"o","Ṕ":"p","ṕ":"p","Ṗ":"p","ṗ":"p","Ᵽ":"p","Ƥ":"p","ƥ":"p",p:"p","ʠ":"q","Ɋ":"q","ɋ":"q","Ŕ":"r","ŕ":"r","Ř":"r","ř":"r","Ṙ":"r","ṙ":"r","Ŗ":"r","ŗ":"r","Ȑ":"r","ȑ":"r","Ȓ":"r","ȓ":"r","Ṛ":"r","ṛ":"r","Ṝ":"r","ṝ":"r","Ṟ":"r","ṟ":"r","Ɍ":"r","ɍ":"r","ᵲ":"r","ɼ":"r","Ɽ":"r","ɽ":"r","ɾ":"r","ᵳ":"r","ß":"s","Ś":"s","ś":"s","Ṥ":"s","ṥ":"s","Ŝ":"s","ŝ":"s","Š":"s","š":"s","Ṧ":"s","ṧ":"s","Ṡ":"s","ṡ":"s","ẛ":"s","Ş":"s","ş":"s","Ṣ":"s","ṣ":"s","Ṩ":"s","ṩ":"s","Ș":"s","ș":"s","ʂ":"s",S:"s",s:"s","Þ":"t","þ":"t","Ť":"t","ť":"t",T:"t","ẗ":"t","Ṫ":"t","ṫ":"t","Ţ":"t","ţ":"t","Ṭ":"t","ṭ":"t","Ț":"t","ț":"t","Ṱ":"t","ṱ":"t","Ṯ":"t","ṯ":"t","Ŧ":"t","ŧ":"t","Ⱦ":"t","ⱦ":"t","ᵵ":"t","ƫ":"t","Ƭ":"t","ƭ":"t","Ʈ":"t","ʈ":"t","ȶ":"t","Ú":"u","ú":"u","Ù":"u","ù":"u","Ŭ":"u","ŭ":"u","Û":"u","û":"u","Ǔ":"u","ǔ":"u","Ů":"u","ů":"u","Ü":"u","ü":"u","Ǘ":"u","ǘ":"u","Ǜ":"u","ǜ":"u","Ǚ":"u","ǚ":"u","Ǖ":"u","ǖ":"u","Ű":"u","ű":"u","Ũ":"u","ũ":"u","Ṹ":"u","ṹ":"u","Ų":"u","ų":"u","Ū":"u","ū":"u","Ṻ":"u","ṻ":"u","Ủ":"u","ủ":"u","Ȕ":"u","ȕ":"u","Ȗ":"u","ȗ":"u","Ư":"u","ư":"u","Ứ":"u","ứ":"u","Ừ":"u","ừ":"u","Ữ":"u","ữ":"u","Ử":"u","ử":"u","Ự":"u","ự":"u","Ụ":"u","ụ":"u","Ṳ":"u","ṳ":"u","Ṷ":"u","ṷ":"u","Ṵ":"u","ṵ":"u","Ʉ":"u","ʉ":"u","Ṽ":"v","ṽ":"v","Ṿ":"v","ṿ":"v","Ʋ":"v","ʋ":"v","Ẃ":"w","ẃ":"w","Ẁ":"w","ẁ":"w","Ŵ":"w","ŵ":"w",W:"w","ẘ":"w","Ẅ":"w","ẅ":"w","Ẇ":"w","ẇ":"w","Ẉ":"w","ẉ":"w","Ẍ":"x","ẍ":"x","Ẋ":"x","ẋ":"x","Ý":"y","ý":"y","Ỳ":"y","ỳ":"y","Ŷ":"y","ŷ":"y",Y:"y","ẙ":"y","Ÿ":"y","ÿ":"y","Ỹ":"y","ỹ":"y","Ẏ":"y","ẏ":"y","Ȳ":"y","ȳ":"y","Ỷ":"y","ỷ":"y","Ỵ":"y","ỵ":"y","ʏ":"y","Ɏ":"y","ɏ":"y","Ƴ":"y","ƴ":"y","Ź":"z","ź":"z","Ẑ":"z","ẑ":"z","Ž":"z","ž":"z","Ż":"z","ż":"z","Ẓ":"z","ẓ":"z","Ẕ":"z","ẕ":"z","Ƶ":"z","ƶ":"z","Ȥ":"z","ȥ":"z","ʐ":"z","ʑ":"z","Ⱬ":"z","ⱬ":"z","Ǯ":"z","ǯ":"z","ƺ":"z","２":"2","６":"6","Ｂ":"B","Ｆ":"F","Ｊ":"J","Ｎ":"N","Ｒ":"R","Ｖ":"V","Ｚ":"Z","ｂ":"b","ｆ":"f","ｊ":"j","ｎ":"n","ｒ":"r","ｖ":"v","ｚ":"z","１":"1","５":"5","９":"9","Ａ":"A","Ｅ":"E","Ｉ":"I","Ｍ":"M","Ｑ":"Q","Ｕ":"U","Ｙ":"Y","ａ":"a","ｅ":"e","ｉ":"i","ｍ":"m","ｑ":"q","ｕ":"u","ｙ":"y","０":"0","４":"4","８":"8","Ｄ":"D","Ｈ":"H","Ｌ":"L","Ｐ":"P","Ｔ":"T","Ｘ":"X","ｄ":"d","ｈ":"h","ｌ":"l","ｐ":"p","ｔ":"t","ｘ":"x","３":"3","７":"7","Ｃ":"C","Ｇ":"G","Ｋ":"K","Ｏ":"O","Ｓ":"S","Ｗ":"W","ｃ":"c","ｇ":"g","ｋ":"k","ｏ":"o","ｓ":"s","ｗ":"w"};function accentFold(e){return e in accent_map?accent_map[e]:e}function filterAccents(e){return e.split("").map((function(e){return accentFold(e)})).join("")}function filterAccentsInData(e){return{page:e.page.map((function(e){var t=e.height,r=e.page_number,n=e.text_block;return{height:t,page_number:r,width:e.width,text_block:n.map((function(e){return{char_offset:e.char_offset,height:e.height,matrix:e.matrix,text:filterAccents(e.text)}}))}}))}}function parseFindData(e){return{pages:filterAccentsInData(e).page.map((function(e){return{pageNumber:e.page_number,textBlocks:(e.text_block||[]).map((function(e){var t=e.char_offset.reduce((function(e,t){return e.push((e[e.length-1]||0)+t),e}),[]);return t.push(t[t.length-1]),{text:"".concat(e.text,"\n"),height:e.height,matrix:e.matrix,charOffsets:t}})),text:(e.text_block||[]).reduce((function(e,t){return"".concat(e).concat(t.text,"\n")}),""),width:e.width,height:e.height}}))}}function loadFindData(e){return(e.match(/\.json(?:\?.*)$/)?loadJson(e,!1).then((function(e){return e})):loadBinary(e,!1).then((function(e){return textProto.text.Document.decode(e)}))).then(parseFindData)}var CanvasPool={_pool:[],get:function(){return this._pool.length?this._pool.pop():document.createElement("canvas")},release:function(e){this._pool.push(e)}};function preRenderInOffscreenCanvasWhenNeeded(e,t,r){return new Promise((function(n){if(!("requestIdleCallback"in window))return n();var o=parseInt(e.replace(/^f\d+_/,""),10),i=[];r.forEach((function(e){"text"===e.type&&e.font===o&&i.push.apply(i,_toConsumableArray(getSymbols(e.text)))}));var a=Array.from(new Set(i.join("")));if(0===a.length)return n();if(t/a.length<=3e3)return n();var s=CanvasPool.get(),u=s.getContext("2d");if(!u)return CanvasPool.release(s),n();u.font='10px "'.concat(e,'"'),window.requestIdleCallback((function e(){var t=getTimestamp();do{var r=a.shift();u.fillText(r,0,0)}while(getTimestamp()-t<100&&a.length>0);a.length>0?window.requestIdleCallback(e):(CanvasPool.release(s),n())}))}))}function hydrateLayers(e,t,r,n){var o=e.images.map((function(e){var r;switch(n.onImageDecodeStart(e),e.type){case"embed":r="data:image/jpeg;base64,".concat(e.resource);break;case"file":r="".concat(t,"/").concat(e.resource);break;default:throw new Error("cannot process image resource with type ".concat(e.type))}return loadImage(r).then((function(t){return n.onImageDecodeEnd(e),t}))})),i=e.fonts.map((function(r,o){var i,a="f".concat(e.page,"_").concat(o);switch(n.onFontLoadStart(a),r.type){case"embed":i="url(data:application/x-font-woff;charset=utf-8;base64,".concat(r.resource,")");break;case"file":i="url(".concat(t,"/").concat(r.resource,")");break;default:throw new Error("cannot process font resource with type ".concat(r.type))}var s=e.layers.find((function(e){return"text"===e.type&&e.font===o&&e.text.trim().length>0}));return loadFont(a,i,s).then((function(){return n.onFontLoadEnd(a),preRenderInOffscreenCanvasWhenNeeded(a,r.resource.length,e.layers)}))}));return Promise.all([Promise.all(o),Promise.all(i)]).then((function(t){return{layers:e.layers,images:t[0],fonts:e.fonts.map((function(e){return{type:e.type,weight:e.weight}})),width:e.width,height:e.height,page:e.page,version:e.version,usable:e.usable}}))}function loadLayers(e){var t=e.url,r=e.pageNumber,n=e.version,o=e.loadStatsTracker;return loadLayersByVersion(t,r,n,o).then((function(e){var n=_slicedToArray(e,2),i=n[0],a=n[1];return hydrateLayers(i,t.split("?",2)[0].split("/").slice(0,-1).join("/"),r,o).then((function(e){return a>1?o.onPageLoadSuccessAfterRetry(r,"layers"):o.onPageLoadSuccess(r,"layers"),e})).catch((function(e){return o.onPageLoadFailure(r,"layers"),Promise.reject(e)}))}))}var _reEscape=/[-/\\^$*+?.()|[\]{}]/,_reNonBlank=/\S/;function computeSearchRegexp(e){for(var t="",r=e.length,n=0;n<r;n++){var o=e[n];o.match(_reNonBlank)?(t+=o.replace(_reEscape,"\\$&"),t+="\n?"):t+=" "}return t=t.replace(/[ ]+/g,"\\s+"),new RegExp(t,"mig")}function sliceTextBlocks(e,t,r){for(var n=[],o=0;o<r.length;o++){var i=r[o].text.length;if(n.length||e<i?n.push(r[o]):e-=i,n.length&&t<=i)return{start:e,end:t,blocks:n};t-=i}throw new Error("index out of range")}function getResultFromIndex(e,t,r){var n=sliceTextBlocks(e,e+t,r),o=n.start,i=n.end,a=n.blocks;return a.map((function(e,t){var r=0===t?o:0,n=t===a.length-1?i:e.charOffsets.length-1,s=e.charOffsets[r];return{x:s,y:0,width:e.charOffsets[n]-s,height:e.height,matrix:e.matrix}}))}function find(e,t){var r=[];if(!(e=e.trim()).length)return r;var n,o=computeSearchRegexp(e=filterAccents(e)),i=_createForOfIteratorHelper(t.pages);try{for(i.s();!(n=i.n()).done;)for(var a=n.value,s=o.exec(a.text);s;s=o.exec(a.text))r.push({pageNo:a.pageNumber,result:getResultFromIndex(s.index,s[0].length,a.textBlocks)})}catch(e){i.e(e)}finally{i.f()}return r}function highlight(e,t,r){e.save(),e.fillStyle="rgba(0,255,0,0.3)";var n,o=_createForOfIteratorHelper(t);try{for(o.s();!(n=o.n()).done;){var i=n.value,a=e.canvas.width/r.width,s=e.canvas.height/r.height;e.setTransform(a,0,0,s,0,0),e.transform(i.matrix[0],i.matrix[1],i.matrix[2],i.matrix[3],i.matrix[4],i.matrix[5]),e.fillRect(i.x,i.y,i.width,i.height)}}catch(e){o.e(e)}finally{o.f()}return e.restore(),t}var NEVER_USE_TWOPASS=/(iPad|iPhone|iPod).*(AppleWebKit\/).*(Mobile\/).*(Safari\/)/i.test(navigator.userAgent);function color(e){return"rgba(".concat(e.join(),")")}var twoPassCanvas=null;function renderLayers(e,t,r){var n,o,i,a,s,u,c=arguments;return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return n=c.length>3&&void 0!==c[3]&&c[3],void(l.next=3);case 3:o=l.sent,i=getTimestamp(),a=_createForOfIteratorHelper(r.layers),l.prev=6,u=regeneratorRuntime.mark((function a(){var u,c,l,f,p,d,h,y,m;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(u=s.value,!isNaN(o)){a.next=3;break}return a.abrupt("return","break");case 3:if("image"!==(c=u).type){a.next=33;break}if(l=r.images[c.image],a.prev=6,!(t[0]<2||t[3]<2)||NEVER_USE_TWOPASS||n){a.next=22;break}if(twoPassCanvas||(twoPassCanvas=document.createElement("canvas")),twoPassCanvas.width=2*e.canvas.width,twoPassCanvas.height=2*e.canvas.height,twoPassCanvas.id="reader3-twopass-canvas-".concat(twoPassCanvas.width,"x").concat(twoPassCanvas.height),f=twoPassCanvas.getContext("2d")){a.next=16;break}throw new Error("could not get canvas for twopass scaling");case 16:f.setTransform(2*t[0],2*t[1],2*t[2],2*t[3],2*t[4],2*t[5]),f.drawImage(l,0,0,c.width,c.height),e.setTransform(1,0,0,1,0,0),e.drawImage(twoPassCanvas,0,0,twoPassCanvas.width,twoPassCanvas.height,0,0,e.canvas.width,e.canvas.height),a.next=24;break;case 22:e.setTransform(t[0],t[1],t[2],t[3],t[4],t[5]),e.drawImage(l,0,0,c.width,c.height);case 24:a.next=31;break;case 26:throw a.prev=26,a.t0=a.catch(6),p={has_image:!!l,image_width:l&&l.width,image_height:l&&l.height,dst_width:c.width,dst_height:c.height,canvas_width:e.canvas.width,canvas_height:e.canvas.height},a.t0.sentry_extra=Object.assign({textRender:p},a.t0.sentry_extra),a.t0;case 31:a.next=34;break;case 33:"text"===c.type?(d=100*Math.ceil(r.fonts[c.font].weight/100)||400,e.font="".concat(d," ").concat(c.size,'px "f').concat(r.page,"_").concat(c.font,'"'),e.fillStyle=color(c.color),e.setTransform(t[0],t[1],t[2],t[3],t[4],t[5]),e.transform(c.matrix[0],c.matrix[1],c.matrix[2],c.matrix[3],c.matrix[4],c.matrix[5]),h=c.scale.some((function(e){return 1!==e})),getSymbols(c.text).forEach((function(r,n){var o=c.originx[n],i=c.originy[n],a=c.scale[n];h&&(e.setTransform(t[0],t[1],t[2],t[3],t[4],t[5]),e.transform(c.matrix[0]*a,c.matrix[1]*a,c.matrix[2],c.matrix[3],c.matrix[4],c.matrix[5])),e.fillText(r,o/a,i)}))):"rect"===c.type?(e.setTransform(t[0],t[1],t[2],t[3],t[4],t[5]),e.fillStyle=color(c.color),y=e.globalCompositeOperation,e.globalCompositeOperation=c.blend,e.fillRect(c.box[0],c.box[1],c.box[2],c.box[3]),e.globalCompositeOperation=y):"line"===c.type&&(e.setTransform(t[0],t[1],t[2],t[3],t[4],t[5]),e.strokeStyle=color(c.color),e.lineWidth=1,m=e.globalCompositeOperation,e.globalCompositeOperation=c.blend,e.beginPath(),e.moveTo(c.coords[0],c.coords[1]),e.lineTo(c.coords[2],c.coords[3]),e.stroke(),e.globalCompositeOperation=m);case 34:if(!(getTimestamp()-i>o)){a.next=39;break}return void(a.next=37);case 37:o=a.sent,i=getTimestamp();case 39:case"end":return a.stop()}}),a,null,[[6,26]])})),a.s();case 9:if((s=a.n()).done){l.next=16;break}return l.delegateYield(u(),"t0",11);case 11:if("break"!==l.t0){l.next=14;break}return l.abrupt("break",16);case 14:l.next=9;break;case 16:l.next=21;break;case 18:l.prev=18,l.t1=l.catch(6),a.e(l.t1);case 21:return l.prev=21,a.f(),l.finish(21);case 24:case"end":return l.stop()}}),_marked,null,[[6,18,21,24]])}}).call(this,__webpack_require__(51))},,function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},function(e,t,r){var n=r(206),o=r(8),i=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?i(n[e])||i(o[e]):n[e]&&n[e][t]||o[e]&&o[e][t]}},function(e,t,r){var n=r(207),o=r(169).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,o)}},function(e,t){e.exports=function(e,t,r){if(!(e instanceof t))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return e}},function(e,t,r){var n,o=r(26),i=r(213),a=r(169),s=r(122),u=r(210),c=r(165),l=r(145),f=l("IE_PROTO"),p=function(){},d=function(e){return"<script>"+e+"<\/script>"},h=function(){try{n=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;h=n?function(e){e.write(d("")),e.close();var t=e.parentWindow.Object;return e=null,t}(n):((t=c("iframe")).style.display="none",u.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(d("document.F=Object")),e.close(),e.F);for(var r=a.length;r--;)delete h.prototype[a[r]];return h()};s[f]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(p.prototype=o(e),r=new p,p.prototype=null,r[f]=e):r=h(),void 0===t?r:i(r,t)}},function(e,t,r){"use strict";e.exports=c;var n=r(112);((c.prototype=Object.create(n.prototype)).constructor=c).className="Field";var o,i=r(77),a=r(113),s=r(33),u=/^required|optional|repeated$/;function c(e,t,r,o,i,c,l){if(s.isObject(o)?(l=i,c=o,o=i=void 0):s.isObject(i)&&(l=c,c=i,i=void 0),n.call(this,e,c),!s.isInteger(t)||t<0)throw TypeError("id must be a non-negative integer");if(!s.isString(r))throw TypeError("type must be a string");if(void 0!==o&&!u.test(o=o.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(void 0!==i&&!s.isString(i))throw TypeError("extend must be a string");this.rule=o&&"optional"!==o?o:void 0,this.type=r,this.id=t,this.extend=i||void 0,this.required="required"===o,this.optional=!this.required,this.repeated="repeated"===o,this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=!!s.Long&&void 0!==a.long[r],this.bytes="bytes"===r,this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=l}c.fromJSON=function(e,t){return new c(e,t.id,t.type,t.rule,t.extend,t.options,t.comment)},Object.defineProperty(c.prototype,"packed",{get:function(){return null===this._packed&&(this._packed=!1!==this.getOption("packed")),this._packed}}),c.prototype.setOption=function(e,t,r){return"packed"===e&&(this._packed=null),n.prototype.setOption.call(this,e,t,r)},c.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return s.toObject(["rule","optional"!==this.rule&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},c.prototype.resolve=function(){if(this.resolved)return this;if(void 0===(this.typeDefault=a.defaults[this.type])&&(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof o?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]),this.options&&null!=this.options.default&&(this.typeDefault=this.options.default,this.resolvedType instanceof i&&"string"==typeof this.typeDefault&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(!0!==this.options.packed&&(void 0===this.options.packed||!this.resolvedType||this.resolvedType instanceof i)||delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=s.Long.fromNumber(this.typeDefault,"u"===this.type.charAt(0)),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&"string"==typeof this.typeDefault){var e;s.base64.test(this.typeDefault)?s.base64.decode(this.typeDefault,e=s.newBuffer(s.base64.length(this.typeDefault)),0):s.utf8.write(this.typeDefault,e=s.newBuffer(s.utf8.length(this.typeDefault)),0),this.typeDefault=e}return this.map?this.defaultValue=s.emptyObject:this.repeated?this.defaultValue=s.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof o&&(this.parent.ctor.prototype[this.name]=this.defaultValue),n.prototype.resolve.call(this)},c.d=function(e,t,r,n){return"function"==typeof t?t=s.decorateType(t).name:t&&"object"==typeof t&&(t=s.decorateEnum(t).name),function(o,i){s.decorateType(o.constructor).add(new c(i,e,t,r,{default:n}))}},c._configure=function(e){o=e}},function(e,t,r){var n=r(5),o=r(244);n({target:"Array",stat:!0,forced:!r(149)((function(e){Array.from(e)}))},{from:o})},function(e,t,r){"use strict";var n=r(249),o="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),i=Object.prototype.toString,a=Array.prototype.concat,s=Object.defineProperty,u=s&&function(){var e={};try{for(var t in s(e,"x",{enumerable:!1,value:e}),e)return!1;return e.x===e}catch(e){return!1}}(),c=function(e,t,r,n){var o;(!(t in e)||"function"==typeof(o=n)&&"[object Function]"===i.call(o)&&n())&&(u?s(e,t,{configurable:!0,enumerable:!1,value:r,writable:!0}):e[t]=r)},l=function(e,t){var r=arguments.length>2?arguments[2]:{},i=n(t);o&&(i=a.call(i,Object.getOwnPropertySymbols(t)));for(var s=0;s<i.length;s+=1)c(e,i[s],t[i[s]],r[i[s]])};l.supportsDescriptors=!!u,e.exports=l},function(e,t,r){var n;
/*!
 * jsUri
 * https://github.com/derek-watson/jsUri
 *
 * Copyright 2013, Derek Watson
 * Released under the MIT license.
 *
 * Includes parseUri regular expressions
 * http://blog.stevenlevithan.com/archives/parseuri
 * Copyright 2007, Steven Levithan
 * Released under the MIT license.
 */!function(o){var i={starts_with_slashes:/^\/+/,ends_with_slashes:/\/+$/,pluses:/\+/g,query_separator:/[&;]/,uri_parser:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*)(?::([^:@]*))?)?@)?(\[[0-9a-fA-F:.]+\]|[^:\/?#]*)(?::(\d+|(?=:)))?(:)?)((((?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/};function a(e){return e&&(e=e.toString().replace(i.pluses,"%20"),e=decodeURIComponent(e)),e}function s(e){var t,r,n,o,s,u,c,l=[];if(null==e||""===e)return l;for(0===e.indexOf("?")&&(e=e.substring(1)),t=0,c=(r=e.toString().split(i.query_separator)).length;t<c;t++)0!==(o=(n=r[t]).indexOf("="))&&(s=a(n.substring(0,o)),u=a(n.substring(o+1)),l.push(-1===o?[n,null]:[s,u]));return l}function u(e){this.uriParts=function(e){var t=i.uri_parser.exec(e||""),r={};return["source","protocol","authority","userInfo","user","password","host","port","isColonUri","relative","path","directory","file","query","anchor"].forEach((function(e,n){r[e]=t[n]||""})),r}(e),this.queryPairs=s(this.uriParts.query),this.hasAuthorityPrefixUserPref=null}Array.prototype.forEach||(Array.prototype.forEach=function(e,t){var r,n;if(null==this)throw new TypeError(" this is null or not defined");var o=Object(this),i=o.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(r=t),n=0;n<i;){var a;n in o&&(a=o[n],e.call(r,a,n,o)),n++}}),["protocol","userInfo","host","port","path","anchor"].forEach((function(e){u.prototype[e]=function(t){return void 0!==t&&(this.uriParts[e]=t),this.uriParts[e]}})),u.prototype.hasAuthorityPrefix=function(e){return void 0!==e&&(this.hasAuthorityPrefixUserPref=e),null===this.hasAuthorityPrefixUserPref?-1!==this.uriParts.source.indexOf("//"):this.hasAuthorityPrefixUserPref},u.prototype.isColonUri=function(e){if(void 0===e)return!!this.uriParts.isColonUri;this.uriParts.isColonUri=!!e},u.prototype.query=function(e){var t,r,n,o="";for(void 0!==e&&(this.queryPairs=s(e)),t=0,n=this.queryPairs.length;t<n;t++)r=this.queryPairs[t],o.length>0&&(o+="&"),null===r[1]?o+=r[0]:(o+=r[0],o+="=",void 0!==r[1]&&(o+=encodeURIComponent(r[1])));return o.length>0?"?"+o:o},u.prototype.getQueryParamValue=function(e){var t,r,n;for(r=0,n=this.queryPairs.length;r<n;r++)if(e===(t=this.queryPairs[r])[0])return t[1]},u.prototype.getQueryParamValues=function(e){var t,r,n,o=[];for(t=0,n=this.queryPairs.length;t<n;t++)e===(r=this.queryPairs[t])[0]&&o.push(r[1]);return o},u.prototype.deleteQueryParam=function(e,t){var r,n,o,i,s,u=[];for(r=0,s=this.queryPairs.length;r<s;r++)o=a((n=this.queryPairs[r])[0])===a(e),i=n[1]===t,(1!==arguments.length||o)&&(2!==arguments.length||o&&i)||u.push(n);return this.queryPairs=u,this},u.prototype.addQueryParam=function(e,t,r){return 3===arguments.length&&-1!==r?(r=Math.min(r,this.queryPairs.length),this.queryPairs.splice(r,0,[e,t])):arguments.length>0&&this.queryPairs.push([e,t]),this},u.prototype.hasQueryParam=function(e){var t,r=this.queryPairs.length;for(t=0;t<r;t++)if(this.queryPairs[t][0]==e)return!0;return!1},u.prototype.replaceQueryParam=function(e,t,r){var n,o,i=-1,s=this.queryPairs.length;if(3===arguments.length){for(n=0;n<s;n++)if(a((o=this.queryPairs[n])[0])===a(e)&&decodeURIComponent(o[1])===a(r)){i=n;break}i>=0&&this.deleteQueryParam(e,a(r)).addQueryParam(e,t,i)}else{for(n=0;n<s;n++)if(a((o=this.queryPairs[n])[0])===a(e)){i=n;break}this.deleteQueryParam(e),this.addQueryParam(e,t,i)}return this},["protocol","hasAuthorityPrefix","isColonUri","userInfo","host","port","path","query","anchor"].forEach((function(e){var t="set"+e.charAt(0).toUpperCase()+e.slice(1);u.prototype[t]=function(t){return this[e](t),this}})),u.prototype.scheme=function(){var e="";return this.protocol()?(e+=this.protocol(),this.protocol().indexOf(":")!==this.protocol().length-1&&(e+=":"),e+="//"):this.hasAuthorityPrefix()&&this.host()&&(e+="//"),e},u.prototype.origin=function(){var e=this.scheme();return this.userInfo()&&this.host()&&(e+=this.userInfo(),this.userInfo().indexOf("@")!==this.userInfo().length-1&&(e+="@")),this.host()&&(e+=this.host(),(this.port()||this.path()&&this.path().substr(0,1).match(/[0-9]/))&&(e+=":"+this.port())),e},u.prototype.addTrailingSlash=function(){var e=this.path()||"";return"/"!==e.substr(-1)&&this.path(e+"/"),this},u.prototype.toString=function(){var e,t=this.origin();return this.isColonUri()?this.path()&&(t+=":"+this.path()):this.path()?(e=this.path(),i.ends_with_slashes.test(t)||i.starts_with_slashes.test(e)?(t&&t.replace(i.ends_with_slashes,"/"),e=e.replace(i.starts_with_slashes,"/")):t+="/",t+=e):this.host()&&(this.query().toString()||this.anchor())&&(t+="/"),this.query().toString()&&(t+=this.query().toString()),this.anchor()&&(0!==this.anchor().indexOf("#")&&(t+="#"),t+=this.anchor()),t},u.prototype.clone=function(){return new u(this.toString())},void 0===(n=function(){return u}.call(t,r,t,e))||(e.exports=n)}()},function(e,t,r){var n=r(249),o=r(359),i=r(363),a=r(365),s=r(366),u=r(255),c=Date.prototype.getTime;function l(e,t,r){var d=r||{};return!!(d.strict?i(e,t):e===t)||(!e||!t||"object"!=typeof e&&"object"!=typeof t?d.strict?i(e,t):e==t:function(e,t,r){var i,d;if(typeof e!=typeof t)return!1;if(f(e)||f(t))return!1;if(e.prototype!==t.prototype)return!1;if(o(e)!==o(t))return!1;var h=a(e),y=a(t);if(h!==y)return!1;if(h||y)return e.source===t.source&&s(e)===s(t);if(u(e)&&u(t))return c.call(e)===c.call(t);var m=p(e),v=p(t);if(m!==v)return!1;if(m||v){if(e.length!==t.length)return!1;for(i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}if(typeof e!=typeof t)return!1;try{var g=n(e),_=n(t)}catch(e){return!1}if(g.length!==_.length)return!1;for(g.sort(),_.sort(),i=g.length-1;i>=0;i--)if(g[i]!=_[i])return!1;for(i=g.length-1;i>=0;i--)if(d=g[i],!l(e[d],t[d],r))return!1;return!0}(e,t,d))}function f(e){return null==e}function p(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length)&&("function"==typeof e.copy&&"function"==typeof e.slice&&!(e.length>0&&"number"!=typeof e[0]))}e.exports=l},function(e,t,r){"use strict";r.d(t,"d",(function(){return o})),r.d(t,"c",(function(){return i})),r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return s}));var n=r(18);function o(e,t){return void 0===t&&(t=0),"string"!=typeof e||0===t||e.length<=t?e:e.substr(0,t)+"..."}function i(e,t){var r=e,n=r.length;if(n<=150)return r;t>n&&(t=n);var o=Math.max(t-60,0);o<5&&(o=0);var i=Math.min(o+140,n);return i>n-5&&(i=n),i===n&&(o=Math.max(i-140,0)),r=r.slice(o,i),o>0&&(r="'{snip} "+r),i<n&&(r+=" {snip}"),r}function a(e,t){if(!Array.isArray(e))return"";for(var r=[],n=0;n<e.length;n++){var o=e[n];try{r.push(String(o))}catch(e){r.push("[value cannot be serialized]")}}return r.join(t)}function s(e,t){return!!Object(n.k)(e)&&(Object(n.j)(t)?t.test(e):"string"==typeof t&&-1!==e.indexOf(t))}},function(e,t,r){var n=r(21);e.exports=function(e,t){if(!n(e))return e;var r,o;if(t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;if("function"==typeof(r=e.valueOf)&&!n(o=r.call(e)))return o;if(!t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t,r){var n=r(53),o=Math.max,i=Math.min;e.exports=function(e,t){var r=n(e);return r<0?o(r+t,0):i(r,t)}},function(e,t,r){var n=r(26),o=r(127),i=r(11)("species");e.exports=function(e,t){var r,a=n(e).constructor;return void 0===a||null==(r=n(a)[i])?t:o(r)}},function(e,t,r){var n=r(11),o=r(97),i=r(28),a=n("unscopables"),s=Array.prototype;null==s[a]&&i.f(s,a,{configurable:!0,value:o(null)}),e.exports=function(e){s[a][e]=!0}},function(e,t,r){"use strict";var n=r(5),o=r(8),i=r(94),a=r(85),s=r(25),u=r(166),c=r(204),l=r(6),f=r(27),p=r(130),d=r(21),h=r(26),y=r(34),m=r(52),v=r(104),g=r(92),_=r(97),b=r(132),w=r(95),E=r(214),O=r(170),T=r(86),x=r(28),k=r(146),S=r(43),P=r(40),C=r(162),A=r(145),R=r(122),j=r(121),I=r(11),D=r(215),M=r(216),L=r(87),N=r(49),B=r(37).forEach,F=A("hidden"),U=I("toPrimitive"),W=N.set,z=N.getterFor("Symbol"),H=Object.prototype,V=o.Symbol,G=i("JSON","stringify"),q=T.f,$=x.f,K=E.f,Y=k.f,X=C("symbols"),Z=C("op-symbols"),J=C("string-to-symbol-registry"),Q=C("symbol-to-string-registry"),ee=C("wks"),te=o.QObject,re=!te||!te.prototype||!te.prototype.findChild,ne=s&&l((function(){return 7!=_($({},"a",{get:function(){return $(this,"a",{value:7}).a}})).a}))?function(e,t,r){var n=q(H,t);n&&delete H[t],$(e,t,r),n&&e!==H&&$(H,t,n)}:$,oe=function(e,t){var r=X[e]=_(V.prototype);return W(r,{type:"Symbol",tag:e,description:t}),s||(r.description=t),r},ie=c?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof V},ae=function(e,t,r){e===H&&ae(Z,t,r),h(e);var n=v(t,!0);return h(r),f(X,n)?(r.enumerable?(f(e,F)&&e[F][n]&&(e[F][n]=!1),r=_(r,{enumerable:g(0,!1)})):(f(e,F)||$(e,F,g(1,{})),e[F][n]=!0),ne(e,n,r)):$(e,n,r)},se=function(e,t){h(e);var r=m(t),n=b(r).concat(fe(r));return B(n,(function(t){s&&!ue.call(r,t)||ae(e,t,r[t])})),e},ue=function(e){var t=v(e,!0),r=Y.call(this,t);return!(this===H&&f(X,t)&&!f(Z,t))&&(!(r||!f(this,t)||!f(X,t)||f(this,F)&&this[F][t])||r)},ce=function(e,t){var r=m(e),n=v(t,!0);if(r!==H||!f(X,n)||f(Z,n)){var o=q(r,n);return!o||!f(X,n)||f(r,F)&&r[F][n]||(o.enumerable=!0),o}},le=function(e){var t=K(m(e)),r=[];return B(t,(function(e){f(X,e)||f(R,e)||r.push(e)})),r},fe=function(e){var t=e===H,r=K(t?Z:m(e)),n=[];return B(r,(function(e){!f(X,e)||t&&!f(H,e)||n.push(X[e])})),n};(u||(P((V=function(){if(this instanceof V)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=j(e),r=function(e){this===H&&r.call(Z,e),f(this,F)&&f(this[F],t)&&(this[F][t]=!1),ne(this,t,g(1,e))};return s&&re&&ne(H,t,{configurable:!0,set:r}),oe(t,e)}).prototype,"toString",(function(){return z(this).tag})),P(V,"withoutSetter",(function(e){return oe(j(e),e)})),k.f=ue,x.f=ae,T.f=ce,w.f=E.f=le,O.f=fe,D.f=function(e){return oe(I(e),e)},s&&($(V.prototype,"description",{configurable:!0,get:function(){return z(this).description}}),a||P(H,"propertyIsEnumerable",ue,{unsafe:!0}))),n({global:!0,wrap:!0,forced:!u,sham:!u},{Symbol:V}),B(b(ee),(function(e){M(e)})),n({target:"Symbol",stat:!0,forced:!u},{for:function(e){var t=String(e);if(f(J,t))return J[t];var r=V(t);return J[t]=r,Q[r]=t,r},keyFor:function(e){if(!ie(e))throw TypeError(e+" is not a symbol");if(f(Q,e))return Q[e]},useSetter:function(){re=!0},useSimple:function(){re=!1}}),n({target:"Object",stat:!0,forced:!u,sham:!s},{create:function(e,t){return void 0===t?_(e):se(_(e),t)},defineProperty:ae,defineProperties:se,getOwnPropertyDescriptor:ce}),n({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:le,getOwnPropertySymbols:fe}),n({target:"Object",stat:!0,forced:l((function(){O.f(1)}))},{getOwnPropertySymbols:function(e){return O.f(y(e))}}),G)&&n({target:"JSON",stat:!0,forced:!u||l((function(){var e=V();return"[null]"!=G([e])||"{}"!=G({a:e})||"{}"!=G(Object(e))}))},{stringify:function(e,t,r){for(var n,o=[e],i=1;arguments.length>i;)o.push(arguments[i++]);if(n=t,(d(t)||void 0!==e)&&!ie(e))return p(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!ie(t))return t}),o[1]=t,G.apply(null,o)}});V.prototype[U]||S(V.prototype,U,V.prototype.valueOf),L(V,"Symbol"),R[F]=!0},function(e,t,r){"use strict";var n=r(5),o=r(25),i=r(8),a=r(27),s=r(21),u=r(28).f,c=r(205),l=i.Symbol;if(o&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var f={},p=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof p?new l(e):void 0===e?l():l(e);return""===e&&(f[t]=!0),t};c(p,l);var d=p.prototype=l.prototype;d.constructor=p;var h=d.toString,y="Symbol(test)"==String(l("test")),m=/^Symbol\((.*)\)[^)]+$/;u(d,"description",{configurable:!0,get:function(){var e=s(this)?this.valueOf():this,t=h.call(e);if(a(f,e))return"";var r=y?t.slice(7,-1):t.replace(m,"$1");return""===r?void 0:r}}),n({global:!0,forced:!0},{Symbol:p})}},function(e,t,r){var n=r(5),o=r(6),i=r(34),a=r(133),s=r(218);n({target:"Object",stat:!0,forced:o((function(){a(1)})),sham:!s},{getPrototypeOf:function(e){return a(i(e))}})},function(e,t,r){"use strict";var n=r(6);e.exports=function(e,t){var r=[][e];return!!r&&n((function(){r.call(null,t||function(){throw 1},1)}))}},function(e,t,r){"use strict";e.exports=i,i.className="ReflectionObject";var n,o=r(33);function i(e,t){if(!o.isString(e))throw TypeError("name must be a string");if(t&&!o.isObject(t))throw TypeError("options must be an object");this.options=t,this.parsedOptions=null,this.name=e,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(i.prototype,{root:{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}},fullName:{get:function(){for(var e=[this.name],t=this.parent;t;)e.unshift(t.name),t=t.parent;return e.join(".")}}}),i.prototype.toJSON=function(){throw Error()},i.prototype.onAdd=function(e){this.parent&&this.parent!==e&&this.parent.remove(this),this.parent=e,this.resolved=!1;var t=e.root;t instanceof n&&t._handleAdd(this)},i.prototype.onRemove=function(e){var t=e.root;t instanceof n&&t._handleRemove(this),this.parent=null,this.resolved=!1},i.prototype.resolve=function(){return this.resolved||this.root instanceof n&&(this.resolved=!0),this},i.prototype.getOption=function(e){if(this.options)return this.options[e]},i.prototype.setOption=function(e,t,r){return r&&this.options&&void 0!==this.options[e]||((this.options||(this.options={}))[e]=t),this},i.prototype.setParsedOption=function(e,t,r){this.parsedOptions||(this.parsedOptions=[]);var n=this.parsedOptions;if(r){var i=n.find((function(t){return Object.prototype.hasOwnProperty.call(t,e)}));if(i){var a=i[e];o.setProperty(a,r,t)}else(i={})[e]=o.setProperty({},r,t),n.push(i)}else{var s={};s[e]=t,n.push(s)}return this},i.prototype.setOptions=function(e,t){if(e)for(var r=Object.keys(e),n=0;n<r.length;++n)this.setOption(r[n],e[r[n]],t);return this},i.prototype.toString=function(){var e=this.constructor.className,t=this.fullName;return t.length?e+" "+t:e},i._configure=function(e){n=e}},function(e,t,r){"use strict";var n=t,o=r(33),i=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function a(e,t){var r=0,n={};for(t|=0;r<e.length;)n[i[r+t]]=e[r++];return n}n.basic=a([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),n.defaults=a([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",o.emptyArray,null]),n.long=a([0,0,0,1,1],7),n.mapKey=a([0,0,0,5,5,0,0,0,1,1,0,2],2),n.packed=a([1,5,0,0,0,5,5,0,0,0,1,1,0])},function(e,t,r){"use strict";var n=r(155),o=r(26),i=r(47),a=r(328),s=r(156);n("search",1,(function(e,t,r){return[function(t){var r=i(this),n=null==t?void 0:t[e];return void 0!==n?n.call(t,r):new RegExp(t)[e](String(r))},function(e){var n=r(t,e,this);if(n.done)return n.value;var i=o(e),u=String(this),c=i.lastIndex;a(c,0)||(i.lastIndex=0);var l=s(i,u);return a(i.lastIndex,c)||(i.lastIndex=c),null===l?-1:l.index}]}))},function(e,t,r){"use strict";var n=r(245),o=r(247);e.exports=n("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),o)},function(e,t,r){"use strict";var n=r(5),o=r(105),i=r(53),a=r(17),s=r(34),u=r(153),c=r(152),l=r(131),f=r(48),p=l("splice"),d=f("splice",{ACCESSORS:!0,0:0,1:2}),h=Math.max,y=Math.min;n({target:"Array",proto:!0,forced:!p||!d},{splice:function(e,t){var r,n,l,f,p,d,m=s(this),v=a(m.length),g=o(e,v),_=arguments.length;if(0===_?r=n=0:1===_?(r=0,n=v-g):(r=_-2,n=y(h(i(t),0),v-g)),v+r-n>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(l=u(m,n),f=0;f<n;f++)(p=g+f)in m&&c(l,f,m[p]);if(l.length=n,r<n){for(f=g;f<v-n;f++)d=f+r,(p=f+n)in m?m[d]=m[p]:delete m[d];for(f=v;f>v-n+r;f--)delete m[f-1]}else if(r>n)for(f=v-n;f>g;f--)d=f+r-1,(p=f+n-1)in m?m[d]=m[p]:delete m[d];for(f=0;f<r;f++)m[f+g]=arguments[f+2];return m.length=v-n+r,l}})},function(e,t,r){"use strict";e.exports=r(333)},function(e,t,r){"use strict";var n=r(117),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return n.isMemo(e)?a:s[e.$$typeof]||o}s[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[n.Memo]=a;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,r,n){if("string"!=typeof r){if(h){var o=d(r);o&&o!==h&&e(t,o,n)}var a=l(r);f&&(a=a.concat(f(r)));for(var s=u(t),y=u(r),m=0;m<a.length;++m){var v=a[m];if(!(i[v]||n&&n[v]||y&&y[v]||s&&s[v])){var g=p(r,v);try{c(t,v,g)}catch(e){}}}}return t}},function(e,t,r){(function(n){var o;r(116),r(139),r(12),r(29),r(194),r(41),t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var n=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(n++,"%c"===e&&(o=n))})),t.splice(o,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){var e;try{e=t.storage.getItem("debug")}catch(e){}!e&&void 0!==n&&"env"in n&&(e=n.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(o=!1,function(){o||(o=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||function(){},e.exports=r(394)(t),e.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}).call(this,r(138))},,function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++r+n).toString(36)}},function(e,t){e.exports={}},function(e,t,r){var n=r(161),o=r(93),i=r(11)("toStringTag"),a="Arguments"==o(function(){return arguments}());e.exports=n?o:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?r:a?o(t):"Object"==(n=o(t))&&"function"==typeof t.callee?"Arguments":n}},function(e,t,r){var n=r(6),o=r(93),i="".split;e.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==o(e)?i.call(e,""):Object(e)}:Object},function(e,t,r){var n=r(52),o=r(17),i=r(105),a=function(e){return function(t,r,a){var s,u=n(t),c=o(u.length),l=i(a,c);if(e&&r!=r){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===r)return e||l||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},function(e,t,r){var n=r(6),o=/#|\.prototype\./,i=function(e,t){var r=s[a(e)];return r==c||r!=u&&("function"==typeof t?n(t):!!t)},a=i.normalize=function(e){return String(e).replace(o,".").toLowerCase()},s=i.data={},u=i.NATIVE="N",c=i.POLYFILL="P";e.exports=i},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t){e.exports={}},function(e,t,r){var n=r(123),o=r(128),i=r(11)("iterator");e.exports=function(e){if(null!=e)return e[i]||e["@@iterator"]||o[n(e)]}},function(e,t,r){var n=r(93);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,t,r){var n=r(6),o=r(11),i=r(151),a=o("species");e.exports=function(e){return i>=51||!n((function(){var t=[];return(t.constructor={})[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},function(e,t,r){var n=r(207),o=r(169);e.exports=Object.keys||function(e){return n(e,o)}},function(e,t,r){var n=r(27),o=r(34),i=r(145),a=r(218),s=i("IE_PROTO"),u=Object.prototype;e.exports=a?Object.getPrototypeOf:function(e){return e=o(e),n(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?u:null}},function(e,t,r){var n=function(e){"use strict";var t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return x()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=b(a,r);if(s){if(s===l)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=c(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(e,r,a),i}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var l={};function f(){}function p(){}function d(){}var h={};h[o]=function(){return this};var y=Object.getPrototypeOf,m=y&&y(y(T([])));m&&m!==t&&r.call(m,o)&&(h=m);var v=d.prototype=f.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){var n;this._invoke=function(o,i){function a(){return new t((function(n,a){!function n(o,i,a,s){var u=c(e[o],e,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(f).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,s)}))}s(u.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,l;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function T(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return p.prototype=v.constructor=d,d.constructor=p,p.displayName=s(d,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,s(e,a,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(_.prototype),_.prototype[i]=function(){return this},e.AsyncIterator=_,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new _(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(v),s(v,a,"Generator"),v[o]=function(){return this},v.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=T,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:T(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},e}(e.exports);try{regeneratorRuntime=n}catch(e){Function("r","regeneratorRuntime = r")(n)}},function(e,t,r){var n=r(26),o=r(305);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(r,[]),t=r instanceof Array}catch(e){}return function(r,i){return n(r),o(i),t?e.call(r,i):r.__proto__=i,r}}():void 0)},function(e,t,r){r(158)("Uint8",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},function(e,t,r){"use strict";e.exports=l;var n=r(112);((l.prototype=Object.create(n.prototype)).constructor=l).className="Namespace";var o,i,a,s=r(98),u=r(33);function c(e,t){if(e&&e.length){for(var r={},n=0;n<e.length;++n)r[e[n].name]=e[n].toJSON(t);return r}}function l(e,t){n.call(this,e,t),this.nested=void 0,this._nestedArray=null}function f(e){return e._nestedArray=null,e}l.fromJSON=function(e,t){return new l(e,t.options).addJSON(t.nested)},l.arrayToJSON=c,l.isReservedId=function(e,t){if(e)for(var r=0;r<e.length;++r)if("string"!=typeof e[r]&&e[r][0]<=t&&e[r][1]>t)return!0;return!1},l.isReservedName=function(e,t){if(e)for(var r=0;r<e.length;++r)if(e[r]===t)return!0;return!1},Object.defineProperty(l.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=u.toArray(this.nested))}}),l.prototype.toJSON=function(e){return u.toObject(["options",this.options,"nested",c(this.nestedArray,e)])},l.prototype.addJSON=function(e){if(e)for(var t,r=Object.keys(e),n=0;n<r.length;++n)t=e[r[n]],this.add((void 0!==t.fields?o.fromJSON:void 0!==t.values?a.fromJSON:void 0!==t.methods?i.fromJSON:void 0!==t.id?s.fromJSON:l.fromJSON)(r[n],t));return this},l.prototype.get=function(e){return this.nested&&this.nested[e]||null},l.prototype.getEnum=function(e){if(this.nested&&this.nested[e]instanceof a)return this.nested[e].values;throw Error("no such enum: "+e)},l.prototype.add=function(e){if(!(e instanceof s&&void 0!==e.extend||e instanceof o||e instanceof a||e instanceof i||e instanceof l))throw TypeError("object must be a valid nested object");if(this.nested){var t=this.get(e.name);if(t){if(!(t instanceof l&&e instanceof l)||t instanceof o||t instanceof i)throw Error("duplicate name '"+e.name+"' in "+this);for(var r=t.nestedArray,n=0;n<r.length;++n)e.add(r[n]);this.remove(t),this.nested||(this.nested={}),e.setOptions(t.options,!0)}}else this.nested={};return this.nested[e.name]=e,e.onAdd(this),f(this)},l.prototype.remove=function(e){if(!(e instanceof n))throw TypeError("object must be a ReflectionObject");if(e.parent!==this)throw Error(e+" is not a member of "+this);return delete this.nested[e.name],Object.keys(this.nested).length||(this.nested=void 0),e.onRemove(this),f(this)},l.prototype.define=function(e,t){if(u.isString(e))e=e.split(".");else if(!Array.isArray(e))throw TypeError("illegal path");if(e&&e.length&&""===e[0])throw Error("path must be relative");for(var r=this;e.length>0;){var n=e.shift();if(r.nested&&r.nested[n]){if(!((r=r.nested[n])instanceof l))throw Error("path conflicts with non-namespace objects")}else r.add(r=new l(n))}return t&&r.addJSON(t),r},l.prototype.resolveAll=function(){for(var e=this.nestedArray,t=0;t<e.length;)e[t]instanceof l?e[t++].resolveAll():e[t++].resolve();return this.resolve()},l.prototype.lookup=function(e,t,r){if("boolean"==typeof t?(r=t,t=void 0):t&&!Array.isArray(t)&&(t=[t]),u.isString(e)&&e.length){if("."===e)return this.root;e=e.split(".")}else if(!e.length)return this;if(""===e[0])return this.root.lookup(e.slice(1),t);var n=this.get(e[0]);if(n){if(1===e.length){if(!t||t.indexOf(n.constructor)>-1)return n}else if(n instanceof l&&(n=n.lookup(e.slice(1),t,!0)))return n}else for(var o=0;o<this.nestedArray.length;++o)if(this._nestedArray[o]instanceof l&&(n=this._nestedArray[o].lookup(e,t,!0)))return n;return null===this.parent||r?null:this.parent.lookup(e,t)},l.prototype.lookupType=function(e){var t=this.lookup(e,[o]);if(!t)throw Error("no such type: "+e);return t},l.prototype.lookupEnum=function(e){var t=this.lookup(e,[a]);if(!t)throw Error("no such Enum '"+e+"' in "+this);return t},l.prototype.lookupTypeOrEnum=function(e){var t=this.lookup(e,[o,a]);if(!t)throw Error("no such Type or Enum '"+e+"' in "+this);return t},l.prototype.lookupService=function(e){var t=this.lookup(e,[i]);if(!t)throw Error("no such Service '"+e+"' in "+this);return t},l._configure=function(e,t,r){o=e,i=t,a=r}},function(e,t){var r,n,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var u,c=[],l=!1,f=-1;function p(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&d())}function d(){if(!l){var e=s(p);l=!0;for(var t=c.length;t;){for(u=c,c=[];++f<t;)u&&u[f].run();f=-1,t=c.length}u=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function y(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new h(e,t)),1!==c.length||l||s(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,r){var n=r(25),o=r(8),i=r(126),a=r(157),s=r(28).f,u=r(95).f,c=r(175),l=r(168),f=r(217),p=r(40),d=r(6),h=r(49).set,y=r(148),m=r(11)("match"),v=o.RegExp,g=v.prototype,_=/a/g,b=/a/g,w=new v(_)!==_,E=f.UNSUPPORTED_Y;if(n&&i("RegExp",!w||E||d((function(){return b[m]=!1,v(_)!=_||v(b)==b||"/a/i"!=v(_,"i")})))){for(var O=function(e,t){var r,n=this instanceof O,o=c(e),i=void 0===t;if(!n&&o&&e.constructor===O&&i)return e;w?o&&!i&&(e=e.source):e instanceof O&&(i&&(t=l.call(e)),e=e.source),E&&(r=!!t&&t.indexOf("y")>-1)&&(t=t.replace(/y/g,""));var s=a(w?new v(e,t):v(e,t),n?this:g,O);return E&&r&&h(s,{sticky:r}),s},T=function(e){e in O||s(O,e,{configurable:!0,get:function(){return v[e]},set:function(t){v[e]=t}})},x=u(v),k=0;x.length>k;)T(x[k++]);g.constructor=O,O.prototype=g,p(o,"RegExp",O)}y("RegExp")},function(e,t,r){"use strict";var n=r(5),o=r(221).trim;n({target:"String",proto:!0,forced:r(338)("trim")},{trim:function(){return o(this)}})},function(e,t,r){"use strict";var n=r(5),o=r(240);n({target:"String",proto:!0,forced:r(241)("link")},{link:function(e){return o(this,"a","href",e)}})},function(e,t,r){"use strict";var n=r(198),o=r(89),i=o("%Function.prototype.apply%"),a=o("%Function.prototype.call%"),s=o("%Reflect.apply%",!0)||n.call(a,i),u=o("%Object.getOwnPropertyDescriptor%",!0),c=o("%Object.defineProperty%",!0),l=o("%Math.max%");if(c)try{c({},"a",{value:1})}catch(e){c=null}e.exports=function(e){var t=s(n,a,arguments);if(u&&c){var r=u(t,"length");r.configurable&&c(t,"length",{value:1+l(0,e.length-(arguments.length-1))})}return t};var f=function(){return s(n,i,arguments)};c?c(e.exports,"apply",{value:f}):e.exports.apply=f},function(e,t){e.exports=ReactDOM},function(e,t,r){"use strict";(function(e,n){r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return i}));r(18),r(42);function o(){return"[object process]"===Object.prototype.toString.call(void 0!==e?e:0)}function i(e,t){return e.require(t)}}).call(this,r(138),r(192)(e))},function(e,t,r){var n=r(162),o=r(121),i=n("keys");e.exports=function(e){return i[e]||(i[e]=o(e))}},function(e,t,r){"use strict";var n={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!n.call({1:2},1);t.f=i?function(e){var t=o(this,e);return!!t&&t.enumerable}:n},function(e,t,r){var n=r(40);e.exports=function(e,t,r){for(var o in t)n(e,o,t[o],r);return e}},function(e,t,r){"use strict";var n=r(94),o=r(28),i=r(11),a=r(25),s=i("species");e.exports=function(e){var t=n(e),r=o.f;a&&t&&!t[s]&&r(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,r){var n=r(11)("iterator"),o=!1;try{var i=0,a={next:function(){return{done:!!i++}},return:function(){o=!0}};a[n]=function(){return this},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var r=!1;try{var i={};i[n]=function(){return{next:function(){return{done:r=!0}}}},e(i)}catch(e){}return r}},function(e,t,r){var n=r(93),o=r(8);e.exports="process"==n(o.process)},function(e,t,r){var n,o,i=r(8),a=r(173),s=i.process,u=s&&s.versions,c=u&&u.v8;c?o=(n=c.split("."))[0]+n[1]:a&&(!(n=a.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=a.match(/Chrome\/(\d+)/))&&(o=n[1]),e.exports=o&&+o},function(e,t,r){"use strict";var n=r(104),o=r(28),i=r(92);e.exports=function(e,t,r){var a=n(t);a in e?o.f(e,a,i(0,r)):e[a]=r}},function(e,t,r){var n=r(21),o=r(130),i=r(11)("species");e.exports=function(e,t){var r;return o(e)&&("function"!=typeof(r=e.constructor)||r!==Array&&!o(r.prototype)?n(r)&&null===(r=r[i])&&(r=void 0):r=void 0),new(void 0===r?Array:r)(0===t?0:t)}},function(e,t,r){"use strict";var n,o,i=r(168),a=r(217),s=RegExp.prototype.exec,u=String.prototype.replace,c=s,l=(n=/a/,o=/b*/g,s.call(n,"a"),s.call(o,"a"),0!==n.lastIndex||0!==o.lastIndex),f=a.UNSUPPORTED_Y||a.BROKEN_CARET,p=void 0!==/()??/.exec("")[1];(l||p||f)&&(c=function(e){var t,r,n,o,a=this,c=f&&a.sticky,d=i.call(a),h=a.source,y=0,m=e;return c&&(-1===(d=d.replace("y","")).indexOf("g")&&(d+="g"),m=String(e).slice(a.lastIndex),a.lastIndex>0&&(!a.multiline||a.multiline&&"\n"!==e[a.lastIndex-1])&&(h="(?: "+h+")",m=" "+m,y++),r=new RegExp("^(?:"+h+")",d)),p&&(r=new RegExp("^"+h+"$(?!\\s)",d)),l&&(t=a.lastIndex),n=s.call(c?r:a,m),c?n?(n.input=n.input.slice(y),n[0]=n[0].slice(y),n.index=a.lastIndex,a.lastIndex+=n[0].length):a.lastIndex=0:l&&n&&(a.lastIndex=a.global?n.index+n[0].length:t),p&&n&&n.length>1&&u.call(n[0],r,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(n[o]=void 0)})),n}),e.exports=c},function(e,t,r){"use strict";r(12);var n=r(40),o=r(6),i=r(11),a=r(154),s=r(43),u=i("species"),c=!o((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),l="$0"==="a".replace(/./,"$0"),f=i("replace"),p=!!/./[f]&&""===/./[f]("a","$0"),d=!o((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2!==r.length||"a"!==r[0]||"b"!==r[1]}));e.exports=function(e,t,r,f){var h=i(e),y=!o((function(){var t={};return t[h]=function(){return 7},7!=""[e](t)})),m=y&&!o((function(){var t=!1,r=/a/;return"split"===e&&((r={}).constructor={},r.constructor[u]=function(){return r},r.flags="",r[h]=/./[h]),r.exec=function(){return t=!0,null},r[h](""),!t}));if(!y||!m||"replace"===e&&(!c||!l||p)||"split"===e&&!d){var v=/./[h],g=r(h,""[e],(function(e,t,r,n,o){return t.exec===a?y&&!o?{done:!0,value:v.call(t,r,n)}:{done:!0,value:e.call(r,t,n)}:{done:!1}}),{REPLACE_KEEPS_$0:l,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:p}),_=g[0],b=g[1];n(String.prototype,e,_),n(RegExp.prototype,h,2==t?function(e,t){return b.call(e,this,t)}:function(e){return b.call(e,this)})}f&&s(RegExp.prototype[h],"sham",!0)}},function(e,t,r){var n=r(93),o=r(154);e.exports=function(e,t){var r=e.exec;if("function"==typeof r){var i=r.call(e,t);if("object"!=typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==n(e))throw TypeError("RegExp#exec called on incompatible receiver");return o.call(e,t)}},function(e,t,r){var n=r(21),o=r(135);e.exports=function(e,t,r){var i,a;return o&&"function"==typeof(i=t.constructor)&&i!==r&&n(a=i.prototype)&&a!==r.prototype&&o(e,a),e}},function(e,t,r){"use strict";var n=r(5),o=r(8),i=r(25),a=r(223),s=r(13),u=r(306),c=r(96),l=r(92),f=r(43),p=r(17),d=r(225),h=r(226),y=r(104),m=r(27),v=r(123),g=r(21),_=r(97),b=r(135),w=r(95).f,E=r(227),O=r(37).forEach,T=r(148),x=r(28),k=r(86),S=r(49),P=r(157),C=S.get,A=S.set,R=x.f,j=k.f,I=Math.round,D=o.RangeError,M=u.ArrayBuffer,L=u.DataView,N=s.NATIVE_ARRAY_BUFFER_VIEWS,B=s.TYPED_ARRAY_TAG,F=s.TypedArray,U=s.TypedArrayPrototype,W=s.aTypedArrayConstructor,z=s.isTypedArray,H=function(e,t){for(var r=0,n=t.length,o=new(W(e))(n);n>r;)o[r]=t[r++];return o},V=function(e,t){R(e,t,{get:function(){return C(this)[t]}})},G=function(e){var t;return e instanceof M||"ArrayBuffer"==(t=v(e))||"SharedArrayBuffer"==t},q=function(e,t){return z(e)&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},$=function(e,t){return q(e,t=y(t,!0))?l(2,e[t]):j(e,t)},K=function(e,t,r){return!(q(e,t=y(t,!0))&&g(r)&&m(r,"value"))||m(r,"get")||m(r,"set")||r.configurable||m(r,"writable")&&!r.writable||m(r,"enumerable")&&!r.enumerable?R(e,t,r):(e[t]=r.value,e)};i?(N||(k.f=$,x.f=K,V(U,"buffer"),V(U,"byteOffset"),V(U,"byteLength"),V(U,"length")),n({target:"Object",stat:!0,forced:!N},{getOwnPropertyDescriptor:$,defineProperty:K}),e.exports=function(e,t,r){var i=e.match(/\d+$/)[0]/8,s=e+(r?"Clamped":"")+"Array",u="get"+e,l="set"+e,y=o[s],m=y,v=m&&m.prototype,x={},k=function(e,t){R(e,t,{get:function(){return function(e,t){var r=C(e);return r.view[u](t*i+r.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,n){var o=C(e);r&&(n=(n=I(n))<0?0:n>255?255:255&n),o.view[l](t*i+o.byteOffset,n,!0)}(this,t,e)},enumerable:!0})};N?a&&(m=t((function(e,t,r,n){return c(e,m,s),P(g(t)?G(t)?void 0!==n?new y(t,h(r,i),n):void 0!==r?new y(t,h(r,i)):new y(t):z(t)?H(m,t):E.call(m,t):new y(d(t)),e,m)})),b&&b(m,F),O(w(y),(function(e){e in m||f(m,e,y[e])})),m.prototype=v):(m=t((function(e,t,r,n){c(e,m,s);var o,a,u,l=0,f=0;if(g(t)){if(!G(t))return z(t)?H(m,t):E.call(m,t);o=t,f=h(r,i);var y=t.byteLength;if(void 0===n){if(y%i)throw D("Wrong length");if((a=y-f)<0)throw D("Wrong length")}else if((a=p(n)*i)+f>y)throw D("Wrong length");u=a/i}else u=d(t),o=new M(a=u*i);for(A(e,{buffer:o,byteOffset:f,byteLength:a,length:u,view:new L(o)});l<u;)k(e,l++)})),b&&b(m,F),v=m.prototype=_(U)),v.constructor!==m&&f(v,"constructor",m),B&&f(v,B,s),x[s]=m,n({global:!0,forced:m!=y,sham:!N},x),"BYTES_PER_ELEMENT"in m||f(m,"BYTES_PER_ELEMENT",i),"BYTES_PER_ELEMENT"in v||f(v,"BYTES_PER_ELEMENT",i),T(s)}):e.exports=function(){}},function(e,t,r){"use strict";e.exports=a;var n=r(112);((a.prototype=Object.create(n.prototype)).constructor=a).className="OneOf";var o=r(98),i=r(33);function a(e,t,r,o){if(Array.isArray(t)||(r=t,t=void 0),n.call(this,e,r),void 0!==t&&!Array.isArray(t))throw TypeError("fieldNames must be an Array");this.oneof=t||[],this.fieldsArray=[],this.comment=o}function s(e){if(e.parent)for(var t=0;t<e.fieldsArray.length;++t)e.fieldsArray[t].parent||e.parent.add(e.fieldsArray[t])}a.fromJSON=function(e,t){return new a(e,t.oneof,t.options,t.comment)},a.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return i.toObject(["options",this.options,"oneof",this.oneof,"comment",t?this.comment:void 0])},a.prototype.add=function(e){if(!(e instanceof o))throw TypeError("field must be a Field");return e.parent&&e.parent!==this.parent&&e.parent.remove(e),this.oneof.push(e.name),this.fieldsArray.push(e),e.partOf=this,s(this),this},a.prototype.remove=function(e){if(!(e instanceof o))throw TypeError("field must be a Field");var t=this.fieldsArray.indexOf(e);if(t<0)throw Error(e+" is not a member of "+this);return this.fieldsArray.splice(t,1),(t=this.oneof.indexOf(e.name))>-1&&this.oneof.splice(t,1),e.partOf=null,this},a.prototype.onAdd=function(e){n.prototype.onAdd.call(this,e);for(var t=0;t<this.oneof.length;++t){var r=e.get(this.oneof[t]);r&&!r.partOf&&(r.partOf=this,this.fieldsArray.push(r))}s(this)},a.prototype.onRemove=function(e){for(var t,r=0;r<this.fieldsArray.length;++r)(t=this.fieldsArray[r]).parent&&t.parent.remove(t);n.prototype.onRemove.call(this,e)},a.d=function(){for(var e=new Array(arguments.length),t=0;t<arguments.length;)e[t]=arguments[t++];return function(t,r){i.decorateType(t.constructor).add(new a(r,e)),Object.defineProperty(t,r,{get:i.oneOfGetter(e),set:i.oneOfSetter(e)})}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));function n(e){try{return e&&"function"==typeof e&&e.name||"<anonymous>"}catch(e){return"<anonymous>"}}},function(e,t,r){var n={};n[r(11)("toStringTag")]="z",e.exports="[object z]"===String(n)},function(e,t,r){var n=r(85),o=r(163);(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.8.3",mode:n?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},function(e,t,r){var n=r(8),o=r(164),i=n["__core-js_shared__"]||o("__core-js_shared__",{});e.exports=i},function(e,t,r){var n=r(8),o=r(43);e.exports=function(e,t){try{o(n,e,t)}catch(r){n[e]=t}return t}},function(e,t,r){var n=r(8),o=r(21),i=n.document,a=o(i)&&o(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},function(e,t,r){var n=r(6);e.exports=!!Object.getOwnPropertySymbols&&!n((function(){return!String(Symbol())}))},function(e,t,r){var n=r(163),o=Function.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=function(e){return o.call(e)}),e.exports=n.inspectSource},function(e,t,r){"use strict";var n=r(26);e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,r){var n=r(26),o=r(172),i=r(17),a=r(88),s=r(129),u=r(208),c=function(e,t){this.stopped=e,this.result=t};e.exports=function(e,t,r){var l,f,p,d,h,y,m,v=r&&r.that,g=!(!r||!r.AS_ENTRIES),_=!(!r||!r.IS_ITERATOR),b=!(!r||!r.INTERRUPTED),w=a(t,v,1+g+b),E=function(e){return l&&u(l),new c(!0,e)},O=function(e){return g?(n(e),b?w(e[0],e[1],E):w(e[0],e[1])):b?w(e,E):w(e)};if(_)l=e;else{if("function"!=typeof(f=s(e)))throw TypeError("Target is not iterable");if(o(f)){for(p=0,d=i(e.length);d>p;p++)if((h=O(e[p]))&&h instanceof c)return h;return new c(!1)}l=f.call(e)}for(y=l.next;!(m=y.call(l)).done;){try{h=O(m.value)}catch(e){throw u(l),e}if("object"==typeof h&&h&&h instanceof c)return h}return new c(!1)}},function(e,t,r){var n=r(11),o=r(128),i=n("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||a[i]===e)}},function(e,t,r){var n=r(94);e.exports=n("navigator","userAgent")||""},function(e,t,r){var n=r(175);e.exports=function(e){if(n(e))throw TypeError("The method doesn't accept regular expressions");return e}},function(e,t,r){var n=r(21),o=r(93),i=r(11)("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},function(e,t,r){var n=r(11)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[n]=!1,"/./"[e](t)}catch(e){}}return!1}},function(e,t,r){"use strict";var n=r(178).charAt;e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},function(e,t,r){var n=r(53),o=r(47),i=function(e){return function(t,r){var i,a,s=String(o(t)),u=n(r),c=s.length;return u<0||u>=c?e?"":void 0:(i=s.charCodeAt(u))<55296||i>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?e?s.charAt(u):i:e?s.slice(u,u+2):a-56320+(i-55296<<10)+65536}};e.exports={codeAt:i(!1),charAt:i(!0)}},function(e,t,r){"use strict";var n=r(5),o=r(37).findIndex,i=r(107),a=r(48),s=!0,u=a("findIndex");"findIndex"in[]&&Array(1).findIndex((function(){s=!1})),n({target:"Array",proto:!0,forced:s||!u},{findIndex:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i("findIndex")},function(e,t,r){"use strict";var n=r(5),o=r(219),i=r(133),a=r(135),s=r(87),u=r(43),c=r(40),l=r(11),f=r(85),p=r(128),d=r(220),h=d.IteratorPrototype,y=d.BUGGY_SAFARI_ITERATORS,m=l("iterator"),v=function(){return this};e.exports=function(e,t,r,l,d,g,_){o(r,t,l);var b,w,E,O=function(e){if(e===d&&P)return P;if(!y&&e in k)return k[e];switch(e){case"keys":case"values":case"entries":return function(){return new r(this,e)}}return function(){return new r(this)}},T=t+" Iterator",x=!1,k=e.prototype,S=k[m]||k["@@iterator"]||d&&k[d],P=!y&&S||O(d),C="Array"==t&&k.entries||S;if(C&&(b=i(C.call(new e)),h!==Object.prototype&&b.next&&(f||i(b)===h||(a?a(b,h):"function"!=typeof b[m]&&u(b,m,v)),s(b,T,!0,!0),f&&(p[T]=v))),"values"==d&&S&&"values"!==S.name&&(x=!0,P=function(){return S.call(this)}),f&&!_||k[m]===P||u(k,m,P),p[t]=P,d)if(w={values:O("values"),keys:g?P:O("keys"),entries:O("entries")},_)for(E in w)(y||x||!(E in k))&&c(k,E,w[E]);else n({target:t,proto:!0,forced:y||x},w);return w}},function(e,t,r){"use strict";var n=r(34),o=r(105),i=r(17);e.exports=function(e){for(var t=n(this),r=i(t.length),a=arguments.length,s=o(a>1?arguments[1]:void 0,r),u=a>2?arguments[2]:void 0,c=void 0===u?r:o(u,r);c>s;)t[s++]=e;return t}},function(e,t,r){var n=r(127),o=r(34),i=r(124),a=r(17),s=function(e){return function(t,r,s,u){n(r);var c=o(t),l=i(c),f=a(c.length),p=e?f-1:0,d=e?-1:1;if(s<2)for(;;){if(p in l){u=l[p],p+=d;break}if(p+=d,e?p<0:f<=p)throw TypeError("Reduce of empty array with no initial value")}for(;e?p>=0:f>p;p+=d)p in l&&(u=r(u,l[p],p,c));return u}};e.exports={left:s(!1),right:s(!0)}},function(e,t,r){"use strict";e.exports=f;var n,o=r(81),i=o.LongBits,a=o.base64,s=o.utf8;function u(e,t,r){this.fn=e,this.len=t,this.next=void 0,this.val=r}function c(){}function l(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function f(){this.len=0,this.head=new u(c,0,0),this.tail=this.head,this.states=null}var p=function(){return o.Buffer?function(){return(f.create=function(){return new n})()}:function(){return new f}};function d(e,t,r){t[r]=255&e}function h(e,t){this.len=e,this.next=void 0,this.val=t}function y(e,t,r){for(;e.hi;)t[r++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[r++]=127&e.lo|128,e.lo=e.lo>>>7;t[r++]=e.lo}function m(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}f.create=p(),f.alloc=function(e){return new o.Array(e)},o.Array!==Array&&(f.alloc=o.pool(f.alloc,o.Array.prototype.subarray)),f.prototype._push=function(e,t,r){return this.tail=this.tail.next=new u(e,t,r),this.len+=t,this},h.prototype=Object.create(u.prototype),h.prototype.fn=function(e,t,r){for(;e>127;)t[r++]=127&e|128,e>>>=7;t[r]=e},f.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new h((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},f.prototype.int32=function(e){return e<0?this._push(y,10,i.fromNumber(e)):this.uint32(e)},f.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},f.prototype.uint64=function(e){var t=i.from(e);return this._push(y,t.length(),t)},f.prototype.int64=f.prototype.uint64,f.prototype.sint64=function(e){var t=i.from(e).zzEncode();return this._push(y,t.length(),t)},f.prototype.bool=function(e){return this._push(d,1,e?1:0)},f.prototype.fixed32=function(e){return this._push(m,4,e>>>0)},f.prototype.sfixed32=f.prototype.fixed32,f.prototype.fixed64=function(e){var t=i.from(e);return this._push(m,4,t.lo)._push(m,4,t.hi)},f.prototype.sfixed64=f.prototype.fixed64,f.prototype.float=function(e){return this._push(o.float.writeFloatLE,4,e)},f.prototype.double=function(e){return this._push(o.float.writeDoubleLE,8,e)};var v=o.Array.prototype.set?function(e,t,r){t.set(e,r)}:function(e,t,r){for(var n=0;n<e.length;++n)t[r+n]=e[n]};f.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(d,1,0);if(o.isString(e)){var r=f.alloc(t=a.length(e));a.decode(e,r,0),e=r}return this.uint32(t)._push(v,t,e)},f.prototype.string=function(e){var t=s.length(e);return t?this.uint32(t)._push(s.write,t,e):this._push(d,1,0)},f.prototype.fork=function(){return this.states=new l(this),this.head=this.tail=new u(c,0,0),this.len=0,this},f.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new u(c,0,0),this.len=0),this},f.prototype.ldelim=function(){var e=this.head,t=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=e.next,this.tail=t,this.len+=r),this},f.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),r=0;e;)e.fn(e.val,t,r),r+=e.len,e=e.next;return t},f._configure=function(e){n=e,f.create=p(),n._configure()}},function(e,t,r){"use strict";e.exports=u;var n,o=r(81),i=o.LongBits,a=o.utf8;function s(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function u(e){this.buf=e,this.pos=0,this.len=e.length}var c,l="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new u(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new u(e);throw Error("illegal buffer")},f=function(){return o.Buffer?function(e){return(u.create=function(e){return o.Buffer.isBuffer(e)?new n(e):l(e)})(e)}:l};function p(){var e=new i(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw s(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw s(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function d(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function h(){if(this.pos+8>this.len)throw s(this,8);return new i(d(this.buf,this.pos+=4),d(this.buf,this.pos+=4))}u.create=f(),u.prototype._slice=o.Array.prototype.subarray||o.Array.prototype.slice,u.prototype.uint32=(c=4294967295,function(){if(c=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return c;if((this.pos+=5)>this.len)throw this.pos=this.len,s(this,10);return c}),u.prototype.int32=function(){return 0|this.uint32()},u.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},u.prototype.bool=function(){return 0!==this.uint32()},u.prototype.fixed32=function(){if(this.pos+4>this.len)throw s(this,4);return d(this.buf,this.pos+=4)},u.prototype.sfixed32=function(){if(this.pos+4>this.len)throw s(this,4);return 0|d(this.buf,this.pos+=4)},u.prototype.float=function(){if(this.pos+4>this.len)throw s(this,4);var e=o.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},u.prototype.double=function(){if(this.pos+8>this.len)throw s(this,4);var e=o.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},u.prototype.bytes=function(){var e=this.uint32(),t=this.pos,r=this.pos+e;if(r>this.len)throw s(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,r):t===r?new this.buf.constructor(0):this._slice.call(this.buf,t,r)},u.prototype.string=function(){var e=this.bytes();return a.read(e,0,e.length)},u.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw s(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw s(this)}while(128&this.buf[this.pos++]);return this},u.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},u._configure=function(e){n=e,u.create=f(),n._configure();var t=o.Long?"toLong":"toNumber";o.merge(u.prototype,{int64:function(){return p.call(this)[t](!1)},uint64:function(){return p.call(this)[t](!0)},sint64:function(){return p.call(this).zzDecode()[t](!1)},fixed64:function(){return h.call(this)[t](!0)},sfixed64:function(){return h.call(this)[t](!1)}})}},function(e,t,r){"use strict";e.exports=g;var n=r(137);((g.prototype=Object.create(n.prototype)).constructor=g).className="Type";var o=r(77),i=r(159),a=r(98),s=r(186),u=r(187),c=r(189),l=r(184),f=r(183),p=r(33),d=r(232),h=r(233),y=r(234),m=r(235),v=r(236);function g(e,t){n.call(this,e,t),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}function _(e){return e._fieldsById=e._fieldsArray=e._oneofsArray=null,delete e.encode,delete e.decode,delete e.verify,e}Object.defineProperties(g.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var e=Object.keys(this.fields),t=0;t<e.length;++t){var r=this.fields[e[t]],n=r.id;if(this._fieldsById[n])throw Error("duplicate id "+n+" in "+this);this._fieldsById[n]=r}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=p.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=p.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=g.generateConstructor(this)())},set:function(e){var t=e.prototype;t instanceof c||((e.prototype=new c).constructor=e,p.merge(e.prototype,t)),e.$type=e.prototype.$type=this,p.merge(e,c,!0),this._ctor=e;for(var r=0;r<this.fieldsArray.length;++r)this._fieldsArray[r].resolve();var n={};for(r=0;r<this.oneofsArray.length;++r)n[this._oneofsArray[r].resolve().name]={get:p.oneOfGetter(this._oneofsArray[r].oneof),set:p.oneOfSetter(this._oneofsArray[r].oneof)};r&&Object.defineProperties(e.prototype,n)}}}),g.generateConstructor=function(e){for(var t,r=p.codegen(["p"],e.name),n=0;n<e.fieldsArray.length;++n)(t=e._fieldsArray[n]).map?r("this%s={}",p.safeProp(t.name)):t.repeated&&r("this%s=[]",p.safeProp(t.name));return r("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")},g.fromJSON=function(e,t){var r=new g(e,t.options);r.extensions=t.extensions,r.reserved=t.reserved;for(var c=Object.keys(t.fields),l=0;l<c.length;++l)r.add((void 0!==t.fields[c[l]].keyType?s.fromJSON:a.fromJSON)(c[l],t.fields[c[l]]));if(t.oneofs)for(c=Object.keys(t.oneofs),l=0;l<c.length;++l)r.add(i.fromJSON(c[l],t.oneofs[c[l]]));if(t.nested)for(c=Object.keys(t.nested),l=0;l<c.length;++l){var f=t.nested[c[l]];r.add((void 0!==f.id?a.fromJSON:void 0!==f.fields?g.fromJSON:void 0!==f.values?o.fromJSON:void 0!==f.methods?u.fromJSON:n.fromJSON)(c[l],f))}return t.extensions&&t.extensions.length&&(r.extensions=t.extensions),t.reserved&&t.reserved.length&&(r.reserved=t.reserved),t.group&&(r.group=!0),t.comment&&(r.comment=t.comment),r},g.prototype.toJSON=function(e){var t=n.prototype.toJSON.call(this,e),r=!!e&&Boolean(e.keepComments);return p.toObject(["options",t&&t.options||void 0,"oneofs",n.arrayToJSON(this.oneofsArray,e),"fields",n.arrayToJSON(this.fieldsArray.filter((function(e){return!e.declaringField})),e)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",t&&t.nested||void 0,"comment",r?this.comment:void 0])},g.prototype.resolveAll=function(){for(var e=this.fieldsArray,t=0;t<e.length;)e[t++].resolve();var r=this.oneofsArray;for(t=0;t<r.length;)r[t++].resolve();return n.prototype.resolveAll.call(this)},g.prototype.get=function(e){return this.fields[e]||this.oneofs&&this.oneofs[e]||this.nested&&this.nested[e]||null},g.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);if(e instanceof a&&void 0===e.extend){if(this._fieldsById?this._fieldsById[e.id]:this.fieldsById[e.id])throw Error("duplicate id "+e.id+" in "+this);if(this.isReservedId(e.id))throw Error("id "+e.id+" is reserved in "+this);if(this.isReservedName(e.name))throw Error("name '"+e.name+"' is reserved in "+this);return e.parent&&e.parent.remove(e),this.fields[e.name]=e,e.message=this,e.onAdd(this),_(this)}return e instanceof i?(this.oneofs||(this.oneofs={}),this.oneofs[e.name]=e,e.onAdd(this),_(this)):n.prototype.add.call(this,e)},g.prototype.remove=function(e){if(e instanceof a&&void 0===e.extend){if(!this.fields||this.fields[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.fields[e.name],e.parent=null,e.onRemove(this),_(this)}if(e instanceof i){if(!this.oneofs||this.oneofs[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.oneofs[e.name],e.parent=null,e.onRemove(this),_(this)}return n.prototype.remove.call(this,e)},g.prototype.isReservedId=function(e){return n.isReservedId(this.reserved,e)},g.prototype.isReservedName=function(e){return n.isReservedName(this.reserved,e)},g.prototype.create=function(e){return new this.ctor(e)},g.prototype.setup=function(){for(var e=this.fullName,t=[],r=0;r<this.fieldsArray.length;++r)t.push(this._fieldsArray[r].resolve().resolvedType);this.encode=d(this)({Writer:f,types:t,util:p}),this.decode=h(this)({Reader:l,types:t,util:p}),this.verify=y(this)({types:t,util:p}),this.fromObject=m.fromObject(this)({types:t,util:p}),this.toObject=m.toObject(this)({types:t,util:p});var n=v[e];if(n){var o=Object.create(this);o.fromObject=this.fromObject,this.fromObject=n.fromObject.bind(o),o.toObject=this.toObject,this.toObject=n.toObject.bind(o)}return this},g.prototype.encode=function(e,t){return this.setup().encode(e,t)},g.prototype.encodeDelimited=function(e,t){return this.encode(e,t&&t.len?t.fork():t).ldelim()},g.prototype.decode=function(e,t){return this.setup().decode(e,t)},g.prototype.decodeDelimited=function(e){return e instanceof l||(e=l.create(e)),this.decode(e,e.uint32())},g.prototype.verify=function(e){return this.setup().verify(e)},g.prototype.fromObject=function(e){return this.setup().fromObject(e)},g.prototype.toObject=function(e,t){return this.setup().toObject(e,t)},g.d=function(e){return function(t){p.decorateType(t,e)}}},function(e,t,r){"use strict";e.exports=a;var n=r(98);((a.prototype=Object.create(n.prototype)).constructor=a).className="MapField";var o=r(113),i=r(33);function a(e,t,r,o,a,s){if(n.call(this,e,t,o,void 0,void 0,a,s),!i.isString(r))throw TypeError("keyType must be a string");this.keyType=r,this.resolvedKeyType=null,this.map=!0}a.fromJSON=function(e,t){return new a(e,t.id,t.keyType,t.type,t.options,t.comment)},a.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return i.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},a.prototype.resolve=function(){if(this.resolved)return this;if(void 0===o.mapKey[this.keyType])throw Error("invalid key type: "+this.keyType);return n.prototype.resolve.call(this)},a.d=function(e,t,r){return"function"==typeof r?r=i.decorateType(r).name:r&&"object"==typeof r&&(r=i.decorateEnum(r).name),function(n,o){i.decorateType(n.constructor).add(new a(o,e,t,r))}}},function(e,t,r){"use strict";e.exports=s;var n=r(137);((s.prototype=Object.create(n.prototype)).constructor=s).className="Service";var o=r(188),i=r(33),a=r(230);function s(e,t){n.call(this,e,t),this.methods={},this._methodsArray=null}function u(e){return e._methodsArray=null,e}s.fromJSON=function(e,t){var r=new s(e,t.options);if(t.methods)for(var n=Object.keys(t.methods),i=0;i<n.length;++i)r.add(o.fromJSON(n[i],t.methods[n[i]]));return t.nested&&r.addJSON(t.nested),r.comment=t.comment,r},s.prototype.toJSON=function(e){var t=n.prototype.toJSON.call(this,e),r=!!e&&Boolean(e.keepComments);return i.toObject(["options",t&&t.options||void 0,"methods",n.arrayToJSON(this.methodsArray,e)||{},"nested",t&&t.nested||void 0,"comment",r?this.comment:void 0])},Object.defineProperty(s.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=i.toArray(this.methods))}}),s.prototype.get=function(e){return this.methods[e]||n.prototype.get.call(this,e)},s.prototype.resolveAll=function(){for(var e=this.methodsArray,t=0;t<e.length;++t)e[t].resolve();return n.prototype.resolve.call(this)},s.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);return e instanceof o?(this.methods[e.name]=e,e.parent=this,u(this)):n.prototype.add.call(this,e)},s.prototype.remove=function(e){if(e instanceof o){if(this.methods[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.methods[e.name],e.parent=null,u(this)}return n.prototype.remove.call(this,e)},s.prototype.create=function(e,t,r){for(var n,o=new a.Service(e,t,r),s=0;s<this.methodsArray.length;++s){var u=i.lcFirst((n=this._methodsArray[s]).resolve().name).replace(/[^$\w_]/g,"");o[u]=i.codegen(["r","c"],i.isReserved(u)?u+"_":u)("return this.rpcCall(m,q,s,r,c)")({m:n,q:n.resolvedRequestType.ctor,s:n.resolvedResponseType.ctor})}return o}},function(e,t,r){"use strict";e.exports=i;var n=r(112);((i.prototype=Object.create(n.prototype)).constructor=i).className="Method";var o=r(33);function i(e,t,r,i,a,s,u,c,l){if(o.isObject(a)?(u=a,a=s=void 0):o.isObject(s)&&(u=s,s=void 0),void 0!==t&&!o.isString(t))throw TypeError("type must be a string");if(!o.isString(r))throw TypeError("requestType must be a string");if(!o.isString(i))throw TypeError("responseType must be a string");n.call(this,e,u),this.type=t||"rpc",this.requestType=r,this.requestStream=!!a||void 0,this.responseType=i,this.responseStream=!!s||void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=c,this.parsedOptions=l}i.fromJSON=function(e,t){return new i(e,t.type,t.requestType,t.responseType,t.requestStream,t.responseStream,t.options,t.comment,t.parsedOptions)},i.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return o.toObject(["type","rpc"!==this.type&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",t?this.comment:void 0,"parsedOptions",this.parsedOptions])},i.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),n.prototype.resolve.call(this))}},function(e,t,r){"use strict";e.exports=o;var n=r(81);function o(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)this[t[r]]=e[t[r]]}o.create=function(e){return this.$type.create(e)},o.encode=function(e,t){return this.$type.encode(e,t)},o.encodeDelimited=function(e,t){return this.$type.encodeDelimited(e,t)},o.decode=function(e){return this.$type.decode(e)},o.decodeDelimited=function(e){return this.$type.decodeDelimited(e)},o.verify=function(e){return this.$type.verify(e)},o.fromObject=function(e){return this.$type.fromObject(e)},o.toObject=function(e,t){return this.$type.toObject(e,t)},o.prototype.toJSON=function(){return this.$type.toObject(this,n.toJSONOptions)}},function(e,t,r){"use strict";e.exports=f;var n=r(137);((f.prototype=Object.create(n.prototype)).constructor=f).className="Root";var o,i,a,s=r(98),u=r(77),c=r(159),l=r(33);function f(e){n.call(this,"",e),this.deferred=[],this.files=[]}function p(){}f.fromJSON=function(e,t){return t||(t=new f),e.options&&t.setOptions(e.options),t.addJSON(e.nested)},f.prototype.resolvePath=l.path.resolve,f.prototype.fetch=l.fetch,f.prototype.load=function e(t,r,n){"function"==typeof r&&(n=r,r=void 0);var o=this;if(!n)return l.asPromise(e,o,t,r);var s=n===p;function u(e,t){if(n){var r=n;if(n=null,s)throw e;r(e,t)}}function c(e){var t=e.lastIndexOf("google/protobuf/");if(t>-1){var r=e.substring(t);if(r in a)return r}return null}function f(e,t){try{if(l.isString(t)&&"{"===t.charAt(0)&&(t=JSON.parse(t)),l.isString(t)){i.filename=e;var n,a=i(t,o,r),f=0;if(a.imports)for(;f<a.imports.length;++f)(n=c(a.imports[f])||o.resolvePath(e,a.imports[f]))&&d(n);if(a.weakImports)for(f=0;f<a.weakImports.length;++f)(n=c(a.weakImports[f])||o.resolvePath(e,a.weakImports[f]))&&d(n,!0)}else o.setOptions(t.options).addJSON(t.nested)}catch(e){u(e)}s||h||u(null,o)}function d(e,t){if(!(o.files.indexOf(e)>-1))if(o.files.push(e),e in a)s?f(e,a[e]):(++h,setTimeout((function(){--h,f(e,a[e])})));else if(s){var r;try{r=l.fs.readFileSync(e).toString("utf8")}catch(e){return void(t||u(e))}f(e,r)}else++h,o.fetch(e,(function(r,i){--h,n&&(r?t?h||u(null,o):u(r):f(e,i))}))}var h=0;l.isString(t)&&(t=[t]);for(var y,m=0;m<t.length;++m)(y=o.resolvePath("",t[m]))&&d(y);if(s)return o;h||u(null,o)},f.prototype.loadSync=function(e,t){if(!l.isNode)throw Error("not supported");return this.load(e,t,p)},f.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map((function(e){return"'extend "+e.extend+"' in "+e.parent.fullName})).join(", "));return n.prototype.resolveAll.call(this)};var d=/^[A-Z]/;function h(e,t){var r=t.parent.lookup(t.extend);if(r){var n=new s(t.fullName,t.id,t.type,t.rule,void 0,t.options);return n.declaringField=t,t.extensionField=n,r.add(n),!0}return!1}f.prototype._handleAdd=function(e){if(e instanceof s)void 0===e.extend||e.extensionField||h(0,e)||this.deferred.push(e);else if(e instanceof u)d.test(e.name)&&(e.parent[e.name]=e.values);else if(!(e instanceof c)){if(e instanceof o)for(var t=0;t<this.deferred.length;)h(0,this.deferred[t])?this.deferred.splice(t,1):++t;for(var r=0;r<e.nestedArray.length;++r)this._handleAdd(e._nestedArray[r]);d.test(e.name)&&(e.parent[e.name]=e)}},f.prototype._handleRemove=function(e){if(e instanceof s){if(void 0!==e.extend)if(e.extensionField)e.extensionField.parent.remove(e.extensionField),e.extensionField=null;else{var t=this.deferred.indexOf(e);t>-1&&this.deferred.splice(t,1)}}else if(e instanceof u)d.test(e.name)&&delete e.parent[e.name];else if(e instanceof n){for(var r=0;r<e.nestedArray.length;++r)this._handleRemove(e._nestedArray[r]);d.test(e.name)&&delete e.parent[e.name]}},f._configure=function(e,t,r){o=e,i=t,a=r}},function(e,t,r){"use strict";var n,o=r(5),i=r(86).f,a=r(17),s=r(174),u=r(47),c=r(176),l=r(85),f="".startsWith,p=Math.min,d=c("startsWith");o({target:"String",proto:!0,forced:!!(l||d||(n=i(String.prototype,"startsWith"),!n||n.writable))&&!d},{startsWith:function(e){var t=String(u(this));s(e);var r=a(p(arguments.length>1?arguments[1]:void 0,t.length)),n=String(e);return f?f.call(t,n,r):t.slice(r,r+n.length)===n}})},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,r){var n=r(122),o=r(21),i=r(27),a=r(28).f,s=r(121),u=r(246),c=s("meta"),l=0,f=Object.isExtensible||function(){return!0},p=function(e){a(e,c,{value:{objectID:"O"+ ++l,weakData:{}}})},d=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,c)){if(!f(e))return"F";if(!t)return"E";p(e)}return e[c].objectID},getWeakData:function(e,t){if(!i(e,c)){if(!f(e))return!0;if(!t)return!1;p(e)}return e[c].weakData},onFreeze:function(e){return u&&d.REQUIRED&&f(e)&&!i(e,c)&&p(e),e}};n[c]=!0},function(e,t,r){"use strict";var n=r(155),o=r(26),i=r(17),a=r(47),s=r(177),u=r(156);n("match",1,(function(e,t,r){return[function(t){var r=a(this),n=null==t?void 0:t[e];return void 0!==n?n.call(t,r):new RegExp(t)[e](String(r))},function(e){var n=r(t,e,this);if(n.done)return n.value;var a=o(e),c=String(this);if(!a.global)return u(a,c);var l=a.unicode;a.lastIndex=0;for(var f,p=[],d=0;null!==(f=u(a,c));){var h=String(f[0]);p[d]=h,""===h&&(a.lastIndex=s(c,i(a.lastIndex),l)),d++}return 0===d?null:p}]}))},function(e,t,r){r(216)("iterator")},function(e,t,r){"use strict";var n=r(89),o=r(142),i=o(n("String.prototype.indexOf"));e.exports=function(e,t){var r=n(e,!!t);return"function"==typeof r&&i(e,".prototype.")>-1?o(r):r}},function(e,t,r){"use strict";(function(t){var n=t.Symbol,o=r(360);e.exports=function(){return"function"==typeof n&&("function"==typeof Symbol&&("symbol"==typeof n("foo")&&("symbol"==typeof Symbol("bar")&&o())))}}).call(this,r(51))},function(e,t,r){"use strict";var n=r(361);e.exports=Function.prototype.bind||n},function(e,t,r){"use strict";(function(e,n){var o,i=r(261);o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:n;var a=Object(i.a)(o);t.a=a}).call(this,r(51),r(192)(e))},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(18);function o(e){try{for(var t=e,r=[],n=0,o=0,a=" > ".length,s=void 0;t&&n++<5&&!("html"===(s=i(t))||n>1&&o+r.length*a+s.length>=80);)r.push(s),o+=s.length,t=t.parentNode;return r.reverse().join(" > ")}catch(e){return"<unknown>"}}function i(e){var t,r,o,i,a,s=e,u=[];if(!s||!s.tagName)return"";if(u.push(s.tagName.toLowerCase()),s.id&&u.push("#"+s.id),(t=s.className)&&Object(n.k)(t))for(r=t.split(/\s+/),a=0;a<r.length;a++)u.push("."+r[a]);var c=["type","name","title","alt"];for(a=0;a<c.length;a++)o=c[a],(i=s.getAttribute(o))&&u.push("["+o+'="'+i+'"]');return u.join("")}},function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty;function o(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}function i(e){try{return encodeURIComponent(e)}catch(e){return null}}t.stringify=function(e,t){t=t||"";var r,o,a=[];for(o in"string"!=typeof t&&(t="?"),e)if(n.call(e,o)){if((r=e[o])||null!=r&&!isNaN(r)||(r=""),o=i(o),r=i(r),null===o||null===r)continue;a.push(o+"="+r)}return a.length?t+a.join("&"):""},t.parse=function(e){for(var t,r=/([^=?#&]+)=?([^&]*)/g,n={};t=r.exec(e);){var i=o(t[1]),a=o(t[2]);null===i||null===a||i in n||(n[i]=a)}return n}},function(e,t,r){"use strict";var n=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,o=function(e){var t={};return function(r){return void 0===t[r]&&(t[r]=e(r)),t[r]}}((function(e){return n.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));t.a=o},function(e,t,r){var n=r(25),o=r(6),i=r(165);e.exports=!n&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},function(e,t,r){var n=r(166);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,r){var n=r(27),o=r(297),i=r(86),a=r(28);e.exports=function(e,t){for(var r=o(t),s=a.f,u=i.f,c=0;c<r.length;c++){var l=r[c];n(e,l)||s(e,l,u(t,l))}}},function(e,t,r){var n=r(8);e.exports=n},function(e,t,r){var n=r(27),o=r(52),i=r(125).indexOf,a=r(122);e.exports=function(e,t){var r,s=o(e),u=0,c=[];for(r in s)!n(a,r)&&n(s,r)&&c.push(r);for(;t.length>u;)n(s,r=t[u++])&&(~i(c,r)||c.push(r));return c}},function(e,t,r){var n=r(26);e.exports=function(e){var t=e.return;if(void 0!==t)return n(t.call(e)).value}},function(e,t,r){var n,o,i,a=r(8),s=r(6),u=r(88),c=r(210),l=r(165),f=r(211),p=r(150),d=a.location,h=a.setImmediate,y=a.clearImmediate,m=a.process,v=a.MessageChannel,g=a.Dispatch,_=0,b={},w=function(e){if(b.hasOwnProperty(e)){var t=b[e];delete b[e],t()}},E=function(e){return function(){w(e)}},O=function(e){w(e.data)},T=function(e){a.postMessage(e+"",d.protocol+"//"+d.host)};h&&y||(h=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return b[++_]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},n(_),_},y=function(e){delete b[e]},p?n=function(e){m.nextTick(E(e))}:g&&g.now?n=function(e){g.now(E(e))}:v&&!f?(i=(o=new v).port2,o.port1.onmessage=O,n=u(i.postMessage,i,1)):a.addEventListener&&"function"==typeof postMessage&&!a.importScripts&&d&&"file:"!==d.protocol&&!s(T)?(n=T,a.addEventListener("message",O,!1)):n="onreadystatechange"in l("script")?function(e){c.appendChild(l("script")).onreadystatechange=function(){c.removeChild(this),w(e)}}:function(e){setTimeout(E(e),0)}),e.exports={set:h,clear:y}},function(e,t,r){var n=r(94);e.exports=n("document","documentElement")},function(e,t,r){var n=r(173);e.exports=/(iphone|ipod|ipad).*applewebkit/i.test(n)},function(e,t,r){"use strict";var n=r(127),o=function(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n})),this.resolve=n(t),this.reject=n(r)};e.exports.f=function(e){return new o(e)}},function(e,t,r){var n=r(25),o=r(28),i=r(26),a=r(132);e.exports=n?Object.defineProperties:function(e,t){i(e);for(var r,n=a(t),s=n.length,u=0;s>u;)o.f(e,r=n[u++],t[r]);return e}},function(e,t,r){var n=r(52),o=r(95).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==i.call(e)?function(e){try{return o(e)}catch(e){return a.slice()}}(e):o(n(e))}},function(e,t,r){var n=r(11);t.f=n},function(e,t,r){var n=r(206),o=r(27),i=r(215),a=r(28).f;e.exports=function(e){var t=n.Symbol||(n.Symbol={});o(t,e)||a(t,e,{value:i.f(e)})}},function(e,t,r){"use strict";var n=r(6);function o(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=n((function(){var e=o("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=n((function(){var e=o("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},function(e,t,r){var n=r(6);e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},function(e,t,r){"use strict";var n=r(220).IteratorPrototype,o=r(97),i=r(92),a=r(87),s=r(128),u=function(){return this};e.exports=function(e,t,r){var c=t+" Iterator";return e.prototype=o(n,{next:i(1,r)}),a(e,c,!1,!0),s[c]=u,e}},function(e,t,r){"use strict";var n,o,i,a=r(6),s=r(133),u=r(43),c=r(27),l=r(11),f=r(85),p=l("iterator"),d=!1;[].keys&&("next"in(i=[].keys())?(o=s(s(i)))!==Object.prototype&&(n=o):d=!0);var h=null==n||a((function(){var e={};return n[p].call(e)!==e}));h&&(n={}),f&&!h||c(n,p)||u(n,p,(function(){return this})),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:d}},function(e,t,r){var n=r(47),o="["+r(222)+"]",i=RegExp("^"+o+o+"*"),a=RegExp(o+o+"*$"),s=function(e){return function(t){var r=String(n(t));return 1&e&&(r=r.replace(i,"")),2&e&&(r=r.replace(a,"")),r}};e.exports={start:s(1),end:s(2),trim:s(3)}},function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},function(e,t,r){var n=r(8),o=r(6),i=r(149),a=r(13).NATIVE_ARRAY_BUFFER_VIEWS,s=n.ArrayBuffer,u=n.Int8Array;e.exports=!a||!o((function(){u(1)}))||!o((function(){new u(-1)}))||!i((function(e){new u,new u(null),new u(1.5),new u(e)}),!0)||o((function(){return 1!==new u(new s(2),1,void 0).length}))},function(e,t){e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},function(e,t,r){var n=r(53),o=r(17);e.exports=function(e){if(void 0===e)return 0;var t=n(e),r=o(t);if(t!==r)throw RangeError("Wrong length or index");return r}},function(e,t,r){var n=r(308);e.exports=function(e,t){var r=n(e);if(r%t)throw RangeError("Wrong offset");return r}},function(e,t,r){var n=r(34),o=r(17),i=r(129),a=r(172),s=r(88),u=r(13).aTypedArrayConstructor;e.exports=function(e){var t,r,c,l,f,p,d=n(e),h=arguments.length,y=h>1?arguments[1]:void 0,m=void 0!==y,v=i(d);if(null!=v&&!a(v))for(p=(f=v.call(d)).next,d=[];!(l=p.call(f)).done;)d.push(l.value);for(m&&h>2&&(y=s(y,arguments[2],2)),r=o(d.length),c=new(u(this))(r),t=0;r>t;t++)c[t]=m?y(d[t],t):d[t];return c}},function(e,t,r){"use strict";e.exports=function(e,t){var r=new Array(arguments.length-1),n=0,o=2,i=!0;for(;o<arguments.length;)r[n++]=arguments[o++];return new Promise((function(o,a){r[n]=function(e){if(i)if(i=!1,e)a(e);else{for(var t=new Array(arguments.length-1),r=0;r<t.length;)t[r++]=arguments[r];o.apply(null,t)}};try{e.apply(t||null,r)}catch(e){i&&(i=!1,a(e))}}))}},function(module,exports,__webpack_require__){"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},function(e,t,r){"use strict";t.Service=r(322)},function(e,t,r){"use strict";e.exports={}},function(e,t,r){"use strict";e.exports=function(e){for(var t,r=i.codegen(["m","w"],e.name+"$encode")("if(!w)")("w=Writer.create()"),s=e.fieldsArray.slice().sort(i.compareFieldsById),u=0;u<s.length;++u){var c=s[u].resolve(),l=e._fieldsArray.indexOf(c),f=c.resolvedType instanceof n?"int32":c.type,p=o.basic[f];t="m"+i.safeProp(c.name),c.map?(r("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",t,c.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",t)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(c.id<<3|2)>>>0,8|o.mapKey[c.keyType],c.keyType),void 0===p?r("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",l,t):r(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|p,f,t),r("}")("}")):c.repeated?(r("if(%s!=null&&%s.length){",t,t),c.packed&&void 0!==o.packed[f]?r("w.uint32(%i).fork()",(c.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",t)("w.%s(%s[i])",f,t)("w.ldelim()"):(r("for(var i=0;i<%s.length;++i)",t),void 0===p?a(r,c,l,t+"[i]"):r("w.uint32(%i).%s(%s[i])",(c.id<<3|p)>>>0,f,t)),r("}")):(c.optional&&r("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",t,c.name),void 0===p?a(r,c,l,t):r("w.uint32(%i).%s(%s)",(c.id<<3|p)>>>0,f,t))}return r("return w")};var n=r(77),o=r(113),i=r(33);function a(e,t,r,n){return t.resolvedType.group?e("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",r,n,(t.id<<3|3)>>>0,(t.id<<3|4)>>>0):e("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",r,n,(t.id<<3|2)>>>0)}},function(e,t,r){"use strict";e.exports=function(e){var t=i.codegen(["r","l"],e.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(e.fieldsArray.filter((function(e){return e.map})).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()");e.group&&t("if((t&7)===4)")("break");t("switch(t>>>3){");for(var r=0;r<e.fieldsArray.length;++r){var s=e._fieldsArray[r].resolve(),u=s.resolvedType instanceof n?"int32":s.type,c="m"+i.safeProp(s.name);t("case %i:",s.id),s.map?(t("if(%s===util.emptyObject)",c)("%s={}",c)("var c2 = r.uint32()+r.pos"),void 0!==o.defaults[s.keyType]?t("k=%j",o.defaults[s.keyType]):t("k=null"),void 0!==o.defaults[u]?t("value=%j",o.defaults[u]):t("value=null"),t("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",s.keyType)("case 2:"),void 0===o.basic[u]?t("value=types[%i].decode(r,r.uint32())",r):t("value=r.%s()",u),t("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),void 0!==o.long[s.keyType]?t('%s[typeof k==="object"?util.longToHash(k):k]=value',c):t("%s[k]=value",c)):s.repeated?(t("if(!(%s&&%s.length))",c,c)("%s=[]",c),void 0!==o.packed[u]&&t("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",c,u)("}else"),void 0===o.basic[u]?t(s.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",c,r):t("%s.push(r.%s())",c,u)):void 0===o.basic[u]?t(s.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",c,r):t("%s=r.%s()",c,u),t("break")}for(t("default:")("r.skipType(t&7)")("break")("}")("}"),r=0;r<e._fieldsArray.length;++r){var l=e._fieldsArray[r];l.required&&t("if(!m.hasOwnProperty(%j))",l.name)("throw util.ProtocolError(%j,{instance:m})",a(l))}return t("return m")};var n=r(77),o=r(113),i=r(33);function a(e){return"missing required '"+e.name+"'"}},function(e,t,r){"use strict";e.exports=function(e){var t=o.codegen(["m"],e.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),r=e.oneofsArray,n={};r.length&&t("var p={}");for(var u=0;u<e.fieldsArray.length;++u){var c=e._fieldsArray[u].resolve(),l="m"+o.safeProp(c.name);if(c.optional&&t("if(%s!=null&&m.hasOwnProperty(%j)){",l,c.name),c.map)t("if(!util.isObject(%s))",l)("return%j",i(c,"object"))("var k=Object.keys(%s)",l)("for(var i=0;i<k.length;++i){"),s(t,c,"k[i]"),a(t,c,u,l+"[k[i]]")("}");else if(c.repeated)t("if(!Array.isArray(%s))",l)("return%j",i(c,"array"))("for(var i=0;i<%s.length;++i){",l),a(t,c,u,l+"[i]")("}");else{if(c.partOf){var f=o.safeProp(c.partOf.name);1===n[c.partOf.name]&&t("if(p%s===1)",f)("return%j",c.partOf.name+": multiple values"),n[c.partOf.name]=1,t("p%s=1",f)}a(t,c,u,l)}c.optional&&t("}")}return t("return null")};var n=r(77),o=r(33);function i(e,t){return e.name+": "+t+(e.repeated&&"array"!==t?"[]":e.map&&"object"!==t?"{k:"+e.keyType+"}":"")+" expected"}function a(e,t,r,o){if(t.resolvedType)if(t.resolvedType instanceof n){e("switch(%s){",o)("default:")("return%j",i(t,"enum value"));for(var a=Object.keys(t.resolvedType.values),s=0;s<a.length;++s)e("case %i:",t.resolvedType.values[a[s]]);e("break")("}")}else e("{")("var e=types[%i].verify(%s);",r,o)("if(e)")("return%j+e",t.name+".")("}");else switch(t.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.isInteger(%s))",o)("return%j",i(t,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",o,o,o,o)("return%j",i(t,"integer|Long"));break;case"float":case"double":e('if(typeof %s!=="number")',o)("return%j",i(t,"number"));break;case"bool":e('if(typeof %s!=="boolean")',o)("return%j",i(t,"boolean"));break;case"string":e("if(!util.isString(%s))",o)("return%j",i(t,"string"));break;case"bytes":e('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',o,o,o)("return%j",i(t,"buffer"))}return e}function s(e,t,r){switch(t.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.key32Re.test(%s))",r)("return%j",i(t,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.key64Re.test(%s))",r)("return%j",i(t,"integer|Long key"));break;case"bool":e("if(!util.key2Re.test(%s))",r)("return%j",i(t,"boolean key"))}return e}},function(e,t,r){"use strict";var n=t,o=r(77),i=r(33);function a(e,t,r,n){if(t.resolvedType)if(t.resolvedType instanceof o){e("switch(d%s){",n);for(var i=t.resolvedType.values,a=Object.keys(i),s=0;s<a.length;++s)t.repeated&&i[a[s]]===t.typeDefault&&e("default:"),e("case%j:",a[s])("case %i:",i[a[s]])("m%s=%j",n,i[a[s]])("break");e("}")}else e('if(typeof d%s!=="object")',n)("throw TypeError(%j)",t.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",n,r,n);else{var u=!1;switch(t.type){case"double":case"float":e("m%s=Number(d%s)",n,n);break;case"uint32":case"fixed32":e("m%s=d%s>>>0",n,n);break;case"int32":case"sint32":case"sfixed32":e("m%s=d%s|0",n,n);break;case"uint64":u=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",n,n,u)('else if(typeof d%s==="string")',n)("m%s=parseInt(d%s,10)",n,n)('else if(typeof d%s==="number")',n)("m%s=d%s",n,n)('else if(typeof d%s==="object")',n)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",n,n,n,u?"true":"");break;case"bytes":e('if(typeof d%s==="string")',n)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",n,n,n)("else if(d%s.length)",n)("m%s=d%s",n,n);break;case"string":e("m%s=String(d%s)",n,n);break;case"bool":e("m%s=Boolean(d%s)",n,n)}}return e}function s(e,t,r,n){if(t.resolvedType)t.resolvedType instanceof o?e("d%s=o.enums===String?types[%i].values[m%s]:m%s",n,r,n,n):e("d%s=types[%i].toObject(m%s,o)",n,r,n);else{var i=!1;switch(t.type){case"double":case"float":e("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",n,n,n,n);break;case"uint64":i=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e('if(typeof m%s==="number")',n)("d%s=o.longs===String?String(m%s):m%s",n,n,n)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",n,n,n,n,i?"true":"",n);break;case"bytes":e("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",n,n,n,n,n);break;default:e("d%s=m%s",n,n)}}return e}n.fromObject=function(e){var t=e.fieldsArray,r=i.codegen(["d"],e.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!t.length)return r("return new this.ctor");r("var m=new this.ctor");for(var n=0;n<t.length;++n){var s=t[n].resolve(),u=i.safeProp(s.name);s.map?(r("if(d%s){",u)('if(typeof d%s!=="object")',u)("throw TypeError(%j)",s.fullName+": object expected")("m%s={}",u)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",u),a(r,s,n,u+"[ks[i]]")("}")("}")):s.repeated?(r("if(d%s){",u)("if(!Array.isArray(d%s))",u)("throw TypeError(%j)",s.fullName+": array expected")("m%s=[]",u)("for(var i=0;i<d%s.length;++i){",u),a(r,s,n,u+"[i]")("}")("}")):(s.resolvedType instanceof o||r("if(d%s!=null){",u),a(r,s,n,u),s.resolvedType instanceof o||r("}"))}return r("return m")},n.toObject=function(e){var t=e.fieldsArray.slice().sort(i.compareFieldsById);if(!t.length)return i.codegen()("return {}");for(var r=i.codegen(["m","o"],e.name+"$toObject")("if(!o)")("o={}")("var d={}"),n=[],a=[],u=[],c=0;c<t.length;++c)t[c].partOf||(t[c].resolve().repeated?n:t[c].map?a:u).push(t[c]);if(n.length){for(r("if(o.arrays||o.defaults){"),c=0;c<n.length;++c)r("d%s=[]",i.safeProp(n[c].name));r("}")}if(a.length){for(r("if(o.objects||o.defaults){"),c=0;c<a.length;++c)r("d%s={}",i.safeProp(a[c].name));r("}")}if(u.length){for(r("if(o.defaults){"),c=0;c<u.length;++c){var l=u[c],f=i.safeProp(l.name);if(l.resolvedType instanceof o)r("d%s=o.enums===String?%j:%j",f,l.resolvedType.valuesById[l.typeDefault],l.typeDefault);else if(l.long)r("if(util.Long){")("var n=new util.Long(%i,%i,%j)",l.typeDefault.low,l.typeDefault.high,l.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",f)("}else")("d%s=o.longs===String?%j:%i",f,l.typeDefault.toString(),l.typeDefault.toNumber());else if(l.bytes){var p="["+Array.prototype.slice.call(l.typeDefault).join(",")+"]";r("if(o.bytes===String)d%s=%j",f,String.fromCharCode.apply(String,l.typeDefault))("else{")("d%s=%s",f,p)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",f,f)("}")}else r("d%s=%j",f,l.typeDefault)}r("}")}var d=!1;for(c=0;c<t.length;++c){l=t[c];var h=e._fieldsArray.indexOf(l);f=i.safeProp(l.name);l.map?(d||(d=!0,r("var ks2")),r("if(m%s&&(ks2=Object.keys(m%s)).length){",f,f)("d%s={}",f)("for(var j=0;j<ks2.length;++j){"),s(r,l,h,f+"[ks2[j]]")("}")):l.repeated?(r("if(m%s&&m%s.length){",f,f)("d%s=[]",f)("for(var j=0;j<m%s.length;++j){",f),s(r,l,h,f+"[j]")("}")):(r("if(m%s!=null&&m.hasOwnProperty(%j)){",f,l.name),s(r,l,h,f),l.partOf&&r("if(o.oneofs)")("d%s=%j",i.safeProp(l.partOf.name),l.name)),r("}")}return r("return d")}},function(e,t,r){"use strict";var n=t,o=r(189);n[".google.protobuf.Any"]={fromObject:function(e){if(e&&e["@type"]){var t=e["@type"].substring(e["@type"].lastIndexOf("/")+1),r=this.lookup(t);if(r){var n="."===e["@type"].charAt(0)?e["@type"].substr(1):e["@type"];return-1===n.indexOf("/")&&(n="/"+n),this.create({type_url:n,value:r.encode(r.fromObject(e)).finish()})}}return this.fromObject(e)},toObject:function(e,t){var r="",n="";if(t&&t.json&&e.type_url&&e.value){n=e.type_url.substring(e.type_url.lastIndexOf("/")+1),r=e.type_url.substring(0,e.type_url.lastIndexOf("/")+1);var i=this.lookup(n);i&&(e=i.decode(e.value))}if(!(e instanceof this.ctor)&&e instanceof o){var a=e.$type.toObject(e,t);return""===r&&(r="type.googleapis.com/"),n=r+("."===e.$type.fullName[0]?e.$type.fullName.substr(1):e.$type.fullName),a["@type"]=n,a}return this.toObject(e,t)}}},function(e,t,r){"use strict";e.exports=d;var n=/[\s{}=;:[\],'"()<>]/g,o=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,i=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,a=/^ *[*/]+ */,s=/^\s*\*?\/*/,u=/\n/g,c=/\s/,l=/\\(.?)/g,f={0:"\0",r:"\r",n:"\n",t:"\t"};function p(e){return e.replace(l,(function(e,t){switch(t){case"\\":case"":return t;default:return f[t]||""}}))}function d(e,t){e=e.toString();var r=0,l=e.length,f=1,d=null,h=null,y=0,m=!1,v=!1,g=[],_=null;function b(e){return Error("illegal "+e+" (line "+f+")")}function w(t){return e.charAt(t)}function E(r,n,o){d=e.charAt(r++),y=f,m=!1,v=o;var i,c=r-(t?2:3);do{if(--c<0||"\n"===(i=e.charAt(c))){m=!0;break}}while(" "===i||"\t"===i);for(var l=e.substring(r,n).split(u),p=0;p<l.length;++p)l[p]=l[p].replace(t?s:a,"").trim();h=l.join("\n").trim()}function O(t){var r=T(t),n=e.substring(t,r);return/^\s*\/{1,2}/.test(n)}function T(e){for(var t=e;t<l&&"\n"!==w(t);)t++;return t}function x(){if(g.length>0)return g.shift();if(_)return function(){var t="'"===_?i:o;t.lastIndex=r-1;var n=t.exec(e);if(!n)throw b("string");return r=t.lastIndex,k(_),_=null,p(n[1])}();var a,s,u,d,h,y=0===r;do{if(r===l)return null;for(a=!1;c.test(u=w(r));)if("\n"===u&&(y=!0,++f),++r===l)return null;if("/"===w(r)){if(++r===l)throw b("comment");if("/"===w(r))if(t){if(d=r,h=!1,O(r)){h=!0;do{if((r=T(r))===l)break;r++}while(O(r))}else r=Math.min(l,T(r)+1);h&&E(d,r,y),f++,a=!0}else{for(h="/"===w(d=r+1);"\n"!==w(++r);)if(r===l)return null;++r,h&&E(d,r-1,y),++f,a=!0}else{if("*"!==(u=w(r)))return"/";d=r+1,h=t||"*"===w(d);do{if("\n"===u&&++f,++r===l)throw b("comment");s=u,u=w(r)}while("*"!==s||"/"!==u);++r,h&&E(d,r-2,y),a=!0}}}while(a);var m=r;if(n.lastIndex=0,!n.test(w(m++)))for(;m<l&&!n.test(w(m));)++m;var v=e.substring(r,r=m);return'"'!==v&&"'"!==v||(_=v),v}function k(e){g.push(e)}function S(){if(!g.length){var e=x();if(null===e)return null;k(e)}return g[0]}return Object.defineProperty({next:x,peek:S,push:k,skip:function(e,t){var r=S();if(r===e)return x(),!0;if(!t)throw b("token '"+r+"', '"+e+"' expected");return!1},cmnt:function(e){var r=null;return void 0===e?y===f-1&&(t||"*"===d||m)&&(r=v?h:null):(y<e&&S(),y!==e||m||!t&&"/"!==d||(r=v?null:h)),r}},"line",{get:function(){return f}})}d.unescape=p},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,r){"use strict";var n=r(37).forEach,o=r(111),i=r(48),a=o("forEach"),s=i("forEach");e.exports=a&&s?[].forEach:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}},function(e,t,r){var n=r(47),o=/"/g;e.exports=function(e,t,r,i){var a=String(n(e)),s="<"+t;return""!==r&&(s+=" "+r+'="'+String(i).replace(o,"&quot;")+'"'),s+">"+a+"</"+t+">"}},function(e,t,r){var n=r(6);e.exports=function(e){return n((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}},function(e,t,r){"use strict";var n=r(25),o=r(6),i=r(132),a=r(170),s=r(146),u=r(34),c=r(124),l=Object.assign,f=Object.defineProperty;e.exports=!l||o((function(){if(n&&1!==l({b:1},l(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},r=Symbol();return e[r]=7,"abcdefghijklmnopqrst".split("").forEach((function(e){t[e]=e})),7!=l({},e)[r]||"abcdefghijklmnopqrst"!=i(l({},t)).join("")}))?function(e,t){for(var r=u(e),o=arguments.length,l=1,f=a.f,p=s.f;o>l;)for(var d,h=c(arguments[l++]),y=f?i(h).concat(f(h)):i(h),m=y.length,v=0;m>v;)d=y[v++],n&&!p.call(h,d)||(r[d]=h[d]);return r}:l},function(e,t,r){e.exports=r(331)()},function(e,t,r){"use strict";var n=r(88),o=r(34),i=r(334),a=r(172),s=r(17),u=r(152),c=r(129);e.exports=function(e){var t,r,l,f,p,d,h=o(e),y="function"==typeof this?this:Array,m=arguments.length,v=m>1?arguments[1]:void 0,g=void 0!==v,_=c(h),b=0;if(g&&(v=n(v,m>2?arguments[2]:void 0,2)),null==_||y==Array&&a(_))for(r=new y(t=s(h.length));t>b;b++)d=g?v(h[b],b):h[b],u(r,b,d);else for(p=(f=_.call(h)).next,r=new y;!(l=p.call(f)).done;b++)d=g?i(f,v,[l.value,b],!0):l.value,u(r,b,d);return r.length=b,r}},function(e,t,r){"use strict";var n=r(5),o=r(8),i=r(126),a=r(40),s=r(193),u=r(171),c=r(96),l=r(21),f=r(6),p=r(149),d=r(87),h=r(157);e.exports=function(e,t,r){var y=-1!==e.indexOf("Map"),m=-1!==e.indexOf("Weak"),v=y?"set":"add",g=o[e],_=g&&g.prototype,b=g,w={},E=function(e){var t=_[e];a(_,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(m&&!l(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return m&&!l(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(m&&!l(e))&&t.call(this,0===e?0:e)}:function(e,r){return t.call(this,0===e?0:e,r),this})};if(i(e,"function"!=typeof g||!(m||_.forEach&&!f((function(){(new g).entries().next()})))))b=r.getConstructor(t,e,y,v),s.REQUIRED=!0;else if(i(e,!0)){var O=new b,T=O[v](m?{}:-0,1)!=O,x=f((function(){O.has(1)})),k=p((function(e){new g(e)})),S=!m&&f((function(){for(var e=new g,t=5;t--;)e[v](t,t);return!e.has(-0)}));k||((b=t((function(t,r){c(t,b,e);var n=h(new g,t,b);return null!=r&&u(r,n[v],{that:n,AS_ENTRIES:y}),n}))).prototype=_,_.constructor=b),(x||S)&&(E("delete"),E("has"),y&&E("get")),(S||T)&&E(v),m&&_.clear&&delete _.clear}return w[e]=b,n({global:!0,forced:b!=g},w),d(b,e),m||r.setStrong(b,e,y),b}},function(e,t,r){var n=r(6);e.exports=!n((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(e,t,r){"use strict";var n=r(28).f,o=r(97),i=r(147),a=r(88),s=r(96),u=r(171),c=r(180),l=r(148),f=r(25),p=r(193).fastKey,d=r(49),h=d.set,y=d.getterFor;e.exports={getConstructor:function(e,t,r,c){var l=e((function(e,n){s(e,l,t),h(e,{type:t,index:o(null),first:void 0,last:void 0,size:0}),f||(e.size=0),null!=n&&u(n,e[c],{that:e,AS_ENTRIES:r})})),d=y(t),m=function(e,t,r){var n,o,i=d(e),a=v(e,t);return a?a.value=r:(i.last=a={index:o=p(t,!0),key:t,value:r,previous:n=i.last,next:void 0,removed:!1},i.first||(i.first=a),n&&(n.next=a),f?i.size++:e.size++,"F"!==o&&(i.index[o]=a)),e},v=function(e,t){var r,n=d(e),o=p(t);if("F"!==o)return n.index[o];for(r=n.first;r;r=r.next)if(r.key==t)return r};return i(l.prototype,{clear:function(){for(var e=d(this),t=e.index,r=e.first;r;)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete t[r.index],r=r.next;e.first=e.last=void 0,f?e.size=0:this.size=0},delete:function(e){var t=d(this),r=v(this,e);if(r){var n=r.next,o=r.previous;delete t.index[r.index],r.removed=!0,o&&(o.next=n),n&&(n.previous=o),t.first==r&&(t.first=n),t.last==r&&(t.last=o),f?t.size--:this.size--}return!!r},forEach:function(e){for(var t,r=d(this),n=a(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:r.first;)for(n(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!v(this,e)}}),i(l.prototype,r?{get:function(e){var t=v(this,e);return t&&t.value},set:function(e,t){return m(this,0===e?0:e,t)}}:{add:function(e){return m(this,e=0===e?0:e,e)}}),f&&n(l.prototype,"size",{get:function(){return d(this).size}}),l},setStrong:function(e,t,r){var n=t+" Iterator",o=y(t),i=y(n);c(e,t,(function(e,t){h(this,{type:n,target:e,state:o(e),kind:t,last:void 0})}),(function(){for(var e=i(this),t=e.kind,r=e.last;r&&r.removed;)r=r.previous;return e.target&&(e.last=r=r?r.next:e.state.first)?"keys"==t?{value:r.key,done:!1}:"values"==t?{value:r.value,done:!1}:{value:[r.key,r.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),r?"entries":"values",!r,!0),l(t)}}},function(e,t,r){var n=r(6),o=r(11),i=r(85),a=o("iterator");e.exports=!n((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,r="";return e.pathname="c%20d",t.forEach((function(e,n){t.delete("b"),r+=n+e})),i&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host}))},function(e,t,r){"use strict";var n=Array.prototype.slice,o=r(250),i=Object.keys,a=i?function(e){return i(e)}:r(358),s=Object.keys;a.shim=function(){Object.keys?function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2)||(Object.keys=function(e){return o(e)?s(n.call(e)):s(e)}):Object.keys=a;return Object.keys||a},e.exports=a},function(e,t,r){"use strict";var n=Object.prototype.toString;e.exports=function(e){var t=n.call(e),r="[object Arguments]"===t;return r||(r="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===n.call(e.callee)),r}},function(e,t,r){"use strict";var n=function(e){return e!=e};e.exports=function(e,t){return 0===e&&0===t?1/e==1/t:e===t||!(!n(e)||!n(t))}},function(e,t,r){"use strict";var n=r(251);e.exports=function(){return"function"==typeof Object.is?Object.is:n}},function(e,t,r){"use strict";var n=Object,o=TypeError;e.exports=function(){if(null!=this&&this!==n(this))throw new o("RegExp.prototype.flags getter called on non-object");var e="";return this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.sticky&&(e+="y"),e}},function(e,t,r){"use strict";var n=r(253),o=r(100).supportsDescriptors,i=Object.getOwnPropertyDescriptor,a=TypeError;e.exports=function(){if(!o)throw new a("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");if("gim"===/a/gim.flags){var e=i(RegExp.prototype,"flags");if(e&&"function"==typeof e.get&&"boolean"==typeof/a/.dotAll)return e.get}return n}},function(e,t,r){"use strict";var n=Date.prototype.getDay,o=Object.prototype.toString,i="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){return"object"==typeof e&&null!==e&&(i?function(e){try{return n.call(e),!0}catch(e){return!1}}(e):"[object Date]"===o.call(e))}},function(e,t,r){"use strict";e.exports=r(371)},function(e,t,r){"use strict";var n=r(372),o=r(390),i=r(256),a=r(196)("String.prototype.slice");e.exports=function(e){var t,r=i(this),s=o(r),u=n(s.length);arguments.length>1&&(t=arguments[1]);var c=void 0===t?"":o(t);""===c&&(c=" ");var l=n(e);if(l<=u)return s;for(var f=l-u;c.length<f;){var p=c.length,d=f-p;c+=p>d?a(c,0,d):c}var h=c.length>f?a(c,0,f):c;return h+s}},function(e,t,r){"use strict";var n=r(257);e.exports=function(){return"function"==typeof String.prototype.padStart?String.prototype.padStart:n}},function(e,t,r){"use strict";e.exports=r(311)},function(e){e.exports=JSON.parse('{"nested":{"smartnav":{"nested":{"BoundingBox":{"fields":{"top":{"type":"float","id":1},"right":{"type":"float","id":2},"bottom":{"type":"float","id":3},"left":{"type":"float","id":4}}},"Image":{"fields":{}},"Text":{"fields":{"fontSize":{"type":"float","id":1}}},"Block":{"oneofs":{"blockType":{"oneof":["image","text"]}},"fields":{"boundingBox":{"type":"BoundingBox","id":1},"image":{"type":"Image","id":2},"text":{"type":"Text","id":3}}},"Page":{"fields":{"pageNumber":{"type":"uint32","id":1},"width":{"type":"float","id":2},"height":{"type":"float","id":3},"blocks":{"rule":"repeated","type":"Block","id":4}}},"Asset":{"fields":{"pages":{"rule":"repeated","type":"Page","id":1}}}}}}}')},function(e,t,r){"use strict";function n(e){var t,r=e.Symbol;return"function"==typeof r?r.observable?t=r.observable:(t=r("observable"),r.observable=t):t="@@observable",t}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=function(){function e(){this._hasWeakSet="function"==typeof WeakSet,this._inner=this._hasWeakSet?new WeakSet:[]}return e.prototype.memoize=function(e){if(this._hasWeakSet)return!!this._inner.has(e)||(this._inner.add(e),!1);for(var t=0;t<this._inner.length;t++){if(this._inner[t]===e)return!0}return this._inner.push(e),!1},e.prototype.unmemoize=function(e){if(this._hasWeakSet)this._inner.delete(e);else for(var t=0;t<this._inner.length;t++)if(this._inner[t]===e){this._inner.splice(t,1);break}},e}()},function(e,t,r){var n;n=function(e,t,r,n){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s="./index.js")}({"./index.js":
/*!******************!*\
  !*** ./index.js ***!
  \******************/
/*! exports provided: default */function(e,t,r){"use strict";r.r(t);var n=r(/*! react */"react"),o=r.n(n),i=r(/*! react-dom */"react-dom"),a=r.n(i),s=r(/*! prop-types */"prop-types"),u=r.n(s);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=function(e){function t(){return l(this,t),p(this,d(t).apply(this,arguments))}var n,i,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,e),n=t,(i=[{key:"propsWith",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r={};return Object.keys(this.props).forEach((function(n){if(-1!==n.search(e)){var o=t?n.replace(e,""):n;r[o]=this.props[n]}}),this),r}},{key:"componentWillUnmount",value:function(){this.clipboard&&this.clipboard.destroy()}},{key:"componentDidMount",value:function(){var e=this.props.options||this.propsWith(/^option-/,!0),t=a.a.findDOMNode(this.element);if(t){var n=r(/*! clipboard */"clipboard");this.clipboard=new n(t,e);var o=this.propsWith(/^on/,!0);Object.keys(o).forEach((function(e){this.clipboard.on(e.toLowerCase(),this.props["on"+e])}),this)}}},{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){y(e,t,r[t])}))}return e}({title:this.props.title||"",type:this.getType(),className:this.props.className||"",style:this.props.style||{},ref:function(t){return e.element=t},onClick:this.props.onClick},this.propsWith(/^data-/),this.propsWith(/^button-/,!0)),n=r(/*! clipboard */"clipboard");return this.props.isVisibleWhenUnsupported||n.isSupported()?o.a.createElement(this.getComponent(),t,this.props.children):null}},{key:"getType",value:function(){return"button"===this.getComponent()||"input"===this.getComponent()?this.props.type||"button":void 0}},{key:"getComponent",value:function(){return this.props.component||"button"}}])&&f(n.prototype,i),s&&f(n,s),t}(o.a.Component);y(m,"propTypes",{options:function(e,t,r){var n=e[t];return n&&"object"!==c(n)||Array.isArray(n)?new Error("Invalid props '".concat(t,"' supplied to '").concat(r,"'. ")+"'".concat(t,"' is not an object.")):void 0!==e["option-text"]&&"function"!=typeof e["option-text"]?new Error("Invalid props 'option-text' supplied to '".concat(r,"'. ")+"'option-text' is not a function."):void 0},title:u.a.string,type:u.a.string,className:u.a.string,style:u.a.object,component:u.a.any,children:u.a.any}),y(m,"defaultProps",{isVisibleWhenUnsupported:!0,onClick:function(){}}),t.default=m},clipboard:
/*!********************************************************************************************************!*\
  !*** external {"root":"ClipboardJS","amd":"clipboard","commonjs":"clipboard","commonjs2":"clipboard"} ***!
  \********************************************************************************************************/
/*! no static exports found */function(t,r){t.exports=e},"prop-types":
/*!*********************************************************************************************************!*\
  !*** external {"root":"PropTypes","amd":"prop-types","commonjs":"prop-types","commonjs2":"prop-types"} ***!
  \*********************************************************************************************************/
/*! no static exports found */function(e,r){e.exports=t},react:
/*!**************************************************************************************!*\
  !*** external {"root":"React","amd":"react","commonjs":"react","commonjs2":"react"} ***!
  \**************************************************************************************/
/*! no static exports found */function(e,t){e.exports=r},"react-dom":
/*!*****************************************************************************************************!*\
  !*** external {"root":"ReactDOM","amd":"react-dom","commonjs":"react-dom","commonjs2":"react-dom"} ***!
  \*****************************************************************************************************/
/*! no static exports found */function(e,t){e.exports=n}})},e.exports=n(r(347),r(243),r(0),r(143))},function(e,t){var r="function"==typeof Float32Array;function n(e,t){return 1-3*t+3*e}function o(e,t){return 3*t-6*e}function i(e){return 3*e}function a(e,t,r){return((n(t,r)*e+o(t,r))*e+i(t))*e}function s(e,t,r){return 3*n(t,r)*e*e+2*o(t,r)*e+i(t)}function u(e){return e}e.exports=function(e,t,n,o){if(!(0<=e&&e<=1&&0<=n&&n<=1))throw new Error("bezier x values must be in [0, 1] range");if(e===t&&n===o)return u;for(var i=r?new Float32Array(11):new Array(11),c=0;c<11;++c)i[c]=a(.1*c,e,n);function l(t){for(var r=0,o=1;10!==o&&i[o]<=t;++o)r+=.1;--o;var u=r+.1*((t-i[o])/(i[o+1]-i[o])),c=s(u,e,n);return c>=.001?function(e,t,r,n){for(var o=0;o<4;++o){var i=s(t,r,n);if(0===i)return t;t-=(a(t,r,n)-e)/i}return t}(t,u,e,n):0===c?u:function(e,t,r,n,o){var i,s,u=0;do{(i=a(s=t+(r-t)/2,n,o)-e)>0?r=s:t=s}while(Math.abs(i)>1e-7&&++u<10);return s}(t,r,r+.1,e,n)}return function(e){return 0===e?0:1===e?1:a(l(e),t,o)}}},function(e,t){e.exports="precision highp float;\nuniform vec4 u_color;\nvoid main ()\n{\n  gl_FragColor = u_color;\n}\n\n"},function(e,t){e.exports="attribute vec2 a_vertex;\nuniform mat3 u_displayMatrix;\nvoid main ()\n{\n  vec3 tmpvar_1;\n  tmpvar_1.z = 1.0;\n  tmpvar_1.xy = a_vertex;\n  highp vec4 tmpvar_2;\n  tmpvar_2.w = 1.0;\n  tmpvar_2.xyz = (u_displayMatrix * tmpvar_1);\n  gl_Position = tmpvar_2;\n}\n\n"},function(e,t){e.exports="precision highp float;\nuniform vec4 u_color;\nuniform sampler2D u_texture;\nvarying vec2 v_texCoord;\nvoid main ()\n{\n  lowp vec4 tmpvar_1;\n  tmpvar_1.w = 1.0;\n  tmpvar_1.xyz = ((texture2D (u_texture, v_texCoord).xyz * u_color.w) + (u_color.xyz * u_color.w));\n  gl_FragColor = tmpvar_1;\n}\n\n"},function(e,t){e.exports="precision highp float;\nattribute vec2 a_vertex;\nattribute vec2 a_texCoord;\nuniform mat3 u_displayMatrix;\nvarying vec2 v_texCoord;\nvoid main ()\n{\n  v_texCoord = a_texCoord;\n  vec3 tmpvar_1;\n  tmpvar_1.z = 1.0;\n  tmpvar_1.xy = a_vertex;\n  highp vec4 tmpvar_2;\n  tmpvar_2.w = 1.0;\n  tmpvar_2.xyz = (u_displayMatrix * tmpvar_1);\n  gl_Position = tmpvar_2;\n}\n\n"},function(e,t,r){"use strict";(function(e,r){/*! @vimeo/player v2.15.0 | (c) 2021 Vimeo | MIT License | https://github.com/vimeo/player.js */
function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=void 0!==e&&"[object global]"==={}.toString.call(e);function a(e,t){return 0===e.indexOf(t.toLowerCase())?e:"".concat(t.toLowerCase()).concat(e.substr(0,1).toUpperCase()).concat(e.substr(1))}function s(e){return Boolean(e&&1===e.nodeType&&"nodeName"in e&&e.ownerDocument&&e.ownerDocument.defaultView)}function u(e){return!isNaN(parseFloat(e))&&isFinite(e)&&Math.floor(e)==e}function c(e){return/^(https?:)?\/\/((player|www)\.)?vimeo\.com(?=$|\/)/.test(e)}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,r=e.url,n=t||r;if(!n)throw new Error("An id or url must be passed, either in an options object or as a data-vimeo-id or data-vimeo-url attribute.");if(u(n))return"https://vimeo.com/".concat(n);if(c(n))return n.replace("http:","https:");if(t)throw new TypeError("“".concat(t,"” is not a valid video id."));throw new TypeError("“".concat(n,"” is not a vimeo.com url."))}var f=void 0!==Array.prototype.indexOf,p="undefined"!=typeof window&&void 0!==window.postMessage;if(!(i||f&&p))throw new Error("Sorry, the Vimeo Player API is not available in this browser.");var d="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{};
/*!
 * weakmap-polyfill v2.0.1 - ECMAScript6 WeakMap polyfill
 * https://github.com/polygonplanet/weakmap-polyfill
 * Copyright (c) 2015-2020 Polygon Planet <polygon.planet.aqua@gmail.com>
 * @license MIT
 */
!function(e){if(!e.WeakMap){var t=Object.prototype.hasOwnProperty,r=function(e,t,r){Object.defineProperty?Object.defineProperty(e,t,{configurable:!0,writable:!0,value:r}):e[t]=r};e.WeakMap=function(){function e(){if(void 0===this)throw new TypeError("Constructor WeakMap requires 'new'");if(r(this,"_id",i("_WeakMap")),arguments.length>0)throw new TypeError("WeakMap iterable is not supported")}function o(e,r){if(!n(e)||!t.call(e,"_id"))throw new TypeError(r+" method called on incompatible receiver "+typeof e)}function i(e){return e+"_"+a()+"."+a()}function a(){return Math.random().toString().substring(2)}return r(e.prototype,"delete",(function(e){if(o(this,"delete"),!n(e))return!1;var t=e[this._id];return!(!t||t[0]!==e)&&(delete e[this._id],!0)})),r(e.prototype,"get",(function(e){if(o(this,"get"),n(e)){var t=e[this._id];return t&&t[0]===e?t[1]:void 0}})),r(e.prototype,"has",(function(e){if(o(this,"has"),!n(e))return!1;var t=e[this._id];return!(!t||t[0]!==e)})),r(e.prototype,"set",(function(e,t){if(o(this,"set"),!n(e))throw new TypeError("Invalid value used as weak map key");var i=e[this._id];return i&&i[0]===e?(i[1]=t,this):(r(e,this._id,[e,t]),this)})),r(e,"_polyfill",!0),e}()}function n(e){return Object(e)===e}}("undefined"!=typeof self?self:"undefined"!=typeof window?window:d);var h=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e){
/*! Native Promise Only
    v0.8.1 (c) Kyle Simpson
    MIT License: http://getify.mit-license.org
*/
var t,n,o;o=function(){var e,t,n,o=Object.prototype.toString,i=void 0!==r?function(e){return r(e)}:setTimeout;try{Object.defineProperty({},"x",{}),e=function(e,t,r,n){return Object.defineProperty(e,t,{value:r,writable:!0,configurable:!1!==n})}}catch(t){e=function(e,t,r){return e[t]=r,e}}function a(e,r){n.add(e,r),t||(t=i(n.drain))}function s(e){var t,r=typeof e;return null==e||"object"!=r&&"function"!=r||(t=e.then),"function"==typeof t&&t}function u(){for(var e=0;e<this.chain.length;e++)c(this,1===this.state?this.chain[e].success:this.chain[e].failure,this.chain[e]);this.chain.length=0}function c(e,t,r){var n,o;try{!1===t?r.reject(e.msg):(n=!0===t?e.msg:t.call(void 0,e.msg))===r.promise?r.reject(TypeError("Promise-chain cycle")):(o=s(n))?o.call(n,r.resolve,r.reject):r.resolve(n)}catch(e){r.reject(e)}}function l(e){var t,r=this;if(!r.triggered){r.triggered=!0,r.def&&(r=r.def);try{(t=s(e))?a((function(){var n=new d(r);try{t.call(e,(function(){l.apply(n,arguments)}),(function(){f.apply(n,arguments)}))}catch(e){f.call(n,e)}})):(r.msg=e,r.state=1,r.chain.length>0&&a(u,r))}catch(e){f.call(new d(r),e)}}}function f(e){var t=this;t.triggered||(t.triggered=!0,t.def&&(t=t.def),t.msg=e,t.state=2,t.chain.length>0&&a(u,t))}function p(e,t,r,n){for(var o=0;o<t.length;o++)!function(o){e.resolve(t[o]).then((function(e){r(o,e)}),n)}(o)}function d(e){this.def=e,this.triggered=!1}function h(e){this.promise=e,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function y(e){if("function"!=typeof e)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var t=new h(this);this.then=function(e,r){var n={success:"function"!=typeof e||e,failure:"function"==typeof r&&r};return n.promise=new this.constructor((function(e,t){if("function"!=typeof e||"function"!=typeof t)throw TypeError("Not a function");n.resolve=e,n.reject=t})),t.chain.push(n),0!==t.state&&a(u,t),n.promise},this.catch=function(e){return this.then(void 0,e)};try{e.call(void 0,(function(e){l.call(t,e)}),(function(e){f.call(t,e)}))}catch(e){f.call(t,e)}}n=function(){var e,r,n;function o(e,t){this.fn=e,this.self=t,this.next=void 0}return{add:function(t,i){n=new o(t,i),r?r.next=n:e=n,r=n,n=void 0},drain:function(){var n=e;for(e=r=t=void 0;n;)n.fn.call(n.self),n=n.next}}}();var m=e({},"constructor",y,!1);return y.prototype=m,e(m,"__NPO__",0,!1),e(y,"resolve",(function(e){return e&&"object"==typeof e&&1===e.__NPO__?e:new this((function(t,r){if("function"!=typeof t||"function"!=typeof r)throw TypeError("Not a function");t(e)}))})),e(y,"reject",(function(e){return new this((function(t,r){if("function"!=typeof t||"function"!=typeof r)throw TypeError("Not a function");r(e)}))})),e(y,"all",(function(e){var t=this;return"[object Array]"!=o.call(e)?t.reject(TypeError("Not an array")):0===e.length?t.resolve([]):new t((function(r,n){if("function"!=typeof r||"function"!=typeof n)throw TypeError("Not a function");var o=e.length,i=Array(o),a=0;p(t,e,(function(e,t){i[e]=t,++a===o&&r(i)}),n)}))})),e(y,"race",(function(e){var t=this;return"[object Array]"!=o.call(e)?t.reject(TypeError("Not an array")):new t((function(r,n){if("function"!=typeof r||"function"!=typeof n)throw TypeError("Not a function");p(t,e,(function(e,t){r(t)}),n)}))})),y},(n=d)[t="Promise"]=n[t]||o(),e.exports&&(e.exports=n[t])})),y=new WeakMap;function m(e,t,r){var n=y.get(e.element)||{};t in n||(n[t]=[]),n[t].push(r),y.set(e.element,n)}function v(e,t){return(y.get(e.element)||{})[t]||[]}function g(e,t,r){var n=y.get(e.element)||{};if(!n[t])return!0;if(!r)return n[t]=[],y.set(e.element,n),!0;var o=n[t].indexOf(r);return-1!==o&&n[t].splice(o,1),y.set(e.element,n),n[t]&&0===n[t].length}function _(e,t){var r=y.get(e);y.set(t,r),y.delete(e)}var b=["autopause","autoplay","background","byline","color","controls","dnt","height","id","loop","maxheight","maxwidth","muted","playsinline","portrait","responsive","speed","texttrack","title","transparent","url","width"];function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return b.reduce((function(t,r){var n=e.getAttribute("data-vimeo-".concat(r));return(n||""===n)&&(t[r]=""===n?1:n),t}),t)}function E(e,t){var r=e.html;if(!t)throw new TypeError("An element must be provided");if(null!==t.getAttribute("data-vimeo-initialized"))return t.querySelector("iframe");var n=document.createElement("div");return n.innerHTML=r,t.appendChild(n.firstChild),t.setAttribute("data-vimeo-initialized","true"),t.querySelector("iframe")}function O(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return new Promise((function(n,o){if(!c(e))throw new TypeError("“".concat(e,"” is not a vimeo.com url."));var i="https://vimeo.com/api/oembed.json?url=".concat(encodeURIComponent(e));for(var a in t)t.hasOwnProperty(a)&&(i+="&".concat(a,"=").concat(encodeURIComponent(t[a])));var s="XDomainRequest"in window?new XDomainRequest:new XMLHttpRequest;s.open("GET",i,!0),s.onload=function(){if(404!==s.status)if(403!==s.status)try{var t=JSON.parse(s.responseText);if(403===t.domain_status_code)return E(t,r),void o(new Error("“".concat(e,"” is not embeddable.")));n(t)}catch(e){o(e)}else o(new Error("“".concat(e,"” is not embeddable.")));else o(new Error("“".concat(e,"” was not found.")))},s.onerror=function(){var e=s.status?" (".concat(s.status,")"):"";o(new Error("There was an error fetching the embed code from Vimeo".concat(e,".")))},s.send()}))}function T(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){return console.warn(e),{}}return e}function x(e,t,r){if(e.element.contentWindow&&e.element.contentWindow.postMessage){var n={method:t};void 0!==r&&(n.value=r);var o=parseFloat(navigator.userAgent.toLowerCase().replace(/^.*msie (\d+).*$/,"$1"));o>=8&&o<10&&(n=JSON.stringify(n)),e.element.contentWindow.postMessage(n,e.origin)}}function k(e,t){var r,n=[];if((t=T(t)).event){if("error"===t.event)v(e,t.data.method).forEach((function(r){var n=new Error(t.data.message);n.name=t.data.name,r.reject(n),g(e,t.data.method,r)}));n=v(e,"event:".concat(t.event)),r=t.data}else if(t.method){var o=function(e,t){var r=v(e,t);if(r.length<1)return!1;var n=r.shift();return g(e,t,n),n}(e,t.method);o&&(n.push(o),r=t.value)}n.forEach((function(t){try{if("function"==typeof t)return void t.call(e,r);t.resolve(r)}catch(e){}}))}var S=new WeakMap,P=new WeakMap,C={},A=function(){function e(t){var r=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n(this,e),window.jQuery&&t instanceof jQuery&&(t.length>1&&window.console&&console.warn&&console.warn("A jQuery object with multiple elements was passed, using the first element."),t=t[0]),"undefined"!=typeof document&&"string"==typeof t&&(t=document.getElementById(t)),!s(t))throw new TypeError("You must pass either a valid element or a valid id.");if("IFRAME"!==t.nodeName){var i=t.querySelector("iframe");i&&(t=i)}if("IFRAME"===t.nodeName&&!c(t.getAttribute("src")||""))throw new Error("The player element passed isn’t a Vimeo embed.");if(S.has(t))return S.get(t);this._window=t.ownerDocument.defaultView,this.element=t,this.origin="*";var a=new h((function(e,n){if(r._onMessage=function(t){if(c(t.origin)&&r.element.contentWindow===t.source){"*"===r.origin&&(r.origin=t.origin);var o=T(t.data);if(o&&"error"===o.event&&o.data&&"ready"===o.data.method){var i=new Error(o.data.message);return i.name=o.data.name,void n(i)}var a=o&&"ready"===o.event,s=o&&"ping"===o.method;if(a||s)return r.element.setAttribute("data-ready","true"),void e();k(r,o)}},r._window.addEventListener("message",r._onMessage),"IFRAME"!==r.element.nodeName){var i=w(t,o);O(l(i),i,t).then((function(e){var n=E(e,t);return r.element=n,r._originalElement=t,_(t,n),S.set(r.element,r),e})).catch(n)}}));if(P.set(this,a),S.set(this.element,this),"IFRAME"===this.element.nodeName&&x(this,"ping"),C.isEnabled){var u=function(){return C.exit()};C.on("fullscreenchange",(function(){C.isFullscreen?m(r,"event:exitFullscreen",u):g(r,"event:exitFullscreen",u),r.ready().then((function(){x(r,"fullscreenchange",C.isFullscreen)}))}))}return this}var t,r,i;return t=e,(r=[{key:"callMethod",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new h((function(n,o){return t.ready().then((function(){m(t,e,{resolve:n,reject:o}),x(t,e,r)})).catch(o)}))}},{key:"get",value:function(e){var t=this;return new h((function(r,n){return e=a(e,"get"),t.ready().then((function(){m(t,e,{resolve:r,reject:n}),x(t,e)})).catch(n)}))}},{key:"set",value:function(e,t){var r=this;return new h((function(n,o){if(e=a(e,"set"),null==t)throw new TypeError("There must be a value to set.");return r.ready().then((function(){m(r,e,{resolve:n,reject:o}),x(r,e,t)})).catch(o)}))}},{key:"on",value:function(e,t){if(!e)throw new TypeError("You must pass an event name.");if(!t)throw new TypeError("You must pass a callback function.");if("function"!=typeof t)throw new TypeError("The callback must be a function.");0===v(this,"event:".concat(e)).length&&this.callMethod("addEventListener",e).catch((function(){})),m(this,"event:".concat(e),t)}},{key:"off",value:function(e,t){if(!e)throw new TypeError("You must pass an event name.");if(t&&"function"!=typeof t)throw new TypeError("The callback must be a function.");g(this,"event:".concat(e),t)&&this.callMethod("removeEventListener",e).catch((function(e){}))}},{key:"loadVideo",value:function(e){return this.callMethod("loadVideo",e)}},{key:"ready",value:function(){var e=P.get(this)||new h((function(e,t){t(new Error("Unknown player. Probably unloaded."))}));return h.resolve(e)}},{key:"addCuePoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.callMethod("addCuePoint",{time:e,data:t})}},{key:"removeCuePoint",value:function(e){return this.callMethod("removeCuePoint",e)}},{key:"enableTextTrack",value:function(e,t){if(!e)throw new TypeError("You must pass a language.");return this.callMethod("enableTextTrack",{language:e,kind:t})}},{key:"disableTextTrack",value:function(){return this.callMethod("disableTextTrack")}},{key:"pause",value:function(){return this.callMethod("pause")}},{key:"play",value:function(){return this.callMethod("play")}},{key:"requestFullscreen",value:function(){return C.isEnabled?C.request(this.element):this.callMethod("requestFullscreen")}},{key:"exitFullscreen",value:function(){return C.isEnabled?C.exit():this.callMethod("exitFullscreen")}},{key:"getFullscreen",value:function(){return C.isEnabled?h.resolve(C.isFullscreen):this.get("fullscreen")}},{key:"requestPictureInPicture",value:function(){return this.callMethod("requestPictureInPicture")}},{key:"exitPictureInPicture",value:function(){return this.callMethod("exitPictureInPicture")}},{key:"getPictureInPicture",value:function(){return this.get("pictureInPicture")}},{key:"unload",value:function(){return this.callMethod("unload")}},{key:"destroy",value:function(){var e=this;return new h((function(t){if(P.delete(e),S.delete(e.element),e._originalElement&&(S.delete(e._originalElement),e._originalElement.removeAttribute("data-vimeo-initialized")),e.element&&"IFRAME"===e.element.nodeName&&e.element.parentNode&&e.element.parentNode.removeChild(e.element),e.element&&"DIV"===e.element.nodeName&&e.element.parentNode){e.element.removeAttribute("data-vimeo-initialized");var r=e.element.querySelector("iframe");r&&r.parentNode&&r.parentNode.removeChild(r)}e._window.removeEventListener("message",e._onMessage),t()}))}},{key:"getAutopause",value:function(){return this.get("autopause")}},{key:"setAutopause",value:function(e){return this.set("autopause",e)}},{key:"getBuffered",value:function(){return this.get("buffered")}},{key:"getCameraProps",value:function(){return this.get("cameraProps")}},{key:"setCameraProps",value:function(e){return this.set("cameraProps",e)}},{key:"getChapters",value:function(){return this.get("chapters")}},{key:"getCurrentChapter",value:function(){return this.get("currentChapter")}},{key:"getColor",value:function(){return this.get("color")}},{key:"setColor",value:function(e){return this.set("color",e)}},{key:"getCuePoints",value:function(){return this.get("cuePoints")}},{key:"getCurrentTime",value:function(){return this.get("currentTime")}},{key:"setCurrentTime",value:function(e){return this.set("currentTime",e)}},{key:"getDuration",value:function(){return this.get("duration")}},{key:"getEnded",value:function(){return this.get("ended")}},{key:"getLoop",value:function(){return this.get("loop")}},{key:"setLoop",value:function(e){return this.set("loop",e)}},{key:"setMuted",value:function(e){return this.set("muted",e)}},{key:"getMuted",value:function(){return this.get("muted")}},{key:"getPaused",value:function(){return this.get("paused")}},{key:"getPlaybackRate",value:function(){return this.get("playbackRate")}},{key:"setPlaybackRate",value:function(e){return this.set("playbackRate",e)}},{key:"getPlayed",value:function(){return this.get("played")}},{key:"getQualities",value:function(){return this.get("qualities")}},{key:"getQuality",value:function(){return this.get("quality")}},{key:"setQuality",value:function(e){return this.set("quality",e)}},{key:"getSeekable",value:function(){return this.get("seekable")}},{key:"getSeeking",value:function(){return this.get("seeking")}},{key:"getTextTracks",value:function(){return this.get("textTracks")}},{key:"getVideoEmbedCode",value:function(){return this.get("videoEmbedCode")}},{key:"getVideoId",value:function(){return this.get("videoId")}},{key:"getVideoTitle",value:function(){return this.get("videoTitle")}},{key:"getVideoWidth",value:function(){return this.get("videoWidth")}},{key:"getVideoHeight",value:function(){return this.get("videoHeight")}},{key:"getVideoUrl",value:function(){return this.get("videoUrl")}},{key:"getVolume",value:function(){return this.get("volume")}},{key:"setVolume",value:function(e){return this.set("volume",e)}}])&&o(t.prototype,r),i&&o(t,i),e}();i||(C=function(){var e=function(){for(var e,t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],r=0,n=t.length,o={};r<n;r++)if((e=t[r])&&e[1]in document){for(r=0;r<e.length;r++)o[t[0][r]]=e[r];return o}return!1}(),t={fullscreenchange:e.fullscreenchange,fullscreenerror:e.fullscreenerror},r={request:function(t){return new Promise((function(n,o){var i=function e(){r.off("fullscreenchange",e),n()};r.on("fullscreenchange",i);var a=(t=t||document.documentElement)[e.requestFullscreen]();a instanceof Promise&&a.then(i).catch(o)}))},exit:function(){return new Promise((function(t,n){if(r.isFullscreen){var o=function e(){r.off("fullscreenchange",e),t()};r.on("fullscreenchange",o);var i=document[e.exitFullscreen]();i instanceof Promise&&i.then(o).catch(n)}else t()}))},on:function(e,r){var n=t[e];n&&document.addEventListener(n,r)},off:function(e,r){var n=t[e];n&&document.removeEventListener(n,r)}};return Object.defineProperties(r,{isFullscreen:{get:function(){return Boolean(document[e.fullscreenElement])}},element:{enumerable:!0,get:function(){return document[e.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(document[e.fullscreenEnabled])}}}),r}(),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=[].slice.call(e.querySelectorAll("[data-vimeo-id], [data-vimeo-url]")),r=function(e){"console"in window&&console.error&&console.error("There was an error creating an embed: ".concat(e))};t.forEach((function(e){try{if(null!==e.getAttribute("data-vimeo-defer"))return;var t=w(e);O(l(t),t,e).then((function(t){return E(t,e)})).catch(r)}catch(e){r(e)}}))}(),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;if(!window.VimeoPlayerResizeEmbeds_){window.VimeoPlayerResizeEmbeds_=!0;var t=function(t){if(c(t.origin)&&t.data&&"spacechange"===t.data.event)for(var r=e.querySelectorAll("iframe"),n=0;n<r.length;n++)if(r[n].contentWindow===t.source){r[n].parentElement.style.paddingBottom="".concat(t.data.data[0].bottom,"px");break}};window.addEventListener("message",t)}}()),t.a=A}).call(this,r(51),r(368).setImmediate)},function(e,t){e.exports="precision highp float;\nvoid main ()\n{\n  highp float tmpvar_1;\n  tmpvar_1 = abs(gl_FragCoord.z);\n  highp vec4 tmpvar_2;\n  tmpvar_2.w = 0.25;\n  tmpvar_2.x = tmpvar_1;\n  tmpvar_2.y = tmpvar_1;\n  tmpvar_2.z = tmpvar_1;\n  gl_FragColor = tmpvar_2;\n}\n\n"},function(e,t){e.exports="precision highp float;\nattribute vec3 vertex;\nuniform mat3 u_matrix;\nvoid main ()\n{\n  vec3 tmpvar_1;\n  tmpvar_1.z = 1.0;\n  tmpvar_1.xy = vertex.xy;\n  vec3 tmpvar_2;\n  tmpvar_2.xy = (u_matrix * tmpvar_1).xy;\n  tmpvar_2.z = vertex.z;\n  highp vec4 tmpvar_3;\n  tmpvar_3.xy = tmpvar_2.xy;\n  tmpvar_3.z = (-(vertex.z) * 0.7);\n  tmpvar_3.w = (1.0 + (vertex.z * -0.35));\n  gl_Position = tmpvar_3;\n}\n\n"},function(e,t){e.exports="precision mediump float;\nuniform sampler2D depthMapTexture;\nvarying vec2 v_shadowTexcoord;\nvarying vec2 v_shadowBlurCoords[8];\nvoid main ()\n{\n  lowp vec4 color_1;\n  color_1 = (texture2D (depthMapTexture, v_shadowBlurCoords[0]) * 0.04436833);\n  color_1 = (color_1 + (texture2D (depthMapTexture, v_shadowBlurCoords[1]) * 0.07767442));\n  color_1 = (color_1 + (texture2D (depthMapTexture, v_shadowBlurCoords[2]) * 0.1158766));\n  color_1 = (color_1 + (texture2D (depthMapTexture, v_shadowBlurCoords[3]) * 0.1473081));\n  color_1 = (color_1 + (texture2D (depthMapTexture, v_shadowTexcoord) * 0.1595769));\n  color_1 = (color_1 + (texture2D (depthMapTexture, v_shadowBlurCoords[4]) * 0.1473081));\n  color_1 = (color_1 + (texture2D (depthMapTexture, v_shadowBlurCoords[5]) * 0.1158766));\n  color_1 = (color_1 + (texture2D (depthMapTexture, v_shadowBlurCoords[6]) * 0.07767442));\n  color_1 = (color_1 + (texture2D (depthMapTexture, v_shadowBlurCoords[7]) * 0.04436833));\n  gl_FragColor = color_1;\n}\n\n"},function(e,t){e.exports="attribute vec3 vertex;\nvarying vec2 v_shadowTexcoord;\nvarying vec2 v_shadowBlurCoords[8];\nvoid main ()\n{\n  vec2 tmpvar_1;\n  tmpvar_1 = ((vertex.xy + vec2(1.0, 1.0)) / vec2(2.0, 2.0));\n  v_shadowTexcoord = tmpvar_1;\n  v_shadowBlurCoords[0] = (tmpvar_1 + vec2(0.0, -0.016));\n  v_shadowBlurCoords[1] = (tmpvar_1 + vec2(0.0, -0.012));\n  v_shadowBlurCoords[2] = (tmpvar_1 + vec2(0.0, -0.008));\n  v_shadowBlurCoords[3] = (tmpvar_1 + vec2(0.0, -0.004));\n  v_shadowBlurCoords[4] = (tmpvar_1 + vec2(0.0, 0.004));\n  v_shadowBlurCoords[5] = (tmpvar_1 + vec2(0.0, 0.008));\n  v_shadowBlurCoords[6] = (tmpvar_1 + vec2(0.0, 0.012));\n  v_shadowBlurCoords[7] = (tmpvar_1 + vec2(0.0, 0.016));\n  highp vec4 tmpvar_2;\n  tmpvar_2.w = 1.0;\n  tmpvar_2.xy = vertex.xy;\n  tmpvar_2.z = -(vertex.z);\n  gl_Position = tmpvar_2;\n}\n\n"},function(e,t){e.exports="precision mediump float;\nuniform sampler2D texture;\nvarying vec2 textureCoordinate;\nuniform float opacity;\nvoid main ()\n{\n  lowp vec4 tmpvar_1;\n  tmpvar_1 = texture2D (texture, textureCoordinate);\n  gl_FragColor = (tmpvar_1 * opacity);\n}\n\n"},function(e,t){e.exports="attribute vec2 vertex;\nuniform vec4 texCoords;\nuniform vec4 bbox;\nuniform vec2 viewport;\nvarying vec2 textureCoordinate;\nvoid main ()\n{\n  vec2 tmpvar_1;\n  tmpvar_1 = ((2.0 * bbox.xz) / viewport.x);\n  vec2 tmpvar_2;\n  tmpvar_2 = ((2.0 * bbox.yw) / viewport.y);\n  highp vec2 tmpvar_3;\n  tmpvar_3.x = ((tmpvar_1.x - 1.0) + (vertex.x * tmpvar_1.y));\n  tmpvar_3.y = ((1.0 - tmpvar_2.x) - (vertex.y * tmpvar_2.y));\n  vec2 tmpvar_4;\n  tmpvar_4.x = (texCoords.x + (vertex.x * texCoords.z));\n  tmpvar_4.y = (texCoords.y + (vertex.y * texCoords.w));\n  textureCoordinate = tmpvar_4;\n  highp vec4 tmpvar_5;\n  tmpvar_5.zw = vec2(0.0, 1.0);\n  tmpvar_5.xy = tmpvar_3;\n  gl_Position = tmpvar_5;\n}\n\n"},function(e,t){e.exports="precision highp float;\nvarying vec3 vnormal;\nvarying vec3 cameraDirection;\nvarying vec3 lightDirection;\nvarying vec2 texcoord;\nuniform float lightRatio;\nuniform sampler2D texture;\nuniform bool showSpinner;\nuniform float tick;\nuniform float spinnerSize;\nuniform vec4 bbox;\nuniform vec2 viewport;\nuniform vec4 clipRect;\nvoid main ()\n{\n  lowp vec3 color_1;\n  if (showSpinner) {\n    float tmpvar_2;\n    float tmpvar_3;\n    tmpvar_3 = (bbox.w * viewport.y);\n    tmpvar_2 = (1.0/((tmpvar_3 / 2.0)));\n    vec2 tmpvar_4;\n    tmpvar_4.x = ((texcoord.x - 0.5) * ((bbox.z * viewport.x) / tmpvar_3));\n    tmpvar_4.y = (texcoord.y - 0.5);\n    float tmpvar_5;\n    tmpvar_5 = (((spinnerSize * tmpvar_2) * 2.5) / 15.7);\n    float tmpvar_6;\n    tmpvar_6 = (((spinnerSize * tmpvar_2) * 6.75) / 15.7);\n    float tmpvar_7;\n    tmpvar_7 = sqrt(dot (tmpvar_4, tmpvar_4));\n    float tmpvar_8;\n    tmpvar_8 = (((spinnerSize * tmpvar_2) * 0.6) / 15.7);\n    float tmpvar_9;\n    tmpvar_9 = ((spinnerSize * tmpvar_2) / 15.7);\n    vec2 tmpvar_10;\n    float tmpvar_11;\n    tmpvar_11 = (tick * 0.00435);\n    tmpvar_10.x = sin(tmpvar_11);\n    tmpvar_10.y = cos(tmpvar_11);\n    vec2 tmpvar_12;\n    tmpvar_12 = normalize(tmpvar_10);\n    float tmpvar_13;\n    float x_14;\n    x_14 = (dot (tmpvar_4, tmpvar_12) / sqrt(dot (tmpvar_4, tmpvar_4)));\n    tmpvar_13 = (1.570796 - (sign(x_14) * (1.570796 - \n      (sqrt((1.0 - abs(x_14))) * (1.570796 + (abs(x_14) * (-0.2146018 + \n        (abs(x_14) * (0.08656672 + (abs(x_14) * -0.03102955)))\n      ))))\n    )));\n    float edge0_15;\n    edge0_15 = ((tmpvar_5 - tmpvar_8) - tmpvar_2);\n    float tmpvar_16;\n    tmpvar_16 = clamp (((tmpvar_7 - edge0_15) / (\n      (tmpvar_5 - tmpvar_8)\n     - edge0_15)), 0.0, 1.0);\n    float edge0_17;\n    edge0_17 = (tmpvar_5 + tmpvar_8);\n    float tmpvar_18;\n    tmpvar_18 = clamp (((tmpvar_7 - edge0_17) / (\n      ((tmpvar_5 + tmpvar_8) + tmpvar_2)\n     - edge0_17)), 0.0, 1.0);\n    float tmpvar_19;\n    tmpvar_19 = ((tmpvar_16 * (tmpvar_16 * \n      (3.0 - (2.0 * tmpvar_16))\n    )) * (1.0 - (tmpvar_18 * \n      (tmpvar_18 * (3.0 - (2.0 * tmpvar_18)))\n    )));\n    float edge0_20;\n    edge0_20 = ((tmpvar_6 - tmpvar_9) - tmpvar_2);\n    float tmpvar_21;\n    tmpvar_21 = clamp (((tmpvar_7 - edge0_20) / (\n      (tmpvar_6 - tmpvar_9)\n     - edge0_20)), 0.0, 1.0);\n    float edge0_22;\n    edge0_22 = (tmpvar_6 + tmpvar_9);\n    float tmpvar_23;\n    tmpvar_23 = clamp (((tmpvar_7 - edge0_22) / (\n      ((tmpvar_6 + tmpvar_9) + tmpvar_2)\n     - edge0_22)), 0.0, 1.0);\n    float tmpvar_24;\n    tmpvar_24 = ((tmpvar_21 * (tmpvar_21 * \n      (3.0 - (2.0 * tmpvar_21))\n    )) * (1.0 - (tmpvar_23 * \n      (tmpvar_23 * (3.0 - (2.0 * tmpvar_23)))\n    )));\n    vec2 tmpvar_25;\n    tmpvar_25.x = tmpvar_12.y;\n    tmpvar_25.y = -(tmpvar_12.x);\n    vec2 x_26;\n    x_26 = (tmpvar_4 - (tmpvar_25 * tmpvar_6));\n    float tmpvar_27;\n    tmpvar_27 = clamp (((\n      sqrt(dot (x_26, x_26))\n     - tmpvar_9) / (\n      (tmpvar_9 + tmpvar_2)\n     - tmpvar_9)), 0.0, 1.0);\n    float tmpvar_28;\n    tmpvar_28 = (1.0 - (tmpvar_27 * (tmpvar_27 * \n      (3.0 - (2.0 * tmpvar_27))\n    )));\n    vec2 tmpvar_29;\n    tmpvar_29.x = -(tmpvar_12.y);\n    tmpvar_29.y = tmpvar_12.x;\n    vec2 x_30;\n    x_30 = (tmpvar_4 - (tmpvar_29 * tmpvar_6));\n    float tmpvar_31;\n    tmpvar_31 = clamp (((\n      sqrt(dot (x_30, x_30))\n     - tmpvar_9) / (\n      (tmpvar_9 + tmpvar_2)\n     - tmpvar_9)), 0.0, 1.0);\n    float tmpvar_32;\n    tmpvar_32 = (1.0 - (tmpvar_31 * (tmpvar_31 * \n      (3.0 - (2.0 * tmpvar_31))\n    )));\n    float tmpvar_33;\n    tmpvar_33 = (max (tmpvar_19, tmpvar_24) * 0.5);\n    float tmpvar_34;\n    if ((tmpvar_13 < 1.570796)) {\n      tmpvar_34 = tmpvar_24;\n    } else {\n      tmpvar_34 = 0.0;\n    };\n    color_1 = mix (vec3(0.9453125, 0.9453125, 0.9453125), vec3(0.6015625, 0.65625, 0.6601562), max (max (tmpvar_33, tmpvar_34), max (\n      max (tmpvar_28, tmpvar_32)\n    , tmpvar_19)));\n  } else {\n    color_1 = texture2D (texture, texcoord).xyz;\n  };\n  lowp vec3 tmpvar_35;\n  vec3 I_36;\n  I_36 = -(lightDirection);\n  tmpvar_35 = (((\n    ((vec3(0.9, 0.9, 0.9) * color_1) + ((vec3(0.2, 0.2, 0.2) * clamp (\n      dot (vnormal, lightDirection)\n    , 0.0, 1.0)) * color_1))\n   + \n    (vec3(0.3, 0.3, 0.3) * pow (max (dot (\n      (I_36 - (2.0 * (dot (vnormal, I_36) * vnormal)))\n    , cameraDirection), 0.0), 5.0))\n  ) * lightRatio) + ((1.0 - lightRatio) * color_1));\n  color_1 = tmpvar_35;\n  if ((((\n    (texcoord.x >= clipRect.x)\n   && \n    (texcoord.x <= clipRect.y)\n  ) && (texcoord.y >= clipRect.z)) && (texcoord.y <= clipRect.w))) {\n    lowp vec4 tmpvar_37;\n    tmpvar_37.w = 1.0;\n    tmpvar_37.xyz = tmpvar_35;\n    gl_FragColor = tmpvar_37;\n  } else {\n    gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);\n  };\n}\n\n"},function(e,t){e.exports="precision highp float;\nattribute vec3 vertex;\nattribute vec3 normal;\nattribute vec2 textureCoord;\nattribute float perspectiveCorrection;\nuniform mat3 u_matrix;\nuniform mat3 u_texMatrix;\nvarying vec3 vnormal;\nvarying vec3 lightDirection;\nvarying vec3 cameraDirection;\nvarying vec2 texcoord;\nvoid main ()\n{\n  vec3 tmpvar_1;\n  tmpvar_1.z = 1.0;\n  tmpvar_1.xy = vertex.xy;\n  vec3 tmpvar_2;\n  tmpvar_2.xy = (u_matrix * tmpvar_1).xy;\n  tmpvar_2.z = vertex.z;\n  vnormal = normal;\n  lightDirection = normalize((vec3(10.0, 5.0, 4.0) - tmpvar_2));\n  cameraDirection = normalize((vec3(0.0, 0.0, 1.0) - tmpvar_2));\n  vec3 tmpvar_3;\n  tmpvar_3.z = 1.0;\n  tmpvar_3.xy = textureCoord;\n  texcoord = (u_texMatrix * tmpvar_3).xy;\n  highp vec4 tmpvar_4;\n  tmpvar_4.xy = tmpvar_2.xy;\n  tmpvar_4.z = -(vertex.z);\n  tmpvar_4.w = perspectiveCorrection;\n  gl_Position = tmpvar_4;\n}\n\n"},function(e,t){e.exports="precision highp float;\nuniform mat3 u_matrix;\nattribute vec3 vertex;\nvoid main ()\n{\n  vec3 tmpvar_1;\n  tmpvar_1.z = 1.0;\n  tmpvar_1.xy = vertex.xy;\n  vec3 tmpvar_2;\n  tmpvar_2.xy = (u_matrix * tmpvar_1).xy;\n  tmpvar_2.z = vertex.z;\n  highp vec4 tmpvar_3;\n  tmpvar_3.xy = tmpvar_2.xy;\n  tmpvar_3.z = (-(vertex.z) * 0.8);\n  tmpvar_3.w = (1.0 + (vertex.z * -0.2));\n  gl_Position = tmpvar_3;\n}\n\n"},function(e,t){e.exports="precision highp float;\nuniform bool backFacing;\nvoid main ()\n{\n  if (backFacing) {\n    gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0);\n  } else {\n    gl_FragColor = vec4(0.0, 1.0, 0.0, 1.0);\n  };\n}\n\n"},function(e,t){e.exports="#extension GL_OES_standard_derivatives : enable\nprecision highp float;\nuniform float opacity;\nuniform float strokeWidth;\nvarying vec4 vBC;\nvoid main ()\n{\n  vec4 tmpvar_1;\n  tmpvar_1.xyz = vec3(0.4627451, 0.6470588, 0.8);\n  tmpvar_1.w = opacity;\n  vec4 tmpvar_2;\n  tmpvar_2.xyz = vec3(0.4627451, 0.6470588, 0.8);\n  tmpvar_2.w = (opacity / 2.0);\n  vec4 tmpvar_3;\n  vec4 tmpvar_4;\n  tmpvar_4 = clamp ((vBC / (\n    (abs(dFdx(vBC)) + abs(dFdy(vBC)))\n   * strokeWidth)), 0.0, 1.0);\n  tmpvar_3 = (tmpvar_4 * (tmpvar_4 * (3.0 - \n    (2.0 * tmpvar_4)\n  )));\n  gl_FragColor = mix (tmpvar_1, tmpvar_2, min (min (tmpvar_3.x, tmpvar_3.y), min (tmpvar_3.z, tmpvar_3.w)));\n}\n\n"},function(e,t){e.exports="attribute vec2 vertex;\nattribute vec4 barycentric;\nuniform vec2 viewport;\nuniform vec4 bbox;\nvarying vec4 vBC;\nvoid main ()\n{\n  vec2 tmpvar_1;\n  tmpvar_1 = ((2.0 * bbox.xz) / viewport.x);\n  vec2 tmpvar_2;\n  tmpvar_2 = ((2.0 * bbox.yw) / viewport.y);\n  highp vec2 tmpvar_3;\n  tmpvar_3.x = ((tmpvar_1.x - 1.0) + (vertex.x * tmpvar_1.y));\n  tmpvar_3.y = ((1.0 - tmpvar_2.x) - (vertex.y * tmpvar_2.y));\n  vBC = barycentric;\n  highp vec4 tmpvar_4;\n  tmpvar_4.zw = vec2(0.0, 1.0);\n  tmpvar_4.xy = tmpvar_3;\n  gl_Position = tmpvar_4;\n}\n\n"},function(e,t,r){"use strict";var n=r(100),o=r(256),i=r(142),a=r(257),s=r(258),u=r(391),c=i.apply(s()),l=function(e,t){o(e);var r=[t];return arguments.length>2&&r.push(arguments[2]),c(e,r)};n(l,{getPolyfill:s,implementation:a,shim:u}),e.exports=l},function(e,t,r){"use strict";t.a=function(e){function t(e,t,n){var o=t.trim().split(h);t=o;var i=o.length,a=e.length;switch(a){case 0:case 1:var s=0;for(e=0===a?"":e[0]+" ";s<i;++s)t[s]=r(e,t[s],n).trim();break;default:var u=s=0;for(t=[];s<i;++s)for(var c=0;c<a;++c)t[u++]=r(e[c]+" ",o[s],n).trim()}return t}function r(e,t,r){var n=t.charCodeAt(0);switch(33>n&&(n=(t=t.trim()).charCodeAt(0)),n){case 38:return t.replace(y,"$1"+e.trim());case 58:return e.trim()+t.replace(y,"$1"+e.trim());default:if(0<1*r&&0<t.indexOf("\f"))return t.replace(y,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function n(e,t,r,i){var a=e+";",s=2*t+3*r+4*i;if(944===s){e=a.indexOf(":",9)+1;var u=a.substring(e,a.length-1).trim();return u=a.substring(0,e).trim()+u+";",1===C||2===C&&o(u,1)?"-webkit-"+u+u:u}if(0===C||2===C&&!o(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(x,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(u=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+u+a;case 1005:return p.test(a)?a.replace(f,":-webkit-")+a.replace(f,":-moz-")+a:a;case 1e3:switch(t=(u=a.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(t)){case 226:u=a.replace(_,"tb");break;case 232:u=a.replace(_,"tb-rl");break;case 220:u=a.replace(_,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+u+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(t=(a=e).length-10,s=(u=(33===a.charCodeAt(t)?a.substring(0,t):a).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:a=a.replace(u,"-webkit-"+u)+";"+a;break;case 207:case 102:a=a.replace(u,"-webkit-"+(102<s?"inline-":"")+"box")+";"+a.replace(u,"-webkit-"+u)+";"+a.replace(u,"-ms-"+u+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return u=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+u+"-ms-flex-"+u+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(E,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(E,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===T.test(e))return 115===(u=e.substring(e.indexOf(":")+1)).charCodeAt(0)?n(e.replace("stretch","fill-available"),t,r,i).replace(":fill-available",":stretch"):a.replace(u,"-webkit-"+u)+a.replace(u,"-moz-"+u.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===r+i&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(d,"$1-webkit-$2")+a}return a}function o(e,t){var r=e.indexOf(1===t?":":"{"),n=e.substring(0,3!==t?r:10);return r=e.substring(r+1,e.length-1),I(2!==t?n:n.replace(O,"$1"),r,t)}function i(e,t){var r=n(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return r!==t+";"?r.replace(w," or ($1)").substring(4):"("+t+")"}function a(e,t,r,n,o,i,a,s,c,l){for(var f,p=0,d=t;p<j;++p)switch(f=R[p].call(u,e,d,r,n,o,i,a,s,c,l)){case void 0:case!1:case!0:case null:break;default:d=f}if(d!==t)return d}function s(e){return void 0!==(e=e.prefix)&&(I=null,e?"function"!=typeof e?C=1:(C=2,I=e):C=0),s}function u(e,r){var s=e;if(33>s.charCodeAt(0)&&(s=s.trim()),s=[s],0<j){var u=a(-1,r,s,s,S,k,0,0,0,0);void 0!==u&&"string"==typeof u&&(r=u)}var f=function e(r,s,u,f,p){for(var d,h,y,_,w,E=0,O=0,T=0,x=0,R=0,I=0,M=y=d=0,L=0,N=0,B=0,F=0,U=u.length,W=U-1,z="",H="",V="",G="";L<U;){if(h=u.charCodeAt(L),L===W&&0!==O+x+T+E&&(0!==O&&(h=47===O?10:47),x=T=E=0,U++,W++),0===O+x+T+E){if(L===W&&(0<N&&(z=z.replace(l,"")),0<z.trim().length)){switch(h){case 32:case 9:case 59:case 13:case 10:break;default:z+=u.charAt(L)}h=59}switch(h){case 123:for(d=(z=z.trim()).charCodeAt(0),y=1,F=++L;L<U;){switch(h=u.charCodeAt(L)){case 123:y++;break;case 125:y--;break;case 47:switch(h=u.charCodeAt(L+1)){case 42:case 47:e:{for(M=L+1;M<W;++M)switch(u.charCodeAt(M)){case 47:if(42===h&&42===u.charCodeAt(M-1)&&L+2!==M){L=M+1;break e}break;case 10:if(47===h){L=M+1;break e}}L=M}}break;case 91:h++;case 40:h++;case 34:case 39:for(;L++<W&&u.charCodeAt(L)!==h;);}if(0===y)break;L++}switch(y=u.substring(F,L),0===d&&(d=(z=z.replace(c,"").trim()).charCodeAt(0)),d){case 64:switch(0<N&&(z=z.replace(l,"")),h=z.charCodeAt(1)){case 100:case 109:case 115:case 45:N=s;break;default:N=A}if(F=(y=e(s,N,y,h,p+1)).length,0<j&&(w=a(3,y,N=t(A,z,B),s,S,k,F,h,p,f),z=N.join(""),void 0!==w&&0===(F=(y=w.trim()).length)&&(h=0,y="")),0<F)switch(h){case 115:z=z.replace(b,i);case 100:case 109:case 45:y=z+"{"+y+"}";break;case 107:y=(z=z.replace(m,"$1 $2"))+"{"+y+"}",y=1===C||2===C&&o("@"+y,3)?"@-webkit-"+y+"@"+y:"@"+y;break;default:y=z+y,112===f&&(H+=y,y="")}else y="";break;default:y=e(s,t(s,z,B),y,f,p+1)}V+=y,y=B=N=M=d=0,z="",h=u.charCodeAt(++L);break;case 125:case 59:if(1<(F=(z=(0<N?z.replace(l,""):z).trim()).length))switch(0===M&&(d=z.charCodeAt(0),45===d||96<d&&123>d)&&(F=(z=z.replace(" ",":")).length),0<j&&void 0!==(w=a(1,z,s,r,S,k,H.length,f,p,f))&&0===(F=(z=w.trim()).length)&&(z="\0\0"),d=z.charCodeAt(0),h=z.charCodeAt(1),d){case 0:break;case 64:if(105===h||99===h){G+=z+u.charAt(L);break}default:58!==z.charCodeAt(F-1)&&(H+=n(z,d,h,z.charCodeAt(2)))}B=N=M=d=0,z="",h=u.charCodeAt(++L)}}switch(h){case 13:case 10:47===O?O=0:0===1+d&&107!==f&&0<z.length&&(N=1,z+="\0"),0<j*D&&a(0,z,s,r,S,k,H.length,f,p,f),k=1,S++;break;case 59:case 125:if(0===O+x+T+E){k++;break}default:switch(k++,_=u.charAt(L),h){case 9:case 32:if(0===x+E+O)switch(R){case 44:case 58:case 9:case 32:_="";break;default:32!==h&&(_=" ")}break;case 0:_="\\0";break;case 12:_="\\f";break;case 11:_="\\v";break;case 38:0===x+O+E&&(N=B=1,_="\f"+_);break;case 108:if(0===x+O+E+P&&0<M)switch(L-M){case 2:112===R&&58===u.charCodeAt(L-3)&&(P=R);case 8:111===I&&(P=I)}break;case 58:0===x+O+E&&(M=L);break;case 44:0===O+T+x+E&&(N=1,_+="\r");break;case 34:case 39:0===O&&(x=x===h?0:0===x?h:x);break;case 91:0===x+O+T&&E++;break;case 93:0===x+O+T&&E--;break;case 41:0===x+O+E&&T--;break;case 40:if(0===x+O+E){if(0===d)switch(2*R+3*I){case 533:break;default:d=1}T++}break;case 64:0===O+T+x+E+M+y&&(y=1);break;case 42:case 47:if(!(0<x+E+T))switch(O){case 0:switch(2*h+3*u.charCodeAt(L+1)){case 235:O=47;break;case 220:F=L,O=42}break;case 42:47===h&&42===R&&F+2!==L&&(33===u.charCodeAt(F+2)&&(H+=u.substring(F,L+1)),_="",O=0)}}0===O&&(z+=_)}I=R,R=h,L++}if(0<(F=H.length)){if(N=s,0<j&&(void 0!==(w=a(2,H,N,r,S,k,F,f,p,f))&&0===(H=w).length))return G+H+V;if(H=N.join(",")+"{"+H+"}",0!=C*P){switch(2!==C||o(H,2)||(P=0),P){case 111:H=H.replace(g,":-moz-$1")+H;break;case 112:H=H.replace(v,"::-webkit-input-$1")+H.replace(v,"::-moz-$1")+H.replace(v,":-ms-input-$1")+H}P=0}}return G+H+V}(A,s,r,0,0);return 0<j&&(void 0!==(u=a(-2,f,s,s,S,k,f.length,0,0,0))&&(f=u)),"",P=0,k=S=1,f}var c=/^\0+/g,l=/[\0\r\f]/g,f=/: */g,p=/zoo|gra/,d=/([,: ])(transform)/g,h=/,\r+?/g,y=/([\t\r\n ])*\f?&/g,m=/@(k\w+)\s*(\S*)\s*/,v=/::(place)/g,g=/:(read-only)/g,_=/[svh]\w+-[tblr]{2}/,b=/\(\s*(.*)\s*\)/g,w=/([\s\S]*?);/g,E=/-self|flex-/g,O=/[^]*?(:[rp][el]a[\w-]+)[^]*/,T=/stretch|:\s*\w+\-(?:conte|avail)/,x=/([^-])(image-set\()/,k=1,S=1,P=0,C=1,A=[],R=[],j=0,I=null,D=0;return u.use=function e(t){switch(t){case void 0:case null:j=R.length=0;break;default:if("function"==typeof t)R[j++]=t;else if("object"==typeof t)for(var r=0,n=t.length;r<n;++r)e(t[r]);else D=0|!!t}return e},u.set=s,void 0!==e&&s(e),u}},function(e,t,r){"use strict";t.a={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},function(e,t,r){r(79);var n,o=r(392),i=[];function a(){}t.create=function(e){var t=e||{};t.onError=t.onError||a;var r=t.bidders||[],s=t.bidderTimeout||1500;return function(e){n||((n=window.googletag=window.googletag||{}).cmd=n.cmd||[],n.issuuOptions=e||{})}(t),o.init(r),{addPlacement:function(e,t,r,a,u){var c,l=r||[];if(e&&t){var f=a||[];2===f.length&&"string"==typeof f[0]&&(f=[f]);var p=!1,d=function(){p||n.cmd.push((function(){n.pubads().refresh([c]),p=!0}))};return n.cmd.push((function(){var r;if(1===l.length&&"outOfPage"===l[0]?(r=a.some((function(e){return"interstitial"===e[0]}))?n.enums.OutOfPageFormat.INTERSTITIAL:e,c=n.defineOutOfPageSlot(t,r)):c=n.defineSlot(t,l,e),c){i[e]=c;for(var o=0;o<f.length;o++){var s=f[o];2===s.length&&(c=c.setTargeting(s[0],s[1]))}c=c.setCollapseEmptyDiv(!0).addService(n.pubads()),n.display(r?c:e)}})),u&&u.length&&/(^|;\s*)__gads=/.test(document.cookie)?(o.requestBids(e,t,l,u,d),setTimeout(d,s)):d(),c}},addEventListener:function(e,t){n.cmd.push((function(){n.pubads().addEventListener(e,t)}))},getSlotById:function(e){return i[e]},refreshPlacement:function(e){if(e&&"function"==typeof e.getSlotElementId&&e.getSlotElementId()){var t=e.getSlotElementId();n.cmd.push((function(){n.pubads().clear(),n.display(t),n.pubads().refresh([e])}))}},refreshAll:function(){n.cmd.push((function(){n.pubads().refresh()}))}}}},function(e,t,r){var n;
/*!
 * UAParser.js v0.7.23
 * Lightweight JavaScript-based User-Agent string parser
 * https://github.com/faisalman/ua-parser-js
 *
 * Copyright © 2012-2019 Faisal Salman <f@faisalman.com>
 * Licensed under MIT License
 */!function(o,i){"use strict";var a="model",s="name",u="type",c="vendor",l="version",f="mobile",p="tablet",d="smarttv",h={extend:function(e,t){var r={};for(var n in e)t[n]&&t[n].length%2==0?r[n]=t[n].concat(e[n]):r[n]=e[n];return r},has:function(e,t){return"string"==typeof e&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return"string"==typeof e?e.replace(/[^\d\.]/g,"").split(".")[0]:void 0},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},y={rgx:function(e,t){for(var r,n,o,i,a,s,u=0;u<t.length&&!a;){var c=t[u],l=t[u+1];for(r=n=0;r<c.length&&!a;)if(a=c[r++].exec(e))for(o=0;o<l.length;o++)s=a[++n],"object"==typeof(i=l[o])&&i.length>0?2==i.length?"function"==typeof i[1]?this[i[0]]=i[1].call(this,s):this[i[0]]=i[1]:3==i.length?"function"!=typeof i[1]||i[1].exec&&i[1].test?this[i[0]]=s?s.replace(i[1],i[2]):void 0:this[i[0]]=s?i[1].call(this,s,i[2]):void 0:4==i.length&&(this[i[0]]=s?i[3].call(this,s.replace(i[1],i[2])):void 0):this[i]=s||void 0;u+=2}},str:function(e,t){for(var r in t)if("object"==typeof t[r]&&t[r].length>0){for(var n=0;n<t[r].length;n++)if(h.has(t[r][n],e))return"?"===r?void 0:r}else if(h.has(t[r],e))return"?"===r?void 0:r;return e}},m={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},v={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]{3,6}).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[s,l],[/(opios)[\/\s]+([\w\.]+)/i],[[s,"Opera Mini"],l],[/\s(opr)\/([\w\.]+)/i],[[s,"Opera"],l],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim)(?:browser)?[\/\s]?([\w\.]*)/i,/(bidubrowser|baidubrowser)[\/\s]?([\w\.]+)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]*)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i],[s,l],[/(konqueror)\/([\w\.]+)/i],[[s,"Konqueror"],l],[/(trident).+rv[:\s]([\w\.]{1,9}).+like\sgecko/i],[[s,"IE"],l],[/(edge|edgios|edga|edg)\/((\d+)?[\w\.]+)/i],[[s,"Edge"],l],[/(yabrowser)\/([\w\.]+)/i],[[s,"Yandex"],l],[/(Avast)\/([\w\.]+)/i],[[s,"Avast Secure Browser"],l],[/(AVG)\/([\w\.]+)/i],[[s,"AVG Secure Browser"],l],[/(puffin)\/([\w\.]+)/i],[[s,"Puffin"],l],[/(focus)\/([\w\.]+)/i],[[s,"Firefox Focus"],l],[/(opt)\/([\w\.]+)/i],[[s,"Opera Touch"],l],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[s,"UCBrowser"],l],[/(comodo_dragon)\/([\w\.]+)/i],[[s,/_/g," "],l],[/(windowswechat qbcore)\/([\w\.]+)/i],[[s,"WeChat(Win) Desktop"],l],[/(micromessenger)\/([\w\.]+)/i],[[s,"WeChat"],l],[/(brave)\/([\w\.]+)/i],[[s,"Brave"],l],[/(whale)\/([\w\.]+)/i],[[s,"Whale"],l],[/(qqbrowserlite)\/([\w\.]+)/i],[s,l],[/(QQ)\/([\d\.]+)/i],[s,l],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[s,l],[/(baiduboxapp)[\/\s]?([\w\.]+)/i],[s,l],[/(2345Explorer)[\/\s]?([\w\.]+)/i],[s,l],[/(MetaSr)[\/\s]?([\w\.]+)/i],[s],[/(LBBROWSER)/i],[s],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[l,[s,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[l,[s,"Facebook"]],[/FBAN\/FBIOS|FB_IAB\/FB4A/i],[[s,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/android.+(line)\/([\w\.]+)\/iab/i],[s,l],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[l,[s,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[s,/(.+)/,"$1 WebView"],l],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[s,/(.+(?:g|us))(.+)/,"$1 $2"],l],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[l,[s,"Android Browser"]],[/(sailfishbrowser)\/([\w\.]+)/i],[[s,"Sailfish Browser"],l],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[s,l],[/(dolfin)\/([\w\.]+)/i],[[s,"Dolphin"],l],[/(qihu|qhbrowser|qihoobrowser|360browser)/i],[[s,"360 Browser"]],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[s,"Chrome"],l],[/(coast)\/([\w\.]+)/i],[[s,"Opera Coast"],l],[/fxios\/([\w\.-]+)/i],[l,[s,"Firefox"]],[/version\/([\w\.]+)\s.*mobile\/\w+\s(safari)/i],[l,[s,"Mobile Safari"]],[/version\/([\w\.]+)\s.*(mobile\s?safari|safari)/i],[l,s],[/webkit.+?(gsa)\/([\w\.]+)\s.*(mobile\s?safari|safari)(\/[\w\.]+)/i],[[s,"GSA"],l],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[s,[l,y.str,m.browser.oldsafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[s,l],[/(navigator|netscape)\/([\w\.-]+)/i],[[s,"Netscape"],l],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(firefox)\/([\w\.]+)\s[\w\s\-]+\/[\w\.]+$/i,/(mozilla)\/([\w\.]+)\s.+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[s,l]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",h.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/windows\s(ce|mobile);\sppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[["architecture",/ower/,"",h.lowerize]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+[;l]))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[["architecture",h.lowerize]]],device:[[/\((ipad|playbook);[\w\s\),;-]+(rim|apple)/i],[a,c,[u,p]],[/applecoremedia\/[\w\.]+ \((ipad)/],[a,[c,"Apple"],[u,p]],[/(apple\s{0,1}tv)/i],[[a,"Apple TV"],[c,"Apple"],[u,d]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[c,a,[u,p]],[/(kf[A-z]+)(\sbuild\/|\)).+silk\//i],[a,[c,"Amazon"],[u,p]],[/(sd|kf)[0349hijorstuw]+(\sbuild\/|\)).+silk\//i],[[a,y.str,m.device.amazon.model],[c,"Amazon"],[u,f]],[/android.+aft([bms])\sbuild/i],[a,[c,"Amazon"],[u,d]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[a,c,[u,f]],[/\((ip[honed|\s\w*]+);/i],[a,[c,"Apple"],[u,f]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[c,a,[u,f]],[/\(bb10;\s(\w+)/i],[a,[c,"BlackBerry"],[u,f]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone|p00c)/i],[a,[c,"Asus"],[u,p]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[c,"Sony"],[a,"Xperia Tablet"],[u,p]],[/android.+\s([c-g]\d{4}|so[-l]\w+)(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[a,[c,"Sony"],[u,f]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[c,a,[u,"console"]],[/android.+;\s(shield)\sbuild/i],[a,[c,"Nvidia"],[u,"console"]],[/(playstation\s[34portablevi]+)/i],[a,[c,"Sony"],[u,"console"]],[/(sprint\s(\w+))/i],[[c,y.str,m.device.sprint.vendor],[a,y.str,m.device.sprint.model],[u,f]],[/(htc)[;_\s-]{1,2}([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[c,[a,/_/g," "],[u,f]],[/(nexus\s9)/i],[a,[c,"HTC"],[u,p]],[/d\/huawei([\w\s-]+)[;\)]/i,/android.+\s(nexus\s6p|vog-[at]?l\d\d|ane-[at]?l[x\d]\d|eml-a?l\d\da?|lya-[at]?l\d[\dc]|clt-a?l\d\di?)/i],[a,[c,"Huawei"],[u,f]],[/android.+(bah2?-a?[lw]\d{2})/i],[a,[c,"Huawei"],[u,p]],[/(microsoft);\s(lumia[\s\w]+)/i],[c,a,[u,f]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[a,[c,"Microsoft"],[u,"console"]],[/(kin\.[onetw]{3})/i],[[a,/\./g," "],[c,"Microsoft"],[u,f]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w*)/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[a,[c,"Motorola"],[u,f]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[a,[c,"Motorola"],[u,p]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[c,h.trim],[a,h.trim],[u,d]],[/hbbtv.+maple;(\d+)/i],[[a,/^/,"SmartTV"],[c,"Samsung"],[u,d]],[/\(dtv[\);].+(aquos)/i],[a,[c,"Sharp"],[u,d]],[/android.+((sch-i[89]0\d|shw-m380s|SM-P605|SM-P610|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[c,"Samsung"],a,[u,p]],[/smart-tv.+(samsung)/i],[c,[u,d],a],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i,/sec-((sgh\w+))/i],[[c,"Samsung"],a,[u,f]],[/sie-(\w*)/i],[a,[c,"Siemens"],[u,f]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]*)/i],[[c,"Nokia"],a,[u,f]],[/android[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[a,[c,"Acer"],[u,p]],[/android.+([vl]k\-?\d{3})\s+build/i],[a,[c,"LG"],[u,p]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[c,"LG"],a,[u,p]],[/linux;\snetcast.+smarttv/i,/lg\snetcast\.tv-201\d/i],[[c,"LG"],a,[u,d]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w*)/i,/android.+lg(\-?[\d\w]+)\s+build/i],[a,[c,"LG"],[u,f]],[/(lenovo)\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+))/i],[c,a,[u,p]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[a,[c,"Lenovo"],[u,p]],[/(lenovo)[_\s-]?([\w-]+)/i],[c,a,[u,f]],[/linux;.+((jolla));/i],[c,a,[u,f]],[/((pebble))app\/[\d\.]+\s/i],[c,a,[u,"wearable"]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[c,a,[u,f]],[/crkey/i],[[a,"Chromecast"],[c,"Google"],[u,d]],[/android.+;\s(glass)\s\d/i],[a,[c,"Google"],[u,"wearable"]],[/android.+;\s(pixel c)[\s)]/i],[a,[c,"Google"],[u,p]],[/android.+;\s(pixel( [2-9]a?)?( xl)?)[\s)]/i],[a,[c,"Google"],[u,f]],[/android.+;\s(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]?note?[\s_]?(?:\d\w)?)\sbuild/i,/android.+(redmi[\s\-_]?(?:note|k)?(?:[\s_]?[\w\s]+))(?:\sbuild|\))/i,/android.+(mi[\s\-_]?(?:a\d|one|one[\s_]plus|note lte)?[\s_]?(?:\d?\w?)[\s_]?(?:plus)?)\sbuild/i],[[a,/_/g," "],[c,"Xiaomi"],[u,f]],[/android.+(mi[\s\-_]?(?:pad)(?:[\s_]?[\w\s]+))(?:\sbuild|\))/i],[[a,/_/g," "],[c,"Xiaomi"],[u,p]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[a,[c,"Meizu"],[u,f]],[/(mz)-([\w-]{2,})/i],[[c,"Meizu"],a,[u,f]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})[\s)]/i],[a,[c,"OnePlus"],[u,f]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[a,[c,"RCA"],[u,p]],[/android.+[;\/\s](Venue[\d\s]{2,7})\s+build/i],[a,[c,"Dell"],[u,p]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[a,[c,"Verizon"],[u,p]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[c,"Barnes & Noble"],a,[u,p]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[a,[c,"NuVision"],[u,p]],[/android.+;\s(k88)\sbuild/i],[a,[c,"ZTE"],[u,p]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[a,[c,"Swiss"],[u,f]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[a,[c,"Swiss"],[u,p]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[a,[c,"Zeki"],[u,p]],[/(android).+[;\/]\s+([YR]\d{2})\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],[[c,"Dragon Touch"],a,[u,p]],[/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],[a,[c,"Insignia"],[u,p]],[/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],[a,[c,"NextBook"],[u,p]],[/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[c,"Voice"],a,[u,f]],[/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],[[c,"LvTel"],a,[u,f]],[/android.+;\s(PH-1)\s/i],[a,[c,"Essential"],[u,f]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[a,[c,"Envizen"],[u,p]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],[c,a,[u,p]],[/android.+[;\/]\s*(Trio[\s\w\-\.]+)\s+build/i],[a,[c,"MachSpeed"],[u,p]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[c,a,[u,p]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[a,[c,"Rotor"],[u,p]],[/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],[c,a,[u,p]],[/android .+?; ([^;]+?)(?: build|\) applewebkit).+? mobile safari/i],[a,[u,f]],[/android .+?;\s([^;]+?)(?: build|\) applewebkit).+?(?! mobile) safari/i],[a,[u,p]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[u,h.lowerize],c,a],[/[\s\/\(](smart-?tv)[;\)]/i],[[u,d]],[/(android[\w\.\s\-]{0,9});.+build/i],[a,[c,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[l,[s,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[l,[s,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[s,l],[/rv\:([\w\.]{1,9}).+(gecko)/i],[l,s]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[s,l],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[s,[l,y.str,m.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[s,"Windows"],[l,y.str,m.os.windows.version]],[/\((bb)(10);/i],[[s,"BlackBerry"],l],[/(blackberry)\w*\/?([\w\.]*)/i,/(tizen|kaios)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i],[s,l],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],[[s,"Symbian"],l],[/\((series40);/i],[s],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[s,"Firefox OS"],l],[/crkey\/([\d\.]+)/i],[l,[s,"Chromecast"]],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i],[s,l],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[s,"Chromium OS"],l],[/(sunos)\s?([\w\.\d]*)/i],[[s,"Solaris"],l],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],[s,l],[/(haiku)\s(\w+)/i],[s,l],[/cfnetwork\/.+darwin/i,/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[l,/_/g,"."],[s,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)/i],[[s,"Mac OS"],[l,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[s,l]]},g=function(e,t){if("object"==typeof e&&(t=e,e=void 0),!(this instanceof g))return new g(e,t).getResult();var r=e||(o&&o.navigator&&o.navigator.userAgent?o.navigator.userAgent:""),n=t?h.extend(v,t):v;return this.getBrowser=function(){var e={name:void 0,version:void 0};return y.rgx.call(e,r,n.browser),e.major=h.major(e.version),e},this.getCPU=function(){var e={architecture:void 0};return y.rgx.call(e,r,n.cpu),e},this.getDevice=function(){var e={vendor:void 0,model:void 0,type:void 0};return y.rgx.call(e,r,n.device),e},this.getEngine=function(){var e={name:void 0,version:void 0};return y.rgx.call(e,r,n.engine),e},this.getOS=function(){var e={name:void 0,version:void 0};return y.rgx.call(e,r,n.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=e,this},this};g.VERSION="0.7.23",g.BROWSER={NAME:s,MAJOR:"major",VERSION:l},g.CPU={ARCHITECTURE:"architecture"},g.DEVICE={MODEL:a,VENDOR:c,TYPE:u,CONSOLE:"console",MOBILE:f,SMARTTV:d,TABLET:p,WEARABLE:"wearable",EMBEDDED:"embedded"},g.ENGINE={NAME:s,VERSION:l},g.OS={NAME:s,VERSION:l},void 0!==t?(void 0!==e&&e.exports&&(t=e.exports=g),t.UAParser=g):void 0===(n=function(){return g}.call(t,r,t,e))||(e.exports=n);var _=o&&(o.jQuery||o.Zepto);if(_&&!_.ua){var b=new g;_.ua=b.getResult(),_.ua.get=function(){return b.getUA()},_.ua.set=function(e){b.setUA(e);var t=b.getResult();for(var r in t)_.ua[r]=t[r]}}}("object"==typeof window?window:this)},,,,,,,,,function(e,t,r){var n=r(8),o=r(167),i=n.WeakMap;e.exports="function"==typeof i&&/native code/.test(o(i))},function(e,t,r){"use strict";var n=r(161),o=r(123);e.exports=n?{}.toString:function(){return"[object "+o(this)+"]"}},function(e,t,r){var n=r(94),o=r(95),i=r(170),a=r(26);e.exports=n("Reflect","ownKeys")||function(e){var t=o.f(a(e)),r=i.f;return r?t.concat(r(e)):t}},function(e,t,r){var n=r(8);e.exports=n.Promise},function(e,t,r){var n,o,i,a,s,u,c,l,f=r(8),p=r(86).f,d=r(209).set,h=r(211),y=r(300),m=r(150),v=f.MutationObserver||f.WebKitMutationObserver,g=f.document,_=f.process,b=f.Promise,w=p(f,"queueMicrotask"),E=w&&w.value;E||(n=function(){var e,t;for(m&&(e=_.domain)&&e.exit();o;){t=o.fn,o=o.next;try{t()}catch(e){throw o?a():i=void 0,e}}i=void 0,e&&e.enter()},h||m||y||!v||!g?b&&b.resolve?(c=b.resolve(void 0),l=c.then,a=function(){l.call(c,n)}):a=m?function(){_.nextTick(n)}:function(){d.call(f,n)}:(s=!0,u=g.createTextNode(""),new v(n).observe(u,{characterData:!0}),a=function(){u.data=s=!s})),e.exports=E||function(e){var t={fn:e,next:void 0};i&&(i.next=t),o||(o=t,a()),i=t}},function(e,t,r){var n=r(173);e.exports=/web0s(?!.*chrome)/i.test(n)},function(e,t,r){var n=r(26),o=r(21),i=r(212);e.exports=function(e,t){if(n(e),o(t)&&t.constructor===e)return t;var r=i.f(e);return(0,r.resolve)(t),r.promise}},function(e,t,r){var n=r(8);e.exports=function(e,t){var r=n.console;r&&r.error&&(1===arguments.length?r.error(e):r.error(e,t))}},function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},function(e,t,r){var n=r(34),o=Math.floor,i="".replace,a=/\$([$&'`]|\d\d?|<[^>]*>)/g,s=/\$([$&'`]|\d\d?)/g;e.exports=function(e,t,r,u,c,l){var f=r+e.length,p=u.length,d=s;return void 0!==c&&(c=n(c),d=a),i.call(l,d,(function(n,i){var a;switch(i.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(f);case"<":a=c[i.slice(1,-1)];break;default:var s=+i;if(0===s)return n;if(s>p){var l=o(s/10);return 0===l?n:l<=p?void 0===u[l-1]?i.charAt(1):u[l-1]+i.charAt(1):n}a=u[s-1]}return void 0===a?"":a}))}},function(e,t,r){var n=r(21);e.exports=function(e){if(!n(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},function(e,t,r){"use strict";var n=r(8),o=r(25),i=r(224),a=r(43),s=r(147),u=r(6),c=r(96),l=r(53),f=r(17),p=r(225),d=r(307),h=r(133),y=r(135),m=r(95).f,v=r(28).f,g=r(181),_=r(87),b=r(49),w=b.get,E=b.set,O=n.ArrayBuffer,T=O,x=n.DataView,k=x&&x.prototype,S=Object.prototype,P=n.RangeError,C=d.pack,A=d.unpack,R=function(e){return[255&e]},j=function(e){return[255&e,e>>8&255]},I=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},D=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},M=function(e){return C(e,23,4)},L=function(e){return C(e,52,8)},N=function(e,t){v(e.prototype,t,{get:function(){return w(this)[t]}})},B=function(e,t,r,n){var o=p(r),i=w(e);if(o+t>i.byteLength)throw P("Wrong index");var a=w(i.buffer).bytes,s=o+i.byteOffset,u=a.slice(s,s+t);return n?u:u.reverse()},F=function(e,t,r,n,o,i){var a=p(r),s=w(e);if(a+t>s.byteLength)throw P("Wrong index");for(var u=w(s.buffer).bytes,c=a+s.byteOffset,l=n(+o),f=0;f<t;f++)u[c+f]=l[i?f:t-f-1]};if(i){if(!u((function(){O(1)}))||!u((function(){new O(-1)}))||u((function(){return new O,new O(1.5),new O(NaN),"ArrayBuffer"!=O.name}))){for(var U,W=(T=function(e){return c(this,T),new O(p(e))}).prototype=O.prototype,z=m(O),H=0;z.length>H;)(U=z[H++])in T||a(T,U,O[U]);W.constructor=T}y&&h(k)!==S&&y(k,S);var V=new x(new T(2)),G=k.setInt8;V.setInt8(0,2147483648),V.setInt8(1,2147483649),!V.getInt8(0)&&V.getInt8(1)||s(k,{setInt8:function(e,t){G.call(this,e,t<<24>>24)},setUint8:function(e,t){G.call(this,e,t<<24>>24)}},{unsafe:!0})}else T=function(e){c(this,T,"ArrayBuffer");var t=p(e);E(this,{bytes:g.call(new Array(t),0),byteLength:t}),o||(this.byteLength=t)},x=function(e,t,r){c(this,x,"DataView"),c(e,T,"DataView");var n=w(e).byteLength,i=l(t);if(i<0||i>n)throw P("Wrong offset");if(i+(r=void 0===r?n-i:f(r))>n)throw P("Wrong length");E(this,{buffer:e,byteLength:r,byteOffset:i}),o||(this.buffer=e,this.byteLength=r,this.byteOffset=i)},o&&(N(T,"byteLength"),N(x,"buffer"),N(x,"byteLength"),N(x,"byteOffset")),s(x.prototype,{getInt8:function(e){return B(this,1,e)[0]<<24>>24},getUint8:function(e){return B(this,1,e)[0]},getInt16:function(e){var t=B(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=B(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return D(B(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return D(B(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return A(B(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return A(B(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){F(this,1,e,R,t)},setUint8:function(e,t){F(this,1,e,R,t)},setInt16:function(e,t){F(this,2,e,j,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){F(this,2,e,j,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){F(this,4,e,I,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){F(this,4,e,I,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){F(this,4,e,M,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){F(this,8,e,L,t,arguments.length>2?arguments[2]:void 0)}});_(T,"ArrayBuffer"),_(x,"DataView"),e.exports={ArrayBuffer:T,DataView:x}},function(e,t){var r=Math.abs,n=Math.pow,o=Math.floor,i=Math.log,a=Math.LN2;e.exports={pack:function(e,t,s){var u,c,l,f=new Array(s),p=8*s-t-1,d=(1<<p)-1,h=d>>1,y=23===t?n(2,-24)-n(2,-77):0,m=e<0||0===e&&1/e<0?1:0,v=0;for((e=r(e))!=e||e===1/0?(c=e!=e?1:0,u=d):(u=o(i(e)/a),e*(l=n(2,-u))<1&&(u--,l*=2),(e+=u+h>=1?y/l:y*n(2,1-h))*l>=2&&(u++,l/=2),u+h>=d?(c=0,u=d):u+h>=1?(c=(e*l-1)*n(2,t),u+=h):(c=e*n(2,h-1)*n(2,t),u=0));t>=8;f[v++]=255&c,c/=256,t-=8);for(u=u<<t|c,p+=t;p>0;f[v++]=255&u,u/=256,p-=8);return f[--v]|=128*m,f},unpack:function(e,t){var r,o=e.length,i=8*o-t-1,a=(1<<i)-1,s=a>>1,u=i-7,c=o-1,l=e[c--],f=127&l;for(l>>=7;u>0;f=256*f+e[c],c--,u-=8);for(r=f&(1<<-u)-1,f>>=-u,u+=t;u>0;r=256*r+e[c],c--,u-=8);if(0===f)f=1-s;else{if(f===a)return r?NaN:l?-1/0:1/0;r+=n(2,t),f-=s}return(l?-1:1)*r*n(2,f-t)}}},function(e,t,r){var n=r(53);e.exports=function(e){var t=n(e);if(t<0)throw RangeError("The argument can't be less than 0");return t}},function(e,t,r){"use strict";var n=r(34),o=r(105),i=r(17),a=Math.min;e.exports=[].copyWithin||function(e,t){var r=n(this),s=i(r.length),u=o(e,s),c=o(t,s),l=arguments.length>2?arguments[2]:void 0,f=a((void 0===l?s:o(l,s))-c,s-u),p=1;for(c<u&&u<c+f&&(p=-1,c+=f-1,u+=f-1);f-- >0;)c in r?r[u]=r[c]:delete r[u],u+=p,c+=p;return r}},function(e,t,r){"use strict";var n=r(52),o=r(53),i=r(17),a=r(111),s=r(48),u=Math.min,c=[].lastIndexOf,l=!!c&&1/[1].lastIndexOf(1,-0)<0,f=a("lastIndexOf"),p=s("indexOf",{ACCESSORS:!0,1:0}),d=l||!f||!p;e.exports=d?function(e){if(l)return c.apply(this,arguments)||0;var t=n(this),r=i(t.length),a=r-1;for(arguments.length>1&&(a=u(a,o(arguments[1]))),a<0&&(a=r+a);a>=0;a--)if(a in t&&t[a]===e)return a||0;return-1}:c},function(e,t,r){"use strict";var n=e.exports=r(312);n.build="full",n.tokenize=r(237),n.parse=r(326),n.common=r(327),n.Root._configure(n.Type,n.parse,n.common)},function(e,t,r){"use strict";var n=e.exports=r(313);n.build="light",n.load=function(e,t,r){return"function"==typeof t?(r=t,t=new n.Root):t||(t=new n.Root),t.load(e,r)},n.loadSync=function(e,t){return t||(t=new n.Root),t.loadSync(e)},n.encoder=r(232),n.decoder=r(233),n.verifier=r(234),n.converter=r(235),n.ReflectionObject=r(112),n.Namespace=r(137),n.Root=r(190),n.Enum=r(77),n.Type=r(185),n.Field=r(98),n.OneOf=r(159),n.MapField=r(186),n.Service=r(187),n.Method=r(188),n.Message=r(189),n.wrappers=r(236),n.types=r(113),n.util=r(33),n.ReflectionObject._configure(n.Root),n.Namespace._configure(n.Type,n.Service,n.Enum),n.Root._configure(n.Type),n.Field._configure(n.Type)},function(e,t,r){"use strict";var n=t;function o(){n.util._configure(),n.Writer._configure(n.BufferWriter),n.Reader._configure(n.BufferReader)}n.build="minimal",n.Writer=r(183),n.BufferWriter=r(320),n.Reader=r(184),n.BufferReader=r(321),n.util=r(81),n.rpc=r(230),n.roots=r(231),n.configure=o,o()},function(e,t,r){"use strict";var n=t;n.length=function(e){var t=e.length;if(!t)return 0;for(var r=0;--t%4>1&&"="===e.charAt(t);)++r;return Math.ceil(3*e.length)/4-r};for(var o=new Array(64),i=new Array(123),a=0;a<64;)i[o[a]=a<26?a+65:a<52?a+71:a<62?a-4:a-59|43]=a++;n.encode=function(e,t,r){for(var n,i=null,a=[],s=0,u=0;t<r;){var c=e[t++];switch(u){case 0:a[s++]=o[c>>2],n=(3&c)<<4,u=1;break;case 1:a[s++]=o[n|c>>4],n=(15&c)<<2,u=2;break;case 2:a[s++]=o[n|c>>6],a[s++]=o[63&c],u=0}s>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,a)),s=0)}return u&&(a[s++]=o[n],a[s++]=61,1===u&&(a[s++]=61)),i?(s&&i.push(String.fromCharCode.apply(String,a.slice(0,s))),i.join("")):String.fromCharCode.apply(String,a.slice(0,s))};n.decode=function(e,t,r){for(var n,o=r,a=0,s=0;s<e.length;){var u=e.charCodeAt(s++);if(61===u&&a>1)break;if(void 0===(u=i[u]))throw Error("invalid encoding");switch(a){case 0:n=u,a=1;break;case 1:t[r++]=n<<2|(48&u)>>4,n=u,a=2;break;case 2:t[r++]=(15&n)<<4|(60&u)>>2,n=u,a=3;break;case 3:t[r++]=(3&n)<<6|u,a=0}}if(1===a)throw Error("invalid encoding");return r-o},n.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},function(e,t,r){"use strict";function n(){this._listeners={}}e.exports=n,n.prototype.on=function(e,t,r){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:r||this}),this},n.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var r=this._listeners[e],n=0;n<r.length;)r[n].fn===t?r.splice(n,1):++n;return this},n.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var r=[],n=1;n<arguments.length;)r.push(arguments[n++]);for(n=0;n<t.length;)t[n].fn.apply(t[n++].ctx,r)}return this}},function(e,t,r){"use strict";function n(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),r=new Uint8Array(t.buffer),n=128===r[3];function o(e,n,o){t[0]=e,n[o]=r[0],n[o+1]=r[1],n[o+2]=r[2],n[o+3]=r[3]}function i(e,n,o){t[0]=e,n[o]=r[3],n[o+1]=r[2],n[o+2]=r[1],n[o+3]=r[0]}function a(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],t[0]}function s(e,n){return r[3]=e[n],r[2]=e[n+1],r[1]=e[n+2],r[0]=e[n+3],t[0]}e.writeFloatLE=n?o:i,e.writeFloatBE=n?i:o,e.readFloatLE=n?a:s,e.readFloatBE=n?s:a}():function(){function t(e,t,r,n){var o=t<0?1:0;if(o&&(t=-t),0===t)e(1/t>0?0:2147483648,r,n);else if(isNaN(t))e(2143289344,r,n);else if(t>34028234663852886e22)e((o<<31|2139095040)>>>0,r,n);else if(t<11754943508222875e-54)e((o<<31|Math.round(t/1401298464324817e-60))>>>0,r,n);else{var i=Math.floor(Math.log(t)/Math.LN2);e((o<<31|i+127<<23|8388607&Math.round(t*Math.pow(2,-i)*8388608))>>>0,r,n)}}function r(e,t,r){var n=e(t,r),o=2*(n>>31)+1,i=n>>>23&255,a=8388607&n;return 255===i?a?NaN:o*(1/0):0===i?1401298464324817e-60*o*a:o*Math.pow(2,i-150)*(a+8388608)}e.writeFloatLE=t.bind(null,o),e.writeFloatBE=t.bind(null,i),e.readFloatLE=r.bind(null,a),e.readFloatBE=r.bind(null,s)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),r=new Uint8Array(t.buffer),n=128===r[7];function o(e,n,o){t[0]=e,n[o]=r[0],n[o+1]=r[1],n[o+2]=r[2],n[o+3]=r[3],n[o+4]=r[4],n[o+5]=r[5],n[o+6]=r[6],n[o+7]=r[7]}function i(e,n,o){t[0]=e,n[o]=r[7],n[o+1]=r[6],n[o+2]=r[5],n[o+3]=r[4],n[o+4]=r[3],n[o+5]=r[2],n[o+6]=r[1],n[o+7]=r[0]}function a(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],r[4]=e[n+4],r[5]=e[n+5],r[6]=e[n+6],r[7]=e[n+7],t[0]}function s(e,n){return r[7]=e[n],r[6]=e[n+1],r[5]=e[n+2],r[4]=e[n+3],r[3]=e[n+4],r[2]=e[n+5],r[1]=e[n+6],r[0]=e[n+7],t[0]}e.writeDoubleLE=n?o:i,e.writeDoubleBE=n?i:o,e.readDoubleLE=n?a:s,e.readDoubleBE=n?s:a}():function(){function t(e,t,r,n,o,i){var a=n<0?1:0;if(a&&(n=-n),0===n)e(0,o,i+t),e(1/n>0?0:2147483648,o,i+r);else if(isNaN(n))e(0,o,i+t),e(2146959360,o,i+r);else if(n>17976931348623157e292)e(0,o,i+t),e((a<<31|2146435072)>>>0,o,i+r);else{var s;if(n<22250738585072014e-324)e((s=n/5e-324)>>>0,o,i+t),e((a<<31|s/4294967296)>>>0,o,i+r);else{var u=Math.floor(Math.log(n)/Math.LN2);1024===u&&(u=1023),e(4503599627370496*(s=n*Math.pow(2,-u))>>>0,o,i+t),e((a<<31|u+1023<<20|1048576*s&1048575)>>>0,o,i+r)}}}function r(e,t,r,n,o){var i=e(n,o+t),a=e(n,o+r),s=2*(a>>31)+1,u=a>>>20&2047,c=4294967296*(1048575&a)+i;return 2047===u?c?NaN:s*(1/0):0===u?5e-324*s*c:s*Math.pow(2,u-1075)*(c+4503599627370496)}e.writeDoubleLE=t.bind(null,o,0,4),e.writeDoubleBE=t.bind(null,i,4,0),e.readDoubleLE=r.bind(null,a,0,4),e.readDoubleBE=r.bind(null,s,4,0)}(),e}function o(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}function i(e,t,r){t[r]=e>>>24,t[r+1]=e>>>16&255,t[r+2]=e>>>8&255,t[r+3]=255&e}function a(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function s(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=n(n)},function(e,t,r){"use strict";var n=t;n.length=function(e){for(var t=0,r=0,n=0;n<e.length;++n)(r=e.charCodeAt(n))<128?t+=1:r<2048?t+=2:55296==(64512&r)&&56320==(64512&e.charCodeAt(n+1))?(++n,t+=4):t+=3;return t},n.read=function(e,t,r){if(r-t<1)return"";for(var n,o=null,i=[],a=0;t<r;)(n=e[t++])<128?i[a++]=n:n>191&&n<224?i[a++]=(31&n)<<6|63&e[t++]:n>239&&n<365?(n=((7&n)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,i[a++]=55296+(n>>10),i[a++]=56320+(1023&n)):i[a++]=(15&n)<<12|(63&e[t++])<<6|63&e[t++],a>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,i)),a=0);return o?(a&&o.push(String.fromCharCode.apply(String,i.slice(0,a))),o.join("")):String.fromCharCode.apply(String,i.slice(0,a))},n.write=function(e,t,r){for(var n,o,i=r,a=0;a<e.length;++a)(n=e.charCodeAt(a))<128?t[r++]=n:n<2048?(t[r++]=n>>6|192,t[r++]=63&n|128):55296==(64512&n)&&56320==(64512&(o=e.charCodeAt(a+1)))?(n=65536+((1023&n)<<10)+(1023&o),++a,t[r++]=n>>18|240,t[r++]=n>>12&63|128,t[r++]=n>>6&63|128,t[r++]=63&n|128):(t[r++]=n>>12|224,t[r++]=n>>6&63|128,t[r++]=63&n|128);return r-i}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n=r||8192,o=n>>>1,i=null,a=n;return function(r){if(r<1||r>o)return e(r);a+r>n&&(i=e(n),a=0);var s=t.call(i,a,a+=r);return 7&a&&(a=1+(7|a)),s}}},function(e,t,r){"use strict";e.exports=o;var n=r(81);function o(e,t){this.lo=e>>>0,this.hi=t>>>0}var i=o.zero=new o(0,0);i.toNumber=function(){return 0},i.zzEncode=i.zzDecode=function(){return this},i.length=function(){return 1};var a=o.zeroHash="\0\0\0\0\0\0\0\0";o.fromNumber=function(e){if(0===e)return i;var t=e<0;t&&(e=-e);var r=e>>>0,n=(e-r)/4294967296>>>0;return t&&(n=~n>>>0,r=~r>>>0,++r>4294967295&&(r=0,++n>4294967295&&(n=0))),new o(r,n)},o.from=function(e){if("number"==typeof e)return o.fromNumber(e);if(n.isString(e)){if(!n.Long)return o.fromNumber(parseInt(e,10));e=n.Long.fromString(e)}return e.low||e.high?new o(e.low>>>0,e.high>>>0):i},o.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,r=~this.hi>>>0;return t||(r=r+1>>>0),-(t+4294967296*r)}return this.lo+4294967296*this.hi},o.prototype.toLong=function(e){return n.Long?new n.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var s=String.prototype.charCodeAt;o.fromHash=function(e){return e===a?i:new o((s.call(e,0)|s.call(e,1)<<8|s.call(e,2)<<16|s.call(e,3)<<24)>>>0,(s.call(e,4)|s.call(e,5)<<8|s.call(e,6)<<16|s.call(e,7)<<24)>>>0)},o.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},o.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},o.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},o.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return 0===r?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:r<128?9:10}},function(e,t,r){"use strict";e.exports=i;var n=r(183);(i.prototype=Object.create(n.prototype)).constructor=i;var o=r(81);function i(){n.call(this)}function a(e,t,r){e.length<40?o.utf8.write(e,t,r):t.utf8Write?t.utf8Write(e,r):t.write(e,r)}i._configure=function(){i.alloc=o._Buffer_allocUnsafe,i.writeBytesBuffer=o.Buffer&&o.Buffer.prototype instanceof Uint8Array&&"set"===o.Buffer.prototype.set.name?function(e,t,r){t.set(e,r)}:function(e,t,r){if(e.copy)e.copy(t,r,0,e.length);else for(var n=0;n<e.length;)t[r++]=e[n++]}},i.prototype.bytes=function(e){o.isString(e)&&(e=o._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(i.writeBytesBuffer,t,e),this},i.prototype.string=function(e){var t=o.Buffer.byteLength(e);return this.uint32(t),t&&this._push(a,t,e),this},i._configure()},function(e,t,r){"use strict";e.exports=i;var n=r(184);(i.prototype=Object.create(n.prototype)).constructor=i;var o=r(81);function i(e){n.call(this,e)}i._configure=function(){o.Buffer&&(i.prototype._slice=o.Buffer.prototype.slice)},i.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},i._configure()},function(e,t,r){"use strict";e.exports=o;var n=r(81);function o(e,t,r){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");n.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(r)}(o.prototype=Object.create(n.EventEmitter.prototype)).constructor=o,o.prototype.rpcCall=function e(t,r,o,i,a){if(!i)throw TypeError("request must be specified");var s=this;if(!a)return n.asPromise(e,s,t,r,o,i);if(s.rpcImpl)try{return s.rpcImpl(t,r[s.requestDelimited?"encodeDelimited":"encode"](i).finish(),(function(e,r){if(e)return s.emit("error",e,t),a(e);if(null!==r){if(!(r instanceof o))try{r=o[s.responseDelimited?"decodeDelimited":"decode"](r)}catch(e){return s.emit("error",e,t),a(e)}return s.emit("data",r,t),a(null,r)}s.end(!0)}))}catch(e){return s.emit("error",e,t),void setTimeout((function(){a(e)}),0)}else setTimeout((function(){a(Error("already ended"))}),0)},o.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},function(e,t,r){"use strict";function n(e,t){"string"==typeof e&&(t=e,e=void 0);var r=[];function o(e){if("string"!=typeof e){var t=i();if(n.verbose&&console.log("codegen: "+t),t="return "+t,e){for(var a=Object.keys(e),s=new Array(a.length+1),u=new Array(a.length),c=0;c<a.length;)s[c]=a[c],u[c]=e[a[c++]];return s[c]=t,Function.apply(null,s).apply(null,u)}return Function(t)()}for(var l=new Array(arguments.length-1),f=0;f<l.length;)l[f]=arguments[++f];if(f=0,e=e.replace(/%([%dfijs])/g,(function(e,t){var r=l[f++];switch(t){case"d":case"f":return String(Number(r));case"i":return String(Math.floor(r));case"j":return JSON.stringify(r);case"s":return String(r)}return"%"})),f!==l.length)throw Error("parameter count mismatch");return r.push(e),o}function i(n){return"function "+(n||t||"")+"("+(e&&e.join(",")||"")+"){\n  "+r.join("\n  ")+"\n}"}return o.toString=i,o}e.exports=n,n.verbose=!1},function(e,t,r){"use strict";e.exports=i;var n=r(228),o=r(229)("fs");function i(e,t,r){return"function"==typeof t?(r=t,t={}):t||(t={}),r?!t.xhr&&o&&o.readFile?o.readFile(e,(function(n,o){return n&&"undefined"!=typeof XMLHttpRequest?i.xhr(e,t,r):n?r(n):r(null,t.binary?o:o.toString("utf8"))})):i.xhr(e,t,r):n(i,this,e,t)}i.xhr=function(e,t,r){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4===n.readyState){if(0!==n.status&&200!==n.status)return r(Error("status "+n.status));if(t.binary){var e=n.response;if(!e){e=[];for(var o=0;o<n.responseText.length;++o)e.push(255&n.responseText.charCodeAt(o))}return r(null,"undefined"!=typeof Uint8Array?new Uint8Array(e):e)}return r(null,n.responseText)}},t.binary&&("overrideMimeType"in n&&n.overrideMimeType("text/plain; charset=x-user-defined"),n.responseType="arraybuffer"),n.open("GET",e),n.send()}},function(e,t,r){"use strict";var n=t,o=n.isAbsolute=function(e){return/^(?:\/|\w+:)/.test(e)},i=n.normalize=function(e){var t=(e=e.replace(/\\/g,"/").replace(/\/{2,}/g,"/")).split("/"),r=o(e),n="";r&&(n=t.shift()+"/");for(var i=0;i<t.length;)".."===t[i]?i>0&&".."!==t[i-1]?t.splice(--i,2):r?t.splice(i,1):++i:"."===t[i]?t.splice(i,1):++i;return n+t.join("/")};n.resolve=function(e,t,r){return r||(t=i(t)),o(t)?t:(r||(e=i(e)),(e=e.replace(/(?:\/|^)[^/]+$/,"")).length?i(e+"/"+t):t)}},function(e,t,r){"use strict";e.exports=T,T.filename=null,T.defaults={keepCase:!1};var n=r(237),o=r(190),i=r(185),a=r(98),s=r(186),u=r(159),c=r(77),l=r(187),f=r(188),p=r(113),d=r(33),h=/^[1-9][0-9]*$/,y=/^-?[1-9][0-9]*$/,m=/^0[x][0-9a-fA-F]+$/,v=/^-?0[x][0-9a-fA-F]+$/,g=/^0[0-7]+$/,_=/^-?0[0-7]+$/,b=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,w=/^[a-zA-Z_][a-zA-Z_0-9]*$/,E=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/,O=/^(?:\.[a-zA-Z_][a-zA-Z_0-9]*)+$/;function T(e,t,r){t instanceof o||(r=t,t=new o),r||(r=T.defaults);var x,k,S,P,C,A=r.preferTrailingComment||!1,R=n(e,r.alternateCommentMode||!1),j=R.next,I=R.push,D=R.peek,M=R.skip,L=R.cmnt,N=!0,B=!1,F=t,U=r.keepCase?function(e){return e}:d.camelCase;function W(e,t,r){var n=T.filename;return r||(T.filename=null),Error("illegal "+(t||"token")+" '"+e+"' ("+(n?n+", ":"")+"line "+R.line+")")}function z(){var e,t=[];do{if('"'!==(e=j())&&"'"!==e)throw W(e);t.push(j()),M(e),e=D()}while('"'===e||"'"===e);return t.join("")}function H(e){var t=j();switch(t){case"'":case'"':return I(t),z();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return function(e,t){var r=1;"-"===e.charAt(0)&&(r=-1,e=e.substring(1));switch(e){case"inf":case"INF":case"Inf":return r*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(h.test(e))return r*parseInt(e,10);if(m.test(e))return r*parseInt(e,16);if(g.test(e))return r*parseInt(e,8);if(b.test(e))return r*parseFloat(e);throw W(e,"number",t)}(t,!0)}catch(r){if(e&&E.test(t))return t;throw W(t,"value")}}function V(e,t){var r,n;do{!t||'"'!==(r=D())&&"'"!==r?e.push([n=G(j()),M("to",!0)?G(j()):n]):e.push(z())}while(M(",",!0));M(";")}function G(e,t){switch(e){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!t&&"-"===e.charAt(0))throw W(e,"id");if(y.test(e))return parseInt(e,10);if(v.test(e))return parseInt(e,16);if(_.test(e))return parseInt(e,8);throw W(e,"id")}function q(){if(void 0!==x)throw W("package");if(x=j(),!E.test(x))throw W(x,"name");F=F.define(x),M(";")}function $(){var e,t=D();switch(t){case"weak":e=S||(S=[]),j();break;case"public":j();default:e=k||(k=[])}t=z(),M(";"),e.push(t)}function K(){if(M("="),P=z(),!(B="proto3"===P)&&"proto2"!==P)throw W(P,"syntax");M(";")}function Y(e,t){switch(t){case"option":return J(e,t),M(";"),!0;case"message":return function(e,t){if(!w.test(t=j()))throw W(t,"type name");var r=new i(t);X(r,(function(e){if(!Y(r,e))switch(e){case"map":!function(e){M("<");var t=j();if(void 0===p.mapKey[t])throw W(t,"type");M(",");var r=j();if(!E.test(r))throw W(r,"type");M(">");var n=j();if(!w.test(n))throw W(n,"name");M("=");var o=new s(U(n),G(j()),t,r);X(o,(function(e){if("option"!==e)throw W(e);J(o,e),M(";")}),(function(){te(o)})),e.add(o)}(r);break;case"required":case"optional":case"repeated":Z(r,e);break;case"oneof":!function(e,t){if(!w.test(t=j()))throw W(t,"name");var r=new u(U(t));X(r,(function(e){"option"===e?(J(r,e),M(";")):(I(e),Z(r,"optional"))})),e.add(r)}(r,e);break;case"extensions":V(r.extensions||(r.extensions=[]));break;case"reserved":V(r.reserved||(r.reserved=[]),!0);break;default:if(!B||!E.test(e))throw W(e);I(e),Z(r,"optional")}})),e.add(r)}(e,t),!0;case"enum":return function(e,t){if(!w.test(t=j()))throw W(t,"name");var r=new c(t);X(r,(function(e){switch(e){case"option":J(r,e),M(";");break;case"reserved":V(r.reserved||(r.reserved=[]),!0);break;default:!function(e,t){if(!w.test(t))throw W(t,"name");M("=");var r=G(j(),!0),n={};X(n,(function(e){if("option"!==e)throw W(e);J(n,e),M(";")}),(function(){te(n)})),e.add(t,r,n.comment)}(r,e)}})),e.add(r)}(e,t),!0;case"service":return function(e,t){if(!w.test(t=j()))throw W(t,"service name");var r=new l(t);X(r,(function(e){if(!Y(r,e)){if("rpc"!==e)throw W(e);!function(e,t){var r=L(),n=t;if(!w.test(t=j()))throw W(t,"name");var o,i,a,s,u=t;M("("),M("stream",!0)&&(i=!0);if(!E.test(t=j()))throw W(t);o=t,M(")"),M("returns"),M("("),M("stream",!0)&&(s=!0);if(!E.test(t=j()))throw W(t);a=t,M(")");var c=new f(u,n,o,a,i,s);c.comment=r,X(c,(function(e){if("option"!==e)throw W(e);J(c,e),M(";")})),e.add(c)}(r,e)}})),e.add(r)}(e,t),!0;case"extend":return function(e,t){if(!E.test(t=j()))throw W(t,"reference");var r=t;X(null,(function(t){switch(t){case"required":case"repeated":case"optional":Z(e,t,r);break;default:if(!B||!E.test(t))throw W(t);I(t),Z(e,"optional",r)}}))}(e,t),!0}return!1}function X(e,t,r){var n=R.line;if(e&&("string"!=typeof e.comment&&(e.comment=L()),e.filename=T.filename),M("{",!0)){for(var o;"}"!==(o=j());)t(o);M(";",!0)}else r&&r(),M(";"),e&&("string"!=typeof e.comment||A)&&(e.comment=L(n)||e.comment)}function Z(e,t,r){var n=j();if("group"!==n){if(!E.test(n))throw W(n,"type");var o=j();if(!w.test(o))throw W(o,"name");o=U(o),M("=");var s=new a(o,G(j()),n,t,r);X(s,(function(e){if("option"!==e)throw W(e);J(s,e),M(";")}),(function(){te(s)})),e.add(s),B||!s.repeated||void 0===p.packed[n]&&void 0!==p.basic[n]||s.setOption("packed",!1,!0)}else!function(e,t){var r=j();if(!w.test(r))throw W(r,"name");var n=d.lcFirst(r);r===n&&(r=d.ucFirst(r));M("=");var o=G(j()),s=new i(r);s.group=!0;var u=new a(n,o,r,t);u.filename=T.filename,X(s,(function(e){switch(e){case"option":J(s,e),M(";");break;case"required":case"optional":case"repeated":Z(s,e);break;default:throw W(e)}})),e.add(s).add(u)}(e,t)}function J(e,t){var r=M("(",!0);if(!E.test(t=j()))throw W(t,"name");var n,o=t,i=o;r&&(M(")"),i=o="("+o+")",t=D(),O.test(t)&&(n=t.substr(1),o+=t,j())),M("="),function(e,t,r,n){e.setParsedOption&&e.setParsedOption(t,r,n)}(e,i,Q(e,o),n)}function Q(e,t){if(M("{",!0)){for(var r={};!M("}",!0);){if(!w.test(C=j()))throw W(C,"name");var n,o=C;"{"===D()?n=Q(e,t+"."+C):(M(":"),"{"===D()?n=Q(e,t+"."+C):(n=H(!0),ee(e,t+"."+C,n)));var i=r[o];i&&(n=[].concat(i).concat(n)),r[o]=n,M(",",!0)}return r}var a=H(!0);return ee(e,t,a),a}function ee(e,t,r){e.setOption&&e.setOption(t,r)}function te(e){if(M("[",!0)){do{J(e,"option")}while(M(",",!0));M("]")}return e}for(;null!==(C=j());)switch(C){case"package":if(!N)throw W(C);q();break;case"import":if(!N)throw W(C);$();break;case"syntax":if(!N)throw W(C);K();break;case"option":J(F,C),M(";");break;default:if(Y(F,C)){N=!1;continue}throw W(C)}return T.filename=null,{package:x,imports:k,weakImports:S,syntax:P,root:t}}},function(e,t,r){"use strict";e.exports=i;var n,o=/\/|\./;function i(e,t){o.test(e)||(e="google/protobuf/"+e+".proto",t={nested:{google:{nested:{protobuf:{nested:t}}}}}),i[e]=t}i("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}}),i("duration",{Duration:n={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}}),i("timestamp",{Timestamp:n}),i("empty",{Empty:{fields:{}}}),i("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}}),i("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}}),i("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}}),i.get=function(e){return i[e]||null}},function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,r){"use strict";var n,o=r(5),i=r(86).f,a=r(17),s=r(174),u=r(47),c=r(176),l=r(85),f="".endsWith,p=Math.min,d=c("endsWith");o({target:"String",proto:!0,forced:!!(l||d||(n=i(String.prototype,"endsWith"),!n||n.writable))&&!d},{endsWith:function(e){var t=String(u(this));s(e);var r=arguments.length>1?arguments[1]:void 0,n=a(t.length),o=void 0===r?n:p(a(r),n),i=String(e);return f?f.call(t,i,o):t.slice(o-i.length,o)===i}})},function(e,t,r){"use strict";var n=r(5),o=r(240);n({target:"String",proto:!0,forced:r(241)("anchor")},{anchor:function(e){return o(this,"a","name",e)}})},function(e,t,r){"use strict";var n=r(332);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,r,o,i,a){if(a!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return r.PropTypes=r,r}},function(e,t,r){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,r){"use strict";
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n="function"==typeof Symbol&&Symbol.for,o=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,f=n?Symbol.for("react.async_mode"):60111,p=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,y=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,_=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function E(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case f:case p:case a:case u:case s:case h:return e;default:switch(e=e&&e.$$typeof){case l:case d:case v:case m:case c:return e;default:return t}}case i:return t}}}function O(e){return E(e)===p}t.AsyncMode=f,t.ConcurrentMode=p,t.ContextConsumer=l,t.ContextProvider=c,t.Element=o,t.ForwardRef=d,t.Fragment=a,t.Lazy=v,t.Memo=m,t.Portal=i,t.Profiler=u,t.StrictMode=s,t.Suspense=h,t.isAsyncMode=function(e){return O(e)||E(e)===f},t.isConcurrentMode=O,t.isContextConsumer=function(e){return E(e)===l},t.isContextProvider=function(e){return E(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return E(e)===d},t.isFragment=function(e){return E(e)===a},t.isLazy=function(e){return E(e)===v},t.isMemo=function(e){return E(e)===m},t.isPortal=function(e){return E(e)===i},t.isProfiler=function(e){return E(e)===u},t.isStrictMode=function(e){return E(e)===s},t.isSuspense=function(e){return E(e)===h},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===p||e===u||e===s||e===h||e===y||"object"==typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===m||e.$$typeof===c||e.$$typeof===l||e.$$typeof===d||e.$$typeof===_||e.$$typeof===b||e.$$typeof===w||e.$$typeof===g)},t.typeOf=E},function(e,t,r){var n=r(26),o=r(208);e.exports=function(e,t,r,i){try{return i?t(n(r)[0],r[1]):t(r)}catch(t){throw o(e),t}}},function(e,t,r){r(5)({target:"Number",stat:!0},{isInteger:r(336)})},function(e,t,r){var n=r(21),o=Math.floor;e.exports=function(e){return!n(e)&&isFinite(e)&&o(e)===e}},function(e,t,r){var n=r(5),o=r(246),i=r(6),a=r(21),s=r(193).onFreeze,u=Object.freeze;n({target:"Object",stat:!0,forced:i((function(){u(1)})),sham:!o},{freeze:function(e){return u&&a(e)?u(s(e)):e}})},function(e,t,r){var n=r(6),o=r(222);e.exports=function(e){return n((function(){return!!o[e]()||"​᠎"!="​᠎"[e]()||o[e].name!==e}))}},function(e,t,r){r(158)("Float64",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},function(e,t,r){"use strict";var n=r(223);(0,r(13).exportTypedArrayStaticMethod)("from",r(227),n)},function(e,t,r){"use strict";r(32);var n,o=r(5),i=r(25),a=r(248),s=r(8),u=r(213),c=r(40),l=r(96),f=r(27),p=r(242),d=r(244),h=r(178).codeAt,y=r(342),m=r(87),v=r(343),g=r(49),_=s.URL,b=v.URLSearchParams,w=v.getState,E=g.set,O=g.getterFor("URL"),T=Math.floor,x=Math.pow,k=/[A-Za-z]/,S=/[\d+-.A-Za-z]/,P=/\d/,C=/^(0x|0X)/,A=/^[0-7]+$/,R=/^\d+$/,j=/^[\dA-Fa-f]+$/,I=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,D=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,M=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,L=/[\u0009\u000A\u000D]/g,N=function(e,t){var r,n,o;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return"Invalid host";if(!(r=F(t.slice(1,-1))))return"Invalid host";e.host=r}else if($(e)){if(t=y(t),I.test(t))return"Invalid host";if(null===(r=B(t)))return"Invalid host";e.host=r}else{if(D.test(t))return"Invalid host";for(r="",n=d(t),o=0;o<n.length;o++)r+=G(n[o],W);e.host=r}},B=function(e){var t,r,n,o,i,a,s,u=e.split(".");if(u.length&&""==u[u.length-1]&&u.pop(),(t=u.length)>4)return e;for(r=[],n=0;n<t;n++){if(""==(o=u[n]))return e;if(i=10,o.length>1&&"0"==o.charAt(0)&&(i=C.test(o)?16:8,o=o.slice(8==i?1:2)),""===o)a=0;else{if(!(10==i?R:8==i?A:j).test(o))return e;a=parseInt(o,i)}r.push(a)}for(n=0;n<t;n++)if(a=r[n],n==t-1){if(a>=x(256,5-t))return null}else if(a>255)return null;for(s=r.pop(),n=0;n<r.length;n++)s+=r[n]*x(256,3-n);return s},F=function(e){var t,r,n,o,i,a,s,u=[0,0,0,0,0,0,0,0],c=0,l=null,f=0,p=function(){return e.charAt(f)};if(":"==p()){if(":"!=e.charAt(1))return;f+=2,l=++c}for(;p();){if(8==c)return;if(":"!=p()){for(t=r=0;r<4&&j.test(p());)t=16*t+parseInt(p(),16),f++,r++;if("."==p()){if(0==r)return;if(f-=r,c>6)return;for(n=0;p();){if(o=null,n>0){if(!("."==p()&&n<4))return;f++}if(!P.test(p()))return;for(;P.test(p());){if(i=parseInt(p(),10),null===o)o=i;else{if(0==o)return;o=10*o+i}if(o>255)return;f++}u[c]=256*u[c]+o,2!=++n&&4!=n||c++}if(4!=n)return;break}if(":"==p()){if(f++,!p())return}else if(p())return;u[c++]=t}else{if(null!==l)return;f++,l=++c}}if(null!==l)for(a=c-l,c=7;0!=c&&a>0;)s=u[c],u[c--]=u[l+a-1],u[l+--a]=s;else if(8!=c)return;return u},U=function(e){var t,r,n,o;if("number"==typeof e){for(t=[],r=0;r<4;r++)t.unshift(e%256),e=T(e/256);return t.join(".")}if("object"==typeof e){for(t="",n=function(e){for(var t=null,r=1,n=null,o=0,i=0;i<8;i++)0!==e[i]?(o>r&&(t=n,r=o),n=null,o=0):(null===n&&(n=i),++o);return o>r&&(t=n,r=o),t}(e),r=0;r<8;r++)o&&0===e[r]||(o&&(o=!1),n===r?(t+=r?":":"::",o=!0):(t+=e[r].toString(16),r<7&&(t+=":")));return"["+t+"]"}return e},W={},z=p({},W,{" ":1,'"':1,"<":1,">":1,"`":1}),H=p({},z,{"#":1,"?":1,"{":1,"}":1}),V=p({},H,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),G=function(e,t){var r=h(e,0);return r>32&&r<127&&!f(t,e)?e:encodeURIComponent(e)},q={ftp:21,file:null,http:80,https:443,ws:80,wss:443},$=function(e){return f(q,e.scheme)},K=function(e){return""!=e.username||""!=e.password},Y=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},X=function(e,t){var r;return 2==e.length&&k.test(e.charAt(0))&&(":"==(r=e.charAt(1))||!t&&"|"==r)},Z=function(e){var t;return e.length>1&&X(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},J=function(e){var t=e.path,r=t.length;!r||"file"==e.scheme&&1==r&&X(t[0],!0)||t.pop()},Q=function(e){return"."===e||"%2e"===e.toLowerCase()},ee={},te={},re={},ne={},oe={},ie={},ae={},se={},ue={},ce={},le={},fe={},pe={},de={},he={},ye={},me={},ve={},ge={},_e={},be={},we=function(e,t,r,o){var i,a,s,u,c,l=r||ee,p=0,h="",y=!1,m=!1,v=!1;for(r||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(M,"")),t=t.replace(L,""),i=d(t);p<=i.length;){switch(a=i[p],l){case ee:if(!a||!k.test(a)){if(r)return"Invalid scheme";l=re;continue}h+=a.toLowerCase(),l=te;break;case te:if(a&&(S.test(a)||"+"==a||"-"==a||"."==a))h+=a.toLowerCase();else{if(":"!=a){if(r)return"Invalid scheme";h="",l=re,p=0;continue}if(r&&($(e)!=f(q,h)||"file"==h&&(K(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=h,r)return void($(e)&&q[e.scheme]==e.port&&(e.port=null));h="","file"==e.scheme?l=de:$(e)&&o&&o.scheme==e.scheme?l=ne:$(e)?l=se:"/"==i[p+1]?(l=oe,p++):(e.cannotBeABaseURL=!0,e.path.push(""),l=ge)}break;case re:if(!o||o.cannotBeABaseURL&&"#"!=a)return"Invalid scheme";if(o.cannotBeABaseURL&&"#"==a){e.scheme=o.scheme,e.path=o.path.slice(),e.query=o.query,e.fragment="",e.cannotBeABaseURL=!0,l=be;break}l="file"==o.scheme?de:ie;continue;case ne:if("/"!=a||"/"!=i[p+1]){l=ie;continue}l=ue,p++;break;case oe:if("/"==a){l=ce;break}l=ve;continue;case ie:if(e.scheme=o.scheme,a==n)e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,e.path=o.path.slice(),e.query=o.query;else if("/"==a||"\\"==a&&$(e))l=ae;else if("?"==a)e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,e.path=o.path.slice(),e.query="",l=_e;else{if("#"!=a){e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,e.path=o.path.slice(),e.path.pop(),l=ve;continue}e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,e.path=o.path.slice(),e.query=o.query,e.fragment="",l=be}break;case ae:if(!$(e)||"/"!=a&&"\\"!=a){if("/"!=a){e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,l=ve;continue}l=ce}else l=ue;break;case se:if(l=ue,"/"!=a||"/"!=h.charAt(p+1))continue;p++;break;case ue:if("/"!=a&&"\\"!=a){l=ce;continue}break;case ce:if("@"==a){y&&(h="%40"+h),y=!0,s=d(h);for(var g=0;g<s.length;g++){var _=s[g];if(":"!=_||v){var b=G(_,V);v?e.password+=b:e.username+=b}else v=!0}h=""}else if(a==n||"/"==a||"?"==a||"#"==a||"\\"==a&&$(e)){if(y&&""==h)return"Invalid authority";p-=d(h).length+1,h="",l=le}else h+=a;break;case le:case fe:if(r&&"file"==e.scheme){l=ye;continue}if(":"!=a||m){if(a==n||"/"==a||"?"==a||"#"==a||"\\"==a&&$(e)){if($(e)&&""==h)return"Invalid host";if(r&&""==h&&(K(e)||null!==e.port))return;if(u=N(e,h))return u;if(h="",l=me,r)return;continue}"["==a?m=!0:"]"==a&&(m=!1),h+=a}else{if(""==h)return"Invalid host";if(u=N(e,h))return u;if(h="",l=pe,r==fe)return}break;case pe:if(!P.test(a)){if(a==n||"/"==a||"?"==a||"#"==a||"\\"==a&&$(e)||r){if(""!=h){var w=parseInt(h,10);if(w>65535)return"Invalid port";e.port=$(e)&&w===q[e.scheme]?null:w,h=""}if(r)return;l=me;continue}return"Invalid port"}h+=a;break;case de:if(e.scheme="file","/"==a||"\\"==a)l=he;else{if(!o||"file"!=o.scheme){l=ve;continue}if(a==n)e.host=o.host,e.path=o.path.slice(),e.query=o.query;else if("?"==a)e.host=o.host,e.path=o.path.slice(),e.query="",l=_e;else{if("#"!=a){Z(i.slice(p).join(""))||(e.host=o.host,e.path=o.path.slice(),J(e)),l=ve;continue}e.host=o.host,e.path=o.path.slice(),e.query=o.query,e.fragment="",l=be}}break;case he:if("/"==a||"\\"==a){l=ye;break}o&&"file"==o.scheme&&!Z(i.slice(p).join(""))&&(X(o.path[0],!0)?e.path.push(o.path[0]):e.host=o.host),l=ve;continue;case ye:if(a==n||"/"==a||"\\"==a||"?"==a||"#"==a){if(!r&&X(h))l=ve;else if(""==h){if(e.host="",r)return;l=me}else{if(u=N(e,h))return u;if("localhost"==e.host&&(e.host=""),r)return;h="",l=me}continue}h+=a;break;case me:if($(e)){if(l=ve,"/"!=a&&"\\"!=a)continue}else if(r||"?"!=a)if(r||"#"!=a){if(a!=n&&(l=ve,"/"!=a))continue}else e.fragment="",l=be;else e.query="",l=_e;break;case ve:if(a==n||"/"==a||"\\"==a&&$(e)||!r&&("?"==a||"#"==a)){if(".."===(c=(c=h).toLowerCase())||"%2e."===c||".%2e"===c||"%2e%2e"===c?(J(e),"/"==a||"\\"==a&&$(e)||e.path.push("")):Q(h)?"/"==a||"\\"==a&&$(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&X(h)&&(e.host&&(e.host=""),h=h.charAt(0)+":"),e.path.push(h)),h="","file"==e.scheme&&(a==n||"?"==a||"#"==a))for(;e.path.length>1&&""===e.path[0];)e.path.shift();"?"==a?(e.query="",l=_e):"#"==a&&(e.fragment="",l=be)}else h+=G(a,H);break;case ge:"?"==a?(e.query="",l=_e):"#"==a?(e.fragment="",l=be):a!=n&&(e.path[0]+=G(a,W));break;case _e:r||"#"!=a?a!=n&&("'"==a&&$(e)?e.query+="%27":e.query+="#"==a?"%23":G(a,W)):(e.fragment="",l=be);break;case be:a!=n&&(e.fragment+=G(a,z))}p++}},Ee=function(e){var t,r,n=l(this,Ee,"URL"),o=arguments.length>1?arguments[1]:void 0,a=String(e),s=E(n,{type:"URL"});if(void 0!==o)if(o instanceof Ee)t=O(o);else if(r=we(t={},String(o)))throw TypeError(r);if(r=we(s,a,null,t))throw TypeError(r);var u=s.searchParams=new b,c=w(u);c.updateSearchParams(s.query),c.updateURL=function(){s.query=String(u)||null},i||(n.href=Te.call(n),n.origin=xe.call(n),n.protocol=ke.call(n),n.username=Se.call(n),n.password=Pe.call(n),n.host=Ce.call(n),n.hostname=Ae.call(n),n.port=Re.call(n),n.pathname=je.call(n),n.search=Ie.call(n),n.searchParams=De.call(n),n.hash=Me.call(n))},Oe=Ee.prototype,Te=function(){var e=O(this),t=e.scheme,r=e.username,n=e.password,o=e.host,i=e.port,a=e.path,s=e.query,u=e.fragment,c=t+":";return null!==o?(c+="//",K(e)&&(c+=r+(n?":"+n:"")+"@"),c+=U(o),null!==i&&(c+=":"+i)):"file"==t&&(c+="//"),c+=e.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==s&&(c+="?"+s),null!==u&&(c+="#"+u),c},xe=function(){var e=O(this),t=e.scheme,r=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(e){return"null"}return"file"!=t&&$(e)?t+"://"+U(e.host)+(null!==r?":"+r:""):"null"},ke=function(){return O(this).scheme+":"},Se=function(){return O(this).username},Pe=function(){return O(this).password},Ce=function(){var e=O(this),t=e.host,r=e.port;return null===t?"":null===r?U(t):U(t)+":"+r},Ae=function(){var e=O(this).host;return null===e?"":U(e)},Re=function(){var e=O(this).port;return null===e?"":String(e)},je=function(){var e=O(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},Ie=function(){var e=O(this).query;return e?"?"+e:""},De=function(){return O(this).searchParams},Me=function(){var e=O(this).fragment;return e?"#"+e:""},Le=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(i&&u(Oe,{href:Le(Te,(function(e){var t=O(this),r=String(e),n=we(t,r);if(n)throw TypeError(n);w(t.searchParams).updateSearchParams(t.query)})),origin:Le(xe),protocol:Le(ke,(function(e){var t=O(this);we(t,String(e)+":",ee)})),username:Le(Se,(function(e){var t=O(this),r=d(String(e));if(!Y(t)){t.username="";for(var n=0;n<r.length;n++)t.username+=G(r[n],V)}})),password:Le(Pe,(function(e){var t=O(this),r=d(String(e));if(!Y(t)){t.password="";for(var n=0;n<r.length;n++)t.password+=G(r[n],V)}})),host:Le(Ce,(function(e){var t=O(this);t.cannotBeABaseURL||we(t,String(e),le)})),hostname:Le(Ae,(function(e){var t=O(this);t.cannotBeABaseURL||we(t,String(e),fe)})),port:Le(Re,(function(e){var t=O(this);Y(t)||(""==(e=String(e))?t.port=null:we(t,e,pe))})),pathname:Le(je,(function(e){var t=O(this);t.cannotBeABaseURL||(t.path=[],we(t,e+"",me))})),search:Le(Ie,(function(e){var t=O(this);""==(e=String(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",we(t,e,_e)),w(t.searchParams).updateSearchParams(t.query)})),searchParams:Le(De),hash:Le(Me,(function(e){var t=O(this);""!=(e=String(e))?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",we(t,e,be)):t.fragment=null}))}),c(Oe,"toJSON",(function(){return Te.call(this)}),{enumerable:!0}),c(Oe,"toString",(function(){return Te.call(this)}),{enumerable:!0}),_){var Ne=_.createObjectURL,Be=_.revokeObjectURL;Ne&&c(Ee,"createObjectURL",(function(e){return Ne.apply(_,arguments)})),Be&&c(Ee,"revokeObjectURL",(function(e){return Be.apply(_,arguments)}))}m(Ee,"URL"),o({global:!0,forced:!a,sham:!i},{URL:Ee})},function(e,t,r){"use strict";var n=/[^\0-\u007E]/,o=/[.\u3002\uFF0E\uFF61]/g,i="Overflow: input needs wider integers to process",a=Math.floor,s=String.fromCharCode,u=function(e){return e+22+75*(e<26)},c=function(e,t,r){var n=0;for(e=r?a(e/700):e>>1,e+=a(e/t);e>455;n+=36)e=a(e/35);return a(n+36*e/(e+38))},l=function(e){var t,r,n=[],o=(e=function(e){for(var t=[],r=0,n=e.length;r<n;){var o=e.charCodeAt(r++);if(o>=55296&&o<=56319&&r<n){var i=e.charCodeAt(r++);56320==(64512&i)?t.push(((1023&o)<<10)+(1023&i)+65536):(t.push(o),r--)}else t.push(o)}return t}(e)).length,l=128,f=0,p=72;for(t=0;t<e.length;t++)(r=e[t])<128&&n.push(s(r));var d=n.length,h=d;for(d&&n.push("-");h<o;){var y=2147483647;for(t=0;t<e.length;t++)(r=e[t])>=l&&r<y&&(y=r);var m=h+1;if(y-l>a((2147483647-f)/m))throw RangeError(i);for(f+=(y-l)*m,l=y,t=0;t<e.length;t++){if((r=e[t])<l&&++f>2147483647)throw RangeError(i);if(r==l){for(var v=f,g=36;;g+=36){var _=g<=p?1:g>=p+26?26:g-p;if(v<_)break;var b=v-_,w=36-_;n.push(s(u(_+b%w))),v=a(b/w)}n.push(s(u(v))),p=c(f,m,h==d),f=0,++h}}++f,++l}return n.join("")};e.exports=function(e){var t,r,i=[],a=e.toLowerCase().replace(o,".").split(".");for(t=0;t<a.length;t++)r=a[t],i.push(n.test(r)?"xn--"+l(r):r);return i.join(".")}},function(e,t,r){"use strict";r(9);var n=r(5),o=r(94),i=r(248),a=r(40),s=r(147),u=r(87),c=r(219),l=r(49),f=r(96),p=r(27),d=r(88),h=r(123),y=r(26),m=r(21),v=r(97),g=r(92),_=r(344),b=r(129),w=r(11),E=o("fetch"),O=o("Headers"),T=w("iterator"),x=l.set,k=l.getterFor("URLSearchParams"),S=l.getterFor("URLSearchParamsIterator"),P=/\+/g,C=Array(4),A=function(e){return C[e-1]||(C[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},R=function(e){try{return decodeURIComponent(e)}catch(t){return e}},j=function(e){var t=e.replace(P," "),r=4;try{return decodeURIComponent(t)}catch(e){for(;r;)t=t.replace(A(r--),R);return t}},I=/[!'()~]|%20/g,D={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},M=function(e){return D[e]},L=function(e){return encodeURIComponent(e).replace(I,M)},N=function(e,t){if(t)for(var r,n,o=t.split("&"),i=0;i<o.length;)(r=o[i++]).length&&(n=r.split("="),e.push({key:j(n.shift()),value:j(n.join("="))}))},B=function(e){this.entries.length=0,N(this.entries,e)},F=function(e,t){if(e<t)throw TypeError("Not enough arguments")},U=c((function(e,t){x(this,{type:"URLSearchParamsIterator",iterator:_(k(e).entries),kind:t})}),"Iterator",(function(){var e=S(this),t=e.kind,r=e.iterator.next(),n=r.value;return r.done||(r.value="keys"===t?n.key:"values"===t?n.value:[n.key,n.value]),r})),W=function(){f(this,W,"URLSearchParams");var e,t,r,n,o,i,a,s,u,c=arguments.length>0?arguments[0]:void 0,l=this,d=[];if(x(l,{type:"URLSearchParams",entries:d,updateURL:function(){},updateSearchParams:B}),void 0!==c)if(m(c))if("function"==typeof(e=b(c)))for(r=(t=e.call(c)).next;!(n=r.call(t)).done;){if((a=(i=(o=_(y(n.value))).next).call(o)).done||(s=i.call(o)).done||!i.call(o).done)throw TypeError("Expected sequence with length 2");d.push({key:a.value+"",value:s.value+""})}else for(u in c)p(c,u)&&d.push({key:u,value:c[u]+""});else N(d,"string"==typeof c?"?"===c.charAt(0)?c.slice(1):c:c+"")},z=W.prototype;s(z,{append:function(e,t){F(arguments.length,2);var r=k(this);r.entries.push({key:e+"",value:t+""}),r.updateURL()},delete:function(e){F(arguments.length,1);for(var t=k(this),r=t.entries,n=e+"",o=0;o<r.length;)r[o].key===n?r.splice(o,1):o++;t.updateURL()},get:function(e){F(arguments.length,1);for(var t=k(this).entries,r=e+"",n=0;n<t.length;n++)if(t[n].key===r)return t[n].value;return null},getAll:function(e){F(arguments.length,1);for(var t=k(this).entries,r=e+"",n=[],o=0;o<t.length;o++)t[o].key===r&&n.push(t[o].value);return n},has:function(e){F(arguments.length,1);for(var t=k(this).entries,r=e+"",n=0;n<t.length;)if(t[n++].key===r)return!0;return!1},set:function(e,t){F(arguments.length,1);for(var r,n=k(this),o=n.entries,i=!1,a=e+"",s=t+"",u=0;u<o.length;u++)(r=o[u]).key===a&&(i?o.splice(u--,1):(i=!0,r.value=s));i||o.push({key:a,value:s}),n.updateURL()},sort:function(){var e,t,r,n=k(this),o=n.entries,i=o.slice();for(o.length=0,r=0;r<i.length;r++){for(e=i[r],t=0;t<r;t++)if(o[t].key>e.key){o.splice(t,0,e);break}t===r&&o.push(e)}n.updateURL()},forEach:function(e){for(var t,r=k(this).entries,n=d(e,arguments.length>1?arguments[1]:void 0,3),o=0;o<r.length;)n((t=r[o++]).value,t.key,this)},keys:function(){return new U(this,"keys")},values:function(){return new U(this,"values")},entries:function(){return new U(this,"entries")}},{enumerable:!0}),a(z,T,z.entries),a(z,"toString",(function(){for(var e,t=k(this).entries,r=[],n=0;n<t.length;)e=t[n++],r.push(L(e.key)+"="+L(e.value));return r.join("&")}),{enumerable:!0}),u(W,"URLSearchParams"),n({global:!0,forced:!i},{URLSearchParams:W}),i||"function"!=typeof E||"function"!=typeof O||n({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t,r,n,o=[e];return arguments.length>1&&(m(t=arguments[1])&&(r=t.body,"URLSearchParams"===h(r)&&((n=t.headers?new O(t.headers):new O).has("content-type")||n.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=v(t,{body:g(0,String(r)),headers:g(0,n)}))),o.push(t)),E.apply(this,o)}}),e.exports={URLSearchParams:W,getState:k}},function(e,t,r){var n=r(26),o=r(129);e.exports=function(e){var t=o(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return n(t.call(e))}},function(e,t,r){var n=r(5),o=r(346).entries;n({target:"Object",stat:!0},{entries:function(e){return o(e)}})},function(e,t,r){var n=r(25),o=r(132),i=r(52),a=r(146).f,s=function(e){return function(t){for(var r,s=i(t),u=o(s),c=u.length,l=0,f=[];c>l;)r=u[l++],n&&!a.call(s,r)||f.push(e?[r,s[r]]:s[r]);return f}};e.exports={entries:s(!0),values:s(!1)}},function(e,t,r){
/*!
 * clipboard.js v2.0.6
 * https://clipboardjs.com/
 * 
 * Licensed MIT © Zeno Rocha
 */
var n;n=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=6)}([function(e,t){e.exports=function(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var r=e.hasAttribute("readonly");r||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),r||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var n=window.getSelection(),o=document.createRange();o.selectNodeContents(e),n.removeAllRanges(),n.addRange(o),t=n.toString()}return t}},function(e,t){function r(){}r.prototype={on:function(e,t,r){var n=this.e||(this.e={});return(n[e]||(n[e]=[])).push({fn:t,ctx:r}),this},once:function(e,t,r){var n=this;function o(){n.off(e,o),t.apply(r,arguments)}return o._=t,this.on(e,o,r)},emit:function(e){for(var t=[].slice.call(arguments,1),r=((this.e||(this.e={}))[e]||[]).slice(),n=0,o=r.length;n<o;n++)r[n].fn.apply(r[n].ctx,t);return this},off:function(e,t){var r=this.e||(this.e={}),n=r[e],o=[];if(n&&t)for(var i=0,a=n.length;i<a;i++)n[i].fn!==t&&n[i].fn._!==t&&o.push(n[i]);return o.length?r[e]=o:delete r[e],this}},e.exports=r,e.exports.TinyEmitter=r},function(e,t,r){var n=r(3),o=r(4);e.exports=function(e,t,r){if(!e&&!t&&!r)throw new Error("Missing required arguments");if(!n.string(t))throw new TypeError("Second argument must be a String");if(!n.fn(r))throw new TypeError("Third argument must be a Function");if(n.node(e))return function(e,t,r){return e.addEventListener(t,r),{destroy:function(){e.removeEventListener(t,r)}}}(e,t,r);if(n.nodeList(e))return function(e,t,r){return Array.prototype.forEach.call(e,(function(e){e.addEventListener(t,r)})),{destroy:function(){Array.prototype.forEach.call(e,(function(e){e.removeEventListener(t,r)}))}}}(e,t,r);if(n.string(e))return function(e,t,r){return o(document.body,e,t,r)}(e,t,r);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},function(e,t){t.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},t.nodeList=function(e){var r=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===r||"[object HTMLCollection]"===r)&&"length"in e&&(0===e.length||t.node(e[0]))},t.string=function(e){return"string"==typeof e||e instanceof String},t.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},function(e,t,r){var n=r(5);function o(e,t,r,n,o){var a=i.apply(this,arguments);return e.addEventListener(r,a,o),{destroy:function(){e.removeEventListener(r,a,o)}}}function i(e,t,r,o){return function(r){r.delegateTarget=n(r.target,t),r.delegateTarget&&o.call(e,r)}}e.exports=function(e,t,r,n,i){return"function"==typeof e.addEventListener?o.apply(null,arguments):"function"==typeof r?o.bind(null,document).apply(null,arguments):("string"==typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,(function(e){return o(e,t,r,n,i)})))}},function(e,t){if("undefined"!=typeof Element&&!Element.prototype.matches){var r=Element.prototype;r.matches=r.matchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector||r.webkitMatchesSelector}e.exports=function(e,t){for(;e&&9!==e.nodeType;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}},function(e,t,r){"use strict";r.r(t);var n=r(0),o=r.n(n),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.resolveOptions(t),this.initSelection()}return a(e,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.container=e.container,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px";var r=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=r+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=o()(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=o()(this.target),this.copyText()}},{key:"copyText",value:function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),document.activeElement.blur(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==(void 0===e?"undefined":i(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),e}(),u=r(1),c=r.n(u),l=r(2),f=r.n(l),p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),h=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.resolveOptions(r),n.listenClick(e),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),d(t,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===p(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=f()(e,"click",(function(e){return t.onClick(e)}))}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new s({action:this.action(t),target:this.target(t),text:this.text(t),container:this.container,trigger:t,emitter:this})}},{key:"defaultAction",value:function(e){return y("action",e)}},{key:"defaultTarget",value:function(e){var t=y("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return y("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"==typeof e?[e]:e,r=!!document.queryCommandSupported;return t.forEach((function(e){r=r&&!!document.queryCommandSupported(e)})),r}}]),t}(c.a);function y(e,t){var r="data-clipboard-"+e;if(t.hasAttribute(r))return t.getAttribute(r)}t.default=h}]).default},e.exports=n()},function(e,t,r){r(5)({target:"Number",stat:!0},{isNaN:function(e){return e!=e}})},function(e,t,r){var n=r(5),o=r(6),i=r(214).f;n({target:"Object",stat:!0,forced:o((function(){return!Object.getOwnPropertyNames(1)}))},{getOwnPropertyNames:i})},function(e,t,r){r(5)({target:"Number",stat:!0},{isFinite:r(351)})},function(e,t,r){var n=r(8).isFinite;e.exports=Number.isFinite||function(e){return"number"==typeof e&&n(e)}},function(e,t,r){"use strict";var n=r(5),o=r(353),i=r(34),a=r(17),s=r(53),u=r(153);n({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=i(this),r=a(t.length),n=u(t,0);return n.length=o(n,t,t,r,0,void 0===e?1:s(e)),n}})},function(e,t,r){"use strict";var n=r(130),o=r(17),i=r(88),a=function(e,t,r,s,u,c,l,f){for(var p,d=u,h=0,y=!!l&&i(l,f,3);h<s;){if(h in r){if(p=y?y(r[h],h,t):r[h],c>0&&n(p))d=a(e,t,p,o(p.length),d,c-1)-1;else{if(d>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[d]=p}d++}h++}return d};e.exports=a},function(e,t,r){r(107)("flat")},function(e,t,r){r(5)({target:"Math",stat:!0},{sign:r(356)})},function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},function(e,t,r){r(158)("Uint16",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},function(e,t,r){"use strict";var n;if(!Object.keys){var o=Object.prototype.hasOwnProperty,i=Object.prototype.toString,a=r(250),s=Object.prototype.propertyIsEnumerable,u=!s.call({toString:null},"toString"),c=s.call((function(){}),"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],f=function(e){var t=e.constructor;return t&&t.prototype===e},p={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},d=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!p["$"+e]&&o.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{f(window[e])}catch(e){return!0}}catch(e){return!0}return!1}();n=function(e){var t=null!==e&&"object"==typeof e,r="[object Function]"===i.call(e),n=a(e),s=t&&"[object String]"===i.call(e),p=[];if(!t&&!r&&!n)throw new TypeError("Object.keys called on a non-object");var h=c&&r;if(s&&e.length>0&&!o.call(e,0))for(var y=0;y<e.length;++y)p.push(String(y));if(n&&e.length>0)for(var m=0;m<e.length;++m)p.push(String(m));else for(var v in e)h&&"prototype"===v||!o.call(e,v)||p.push(String(v));if(u)for(var g=function(e){if("undefined"==typeof window||!d)return f(e);try{return f(e)}catch(e){return!1}}(e),_=0;_<l.length;++_)g&&"constructor"===l[_]||!o.call(e,l[_])||p.push(l[_]);return p}}e.exports=n},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,o=r(196)("Object.prototype.toString"),i=function(e){return!(n&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===o(e)},a=function(e){return!!i(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==o(e)&&"[object Function]"===o(e.callee)},s=function(){return i(arguments)}();i.isLegacyArguments=a,e.exports=s?i:a},function(e,t,r){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},function(e,t,r){"use strict";var n="Function.prototype.bind called on incompatible ",o=Array.prototype.slice,i=Object.prototype.toString;e.exports=function(e){var t=this;if("function"!=typeof t||"[object Function]"!==i.call(t))throw new TypeError(n+t);for(var r,a=o.call(arguments,1),s=function(){if(this instanceof r){var n=t.apply(this,a.concat(o.call(arguments)));return Object(n)===n?n:this}return t.apply(e,a.concat(o.call(arguments)))},u=Math.max(0,t.length-a.length),c=[],l=0;l<u;l++)c.push("$"+l);if(r=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")(s),t.prototype){var f=function(){};f.prototype=t.prototype,r.prototype=new f,f.prototype=null}return r}},function(e,t,r){"use strict";var n=r(198);e.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},function(e,t,r){"use strict";var n=r(100),o=r(142),i=r(251),a=r(252),s=r(364),u=o(a(),Object);n(u,{getPolyfill:a,implementation:i,shim:s}),e.exports=u},function(e,t,r){"use strict";var n=r(252),o=r(100);e.exports=function(){var e=n();return o(Object,{is:e},{is:function(){return Object.is!==e}}),e}},function(e,t,r){"use strict";var n,o,i,a,s=r(197)()&&"symbol"==typeof Symbol.toStringTag;if(s){n=Function.call.bind(Object.prototype.hasOwnProperty),o=Function.call.bind(RegExp.prototype.exec),i={};var u=function(){throw i};a={toString:u,valueOf:u},"symbol"==typeof Symbol.toPrimitive&&(a[Symbol.toPrimitive]=u)}var c=Object.prototype.toString,l=Object.getOwnPropertyDescriptor;e.exports=s?function(e){if(!e||"object"!=typeof e)return!1;var t=l(e,"lastIndex");if(!(t&&n(t,"value")))return!1;try{o(e,a)}catch(e){return e===i}}:function(e){return!(!e||"object"!=typeof e&&"function"!=typeof e)&&"[object RegExp]"===c.call(e)}},function(e,t,r){"use strict";var n=r(100),o=r(142),i=r(253),a=r(254),s=r(367),u=o(i);n(u,{getPolyfill:a,implementation:i,shim:s}),e.exports=u},function(e,t,r){"use strict";var n=r(100).supportsDescriptors,o=r(254),i=Object.getOwnPropertyDescriptor,a=Object.defineProperty,s=TypeError,u=Object.getPrototypeOf,c=/a/;e.exports=function(){if(!n||!u)throw new s("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=o(),t=u(c),r=i(t,"flags");return r&&r.get===e||a(t,"flags",{configurable:!0,enumerable:!1,get:e}),e}},function(e,t,r){(function(e){var n=void 0!==e&&e||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(o.call(setTimeout,n,arguments),clearTimeout)},t.setInterval=function(){return new i(o.call(setInterval,n,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(n,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},r(369),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,r(51))},function(e,t,r){(function(e,t){!function(e,r){"use strict";if(!e.setImmediate){var n,o,i,a,s,u=1,c={},l=!1,f=e.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(e);p=p&&p.setTimeout?p:e,"[object process]"==={}.toString.call(e.process)?n=function(e){t.nextTick((function(){h(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){h(e.data)},n=function(e){i.port2.postMessage(e)}):f&&"onreadystatechange"in f.createElement("script")?(o=f.documentElement,n=function(e){var t=f.createElement("script");t.onreadystatechange=function(){h(e),t.onreadystatechange=null,o.removeChild(t),t=null},o.appendChild(t)}):n=function(e){setTimeout(h,0,e)}:(a="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&h(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),n=function(t){e.postMessage(a+t,"*")}),p.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var o={callback:e,args:t};return c[u]=o,n(u),u++},p.clearImmediate=d}function d(e){delete c[e]}function h(e){if(l)setTimeout(h,0,e);else{var t=c[e];if(t){l=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(void 0,r)}}(t)}finally{d(e),l=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,r(51),r(138))},function(e,t,r){var n=r(5),o=Math.log,i=Math.LN2;n({target:"Math",stat:!0},{log2:function(e){return o(e)/i}})},function(e,t,r){"use strict";var n=r(89)("%TypeError%");e.exports=function(e,t){if(null==e)throw new n(t||"Cannot call method on "+e);return e}},function(e,t,r){"use strict";var n=r(373),o=r(374);e.exports=function(e){var t=o(e);return t<=0?0:t>n?n:t}},function(e,t,r){"use strict";var n=r(89),o=n("%Math%"),i=n("%Number%");e.exports=i.MAX_SAFE_INTEGER||o.pow(2,53)-1},function(e,t,r){"use strict";var n=r(375),o=r(382);e.exports=function(e){var t=o(e);return 0!==t&&(t=n(t)),0===t?0:t}},function(e,t,r){"use strict";var n=r(376),o=r(377),i=r(378),a=r(379),s=r(380),u=r(381);e.exports=function(e){var t=i(e);return a(t)?0:0!==t&&s(t)?u(t)*o(n(t)):t}},function(e,t,r){"use strict";var n=r(89)("%Math.abs%");e.exports=function(e){return n(e)}},function(e,t,r){"use strict";var n=Math.floor;e.exports=function(e){return n(e)}},function(e,t,r){"use strict";e.exports=function(e){return+e}},function(e,t,r){"use strict";e.exports=Number.isNaN||function(e){return e!=e}},function(e,t,r){"use strict";var n=Number.isNaN||function(e){return e!=e};e.exports=Number.isFinite||function(e){return"number"==typeof e&&!n(e)&&e!==1/0&&e!==-1/0}},function(e,t,r){"use strict";e.exports=function(e){return e>=0?1:-1}},function(e,t,r){"use strict";var n=r(89),o=n("%TypeError%"),i=n("%Number%"),a=n("%RegExp%"),s=n("%parseInt%"),u=r(196),c=r(383),l=r(384),f=u("String.prototype.slice"),p=c(/^0b[01]+$/i),d=c(/^0o[0-7]+$/i),h=c(/^[-+]0x[0-9a-f]+$/i),y=c(new a("["+["","​","￾"].join("")+"]","g")),m=["\t\n\v\f\r   ᠎    ","         　\u2028","\u2029\ufeff"].join(""),v=new RegExp("(^["+m+"]+)|(["+m+"]+$)","g"),g=u("String.prototype.replace"),_=r(385);e.exports=function e(t){var r=l(t)?t:_(t,i);if("symbol"==typeof r)throw new o("Cannot convert a Symbol value to a number");if("string"==typeof r){if(p(r))return e(s(f(r,2),2));if(d(r))return e(s(f(r,2),8));if(y(r)||h(r))return NaN;var n=function(e){return g(e,v,"")}(r);if(n!==r)return e(n)}return i(r)}},function(e,t,r){"use strict";var n=r(89)("RegExp.prototype.test"),o=r(142);e.exports=function(e){return o(n,e)}},function(e,t,r){"use strict";e.exports=function(e){return null===e||"function"!=typeof e&&"object"!=typeof e}},function(e,t,r){"use strict";var n=r(386);e.exports=function(e){return arguments.length>1?n(e,arguments[1]):n(e)}},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,o=r(387),i=r(388),a=r(255),s=r(389),u=function(e,t){if(null==e)throw new TypeError("Cannot call method on "+e);if("string"!=typeof t||"number"!==t&&"string"!==t)throw new TypeError('hint must be "string" or "number"');var r,n,a,s="string"===t?["toString","valueOf"]:["valueOf","toString"];for(a=0;a<s.length;++a)if(r=e[s[a]],i(r)&&(n=r.call(e),o(n)))return n;throw new TypeError("No default value")},c=function(e,t){var r=e[t];if(null!=r){if(!i(r))throw new TypeError(r+" returned for property "+t+" of object "+e+" is not a function");return r}};e.exports=function(e){if(o(e))return e;var t,r="default";if(arguments.length>1&&(arguments[1]===String?r="string":arguments[1]===Number&&(r="number")),n&&(Symbol.toPrimitive?t=c(e,Symbol.toPrimitive):s(e)&&(t=Symbol.prototype.valueOf)),void 0!==t){var i=t.call(e,r);if(o(i))return i;throw new TypeError("unable to convert exotic object to primitive")}return"default"===r&&(a(e)||s(e))&&(r="string"),u(e,"default"===r?"number":r)}},function(e,t,r){"use strict";e.exports=function(e){return null===e||"function"!=typeof e&&"object"!=typeof e}},function(e,t,r){"use strict";var n,o,i=Function.prototype.toString,a="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof a&&"function"==typeof Object.defineProperty)try{n=Object.defineProperty({},"length",{get:function(){throw o}}),o={},a((function(){throw 42}),null,n)}catch(e){e!==o&&(a=null)}else a=null;var s=/^\s*class\b/,u=function(e){try{var t=i.call(e);return s.test(t)}catch(e){return!1}},c=Object.prototype.toString,l="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=a?function(e){if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if("function"==typeof e&&!e.prototype)return!0;try{a(e,null,n)}catch(e){if(e!==o)return!1}return!u(e)}:function(e){if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if("function"==typeof e&&!e.prototype)return!0;if(l)return function(e){try{return!u(e)&&(i.call(e),!0)}catch(e){return!1}}(e);if(u(e))return!1;var t=c.call(e);return"[object Function]"===t||"[object GeneratorFunction]"===t}},function(e,t,r){"use strict";var n=Object.prototype.toString;if(r(197)()){var o=Symbol.prototype.toString,i=/^Symbol\(.*\)$/;e.exports=function(e){if("symbol"==typeof e)return!0;if("[object Symbol]"!==n.call(e))return!1;try{return function(e){return"symbol"==typeof e.valueOf()&&i.test(o.call(e))}(e)}catch(e){return!1}}}else e.exports=function(e){return!1}},function(e,t,r){"use strict";var n=r(89),o=n("%String%"),i=n("%TypeError%");e.exports=function(e){if("symbol"==typeof e)throw new i("Cannot convert a Symbol value to a string");return o(e)}},function(e,t,r){"use strict";var n=r(258),o=r(100);e.exports=function(){var e=n();return o(String.prototype,{padStart:e},{padStart:function(){return String.prototype.padStart!==e}}),e}},function(e,t,r){r(45),r(10),r(7),r(44),r(31),r(15);var n=r(393);t.init=function(e){e.forEach((function(e){var t=e.name,r=e.config||{};switch(t){case"a9":n.init(r)}}))},t.requestBids=function(e,t,r,o,i){var a={};function s(e){a[e]=!0,Object.keys(a).map((function(e){return a[e]})).filter(Boolean).length===o.length&&i()}o.forEach((function(o){var i=o.name;switch(a[i]=!1,i){case"a9":n.fetchBids(e,t,r,s);break;default:s(i)}}))}},function(e,t){t.init=function(e){e.pubID&&(!function(e,t,r,n,o,i,a){function s(r,n){t[e]._Q.push([r,n])}t[e]||(t[e]={init:function(){s("i",arguments)},fetchBids:function(){s("f",arguments)},setDisplayBids:function(){},targetingKeys:function(){return[]},_Q:[]},(i=r.createElement(n)).async=!0,i.src="//c.amazon-adsystem.com/aax2/apstag.js",(a=r.getElementsByTagName(n)[0]).parentNode.insertBefore(i,a))}("apstag",window,document,"script"),window.apstag.init({pubID:e.pubID,adServer:"googletag"}))},t.fetchBids=function(e,t,r,n){if(window.apstag){var o={slotID:e,slotName:t,sizes:Array.isArray(r[0])?r:[r]};window.apstag.fetchBids({slots:[o]},(function(){window.apstag.setDisplayBids(),n("a9")}))}else n("a9")}},function(e,t,r){function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r(2),r(10),r(20),r(7),r(116),r(80),r(31),r(3),r(139),r(12),r(29),r(41),r(46),r(15),e.exports=function(e){function t(e){var r,n=null;function i(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];if(i.enabled){var a=i,s=Number(new Date),u=s-(r||s);a.diff=u,a.prev=r,a.curr=s,r=s,n[0]=t.coerce(n[0]),"string"!=typeof n[0]&&n.unshift("%O");var c=0;n[0]=n[0].replace(/%([a-zA-Z%])/g,(function(e,r){if("%%"===e)return"%";c++;var o=t.formatters[r];if("function"==typeof o){var i=n[c];e=o.call(a,i),n.splice(c,1),c--}return e})),t.formatArgs.call(a,n);var l=a.log||t.log;l.apply(a,n)}}return i.namespace=e,i.useColors=t.useColors(),i.color=t.selectColor(e),i.extend=o,i.destroy=t.destroy,Object.defineProperty(i,"enabled",{enumerable:!0,configurable:!1,get:function(){return null===n?t.enabled(e):n},set:function(e){n=e}}),"function"==typeof t.init&&t.init(i),i}function o(e,r){var n=t(this.namespace+(void 0===r?":":r)+e);return n.log=this.log,n}function i(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},t.disable=function(){var e=[].concat(n(t.names.map(i)),n(t.skips.map(i).map((function(e){return"-"+e})))).join(",");return t.enable(""),e},t.enable=function(e){var r;t.save(e),t.names=[],t.skips=[];var n=("string"==typeof e?e:"").split(/[\s,]+/),o=n.length;for(r=0;r<o;r++)n[r]&&("-"===(e=n[r].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;var r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(395),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((function(r){t[r]=e[r]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){for(var r=0,n=0;n<e.length;n++)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}},function(e,t){var r=1e3,n=6e4,o=60*n,i=24*o;function a(e,t,r,n){var o=t>=1.5*r;return Math.round(e/r)+" "+n+(o?"s":"")}e.exports=function(e,t){t=t||{};var s=typeof e;if("string"===s&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var a=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"weeks":case"week":case"w":return 6048e5*a;case"days":case"day":case"d":return a*i;case"hours":case"hour":case"hrs":case"hr":case"h":return a*o;case"minutes":case"minute":case"mins":case"min":case"m":return a*n;case"seconds":case"second":case"secs":case"sec":case"s":return a*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}(e);if("number"===s&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=i)return a(e,t,i,"day");if(t>=o)return a(e,t,o,"hour");if(t>=n)return a(e,t,n,"minute");if(t>=r)return a(e,t,r,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=i)return Math.round(e/i)+"d";if(t>=o)return Math.round(e/o)+"h";if(t>=n)return Math.round(e/n)+"m";if(t>=r)return Math.round(e/r)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,r){"use strict";var n=r(245),o=r(247);e.exports=n("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),o)},function(e,t,r){"use strict";r.r(t);var n={};r.r(n),r.d(n,"create",(function(){return Xg})),r.d(n,"clone",(function(){return Zg})),r.d(n,"copy",(function(){return Jg})),r.d(n,"identity",(function(){return Qg})),r.d(n,"fromValues",(function(){return e_})),r.d(n,"set",(function(){return t_})),r.d(n,"invert",(function(){return r_})),r.d(n,"determinant",(function(){return n_})),r.d(n,"multiply",(function(){return o_})),r.d(n,"rotate",(function(){return i_})),r.d(n,"scale",(function(){return a_})),r.d(n,"translate",(function(){return s_})),r.d(n,"fromRotation",(function(){return u_})),r.d(n,"fromScaling",(function(){return c_})),r.d(n,"fromTranslation",(function(){return l_})),r.d(n,"str",(function(){return f_})),r.d(n,"frob",(function(){return p_})),r.d(n,"add",(function(){return d_})),r.d(n,"subtract",(function(){return h_})),r.d(n,"multiplyScalar",(function(){return y_})),r.d(n,"multiplyScalarAndAdd",(function(){return m_})),r.d(n,"exactEquals",(function(){return v_})),r.d(n,"equals",(function(){return g_})),r.d(n,"mul",(function(){return __})),r.d(n,"sub",(function(){return b_}));var o={};r.r(o),r.d(o,"create",(function(){return w_})),r.d(o,"fromMat4",(function(){return E_})),r.d(o,"clone",(function(){return O_})),r.d(o,"copy",(function(){return T_})),r.d(o,"fromValues",(function(){return x_})),r.d(o,"set",(function(){return k_})),r.d(o,"identity",(function(){return S_})),r.d(o,"transpose",(function(){return P_})),r.d(o,"invert",(function(){return C_})),r.d(o,"adjoint",(function(){return A_})),r.d(o,"determinant",(function(){return R_})),r.d(o,"multiply",(function(){return j_})),r.d(o,"translate",(function(){return I_})),r.d(o,"rotate",(function(){return D_})),r.d(o,"scale",(function(){return M_})),r.d(o,"fromTranslation",(function(){return L_})),r.d(o,"fromRotation",(function(){return N_})),r.d(o,"fromScaling",(function(){return B_})),r.d(o,"fromMat2d",(function(){return F_})),r.d(o,"fromQuat",(function(){return U_})),r.d(o,"normalFromMat4",(function(){return W_})),r.d(o,"projection",(function(){return z_})),r.d(o,"str",(function(){return H_})),r.d(o,"frob",(function(){return V_})),r.d(o,"add",(function(){return G_})),r.d(o,"subtract",(function(){return q_})),r.d(o,"multiplyScalar",(function(){return $_})),r.d(o,"multiplyScalarAndAdd",(function(){return K_})),r.d(o,"exactEquals",(function(){return Y_})),r.d(o,"equals",(function(){return X_})),r.d(o,"mul",(function(){return Z_})),r.d(o,"sub",(function(){return J_}));var i={};r.r(i),r.d(i,"create",(function(){return Q_})),r.d(i,"clone",(function(){return eb})),r.d(i,"fromValues",(function(){return tb})),r.d(i,"copy",(function(){return rb})),r.d(i,"set",(function(){return nb})),r.d(i,"add",(function(){return ob})),r.d(i,"subtract",(function(){return ib})),r.d(i,"multiply",(function(){return ab})),r.d(i,"divide",(function(){return sb})),r.d(i,"ceil",(function(){return ub})),r.d(i,"floor",(function(){return cb})),r.d(i,"min",(function(){return lb})),r.d(i,"max",(function(){return fb})),r.d(i,"round",(function(){return pb})),r.d(i,"scale",(function(){return db})),r.d(i,"scaleAndAdd",(function(){return hb})),r.d(i,"distance",(function(){return yb})),r.d(i,"squaredDistance",(function(){return mb})),r.d(i,"length",(function(){return vb})),r.d(i,"squaredLength",(function(){return gb})),r.d(i,"negate",(function(){return _b})),r.d(i,"inverse",(function(){return bb})),r.d(i,"normalize",(function(){return wb})),r.d(i,"dot",(function(){return Eb})),r.d(i,"cross",(function(){return Ob})),r.d(i,"lerp",(function(){return Tb})),r.d(i,"random",(function(){return xb})),r.d(i,"transformMat2",(function(){return kb})),r.d(i,"transformMat2d",(function(){return Sb})),r.d(i,"transformMat3",(function(){return Pb})),r.d(i,"transformMat4",(function(){return Cb})),r.d(i,"rotate",(function(){return Ab})),r.d(i,"angle",(function(){return Rb})),r.d(i,"zero",(function(){return jb})),r.d(i,"str",(function(){return Ib})),r.d(i,"exactEquals",(function(){return Db})),r.d(i,"equals",(function(){return Mb})),r.d(i,"len",(function(){return Nb})),r.d(i,"sub",(function(){return Bb})),r.d(i,"mul",(function(){return Fb})),r.d(i,"div",(function(){return Ub})),r.d(i,"dist",(function(){return Wb})),r.d(i,"sqrDist",(function(){return zb})),r.d(i,"sqrLen",(function(){return Hb})),r.d(i,"forEach",(function(){return Vb}));var a={};r.r(a),r.d(a,"FunctionToString",(function(){return eH})),r.d(a,"InboundFilters",(function(){return nH}));r(3),r(29);var s=r(143),u=r.n(s),c=(r(14),r(2),r(44),r(0)),l=r.n(c),f='\n    <svg width="43" height="36" viewBox="0 0 43 36" xmlns="http://www.w3.org/2000/svg">\n        <title>Rectangle 425 + Rectangle 425 Copy 2 + Rectangle 429</title>\n        <g fill="#9AA8A9" fill-rule="evenodd" opacity=".3">\n            <path d="M42.934 18.503c.032-.338-.107-.682-.396-.9L30.273 8.36c-.435-.327-1.08-.243-1.418.206-.34.45-.25 1.084.194 1.42l11.303 8.517L29.05 27.02c-.446.336-.535.97-.195 1.42.338.45.983.533 1.418.205l12.265-9.242c.29-.218.428-.562.396-.9zM.466 18.503c-.032-.338.107-.682.397-.9L13.127 8.36c.435-.327 1.08-.243 1.418.206.34.45.25 1.084-.194 1.42L3.05 18.502 14.35 27.02c.446.336.536.97.195 1.42-.338.45-.983.533-1.418.205L.863 19.403c-.29-.218-.43-.562-.397-.9z"/><rect transform="rotate(14 22.02 17.898)" x="21.039" y="-.102" width="1.964" height="36" rx=".982"/>\n        </g>\n    </svg>\n',p='\n    <svg width="36" height="31" viewBox="0 0 36 31" xmlns="http://www.w3.org/2000/svg">\n        <title>Group</title>\n        <g fill="#9AA8A9" fill-rule="evenodd" opacity=".3">\n            <path d="M32.333 30.77H3.267c-1.1 0-2.1-.564-2.667-1.53-.533-.964-.533-2.095.033-3.06L15.5 1.464C16.067.532 17.033 0 18.133 0 19.2 0 20.2.566 20.767 1.464l14.5 24.118c.633 1.064.666 2.362.033 3.46-.6 1.097-1.7 1.73-2.967 1.73zm-14.2-28.475c-.133 0-.433.034-.633.333L2.667 27.378c-.2.333-.067.6 0 .732.066.133.233.366.633.366h29.033c.567 0 .867-.4.967-.566.1-.166.3-.6 0-1.098L18.767 2.663c-.2-.333-.5-.367-.634-.367z"/><path d="M18.133 20.825c-.633 0-1.166-.533-1.166-1.165v-8.15c0-.632.533-1.164 1.166-1.164.634 0 1.167.532 1.167 1.164v8.15c0 .666-.5 1.165-1.167 1.165zM18.133 25.05c-.633 0-1.166-.533-1.166-1.165v-.665c0-.632.533-1.165 1.166-1.165.634 0 1.167.533 1.167 1.165v.665c0 .665-.5 1.164-1.167 1.164z"/>\n        </g>\n    </svg>\n',d=4,h=6,y=8,m=10;function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}function b(e){var t=x();return function(){var r,n=P(e);if(t){var o=P(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return w(this,r)}}function w(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?E(e):t}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){var t="function"==typeof Map?new Map:void 0;return(O=function(e){if(null===e||!k(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return T(e,arguments,P(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),S(r,e)})(e)}function T(e,t,r){return(T=x()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&S(o,r.prototype),o}).apply(null,arguments)}function x(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function k(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var A,R="FetchNetworkError",j=function(e){_(r,e);var t=b(r);function r(e){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return g(this,r),C(E(n=t.call(this)),"sentry_extra",void 0),C(E(n),"code",void 0),n.stack=(new Error).stack,n.message=e,n.name=R,n.code=o,o>0&&(n.sentry_extra={HTTPStatusCode:o}),0!==o&&403!==o||(n.message+=" (--client-only--)"),n}return r}(O(Error)),I="BackendModelError",D=function(e){_(r,e);var t=b(r);function r(e,n){var o;return g(this,r),C(E(o=t.call(this)),"sentry_extra",void 0),C(E(o),"code",void 0),o.stack=(new Error).stack,o.name=I,o.code=n,o.message=-1===n?e:"".concat(e," (documentStatus: ").concat(n,") (--client-only--)"),o}return r}(O(Error));r(22),r(7),r(35);!function(e){e.DocumentNotLoad="The document could not be loaded.",e.ClippingNotLoad="The Clippings could not be loaded.",e.DocumentIdMissing="documentId is not found!",e.JsonNotLoad="XHR could not load JSON",e.PreviewDisableLicenseCheck="Disable license check in Publisher Preview mode",e.PaywallPreviewDisableLicenseCheck="Disable license check in paywallPreview mode"}(A||(A={}));var M={},L=function(e){return{dsn:e.dsn,environment:e.environment,beforeSend:function(e,t){var r=null==t?void 0:t.originalException,n="string"==typeof r?r:(null==r?void 0:r.message)||"unknown error";return n in M?(console.error("Rate limiting activated for",n),null):(M[n]=!0,setTimeout((function(){delete M[n]}),6e4),e)}}},N=4;function B(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.withCredentials,n=void 0!==r&&r,o=t.timeout;return new Promise((function(t,r){var i=new XMLHttpRequest;i.open("GET",e,!0),i.withCredentials=n,o&&(i.timeout=o),i.onreadystatechange=function(){if(i.readyState===N)if(200===i.status)try{t(JSON.parse(i.responseText))}catch(e){r(new j("Could not deserialize loaded JSON: ".concat(e)))}else r(new j(A.JsonNotLoad,i.status))},i.send()}))}r(108),r(109),r(45),r(12),r(41),r(46);r(38),r(179),r(30),r(110),r(134),r(9),r(80),r(136),r(54),r(55),r(56),r(57),r(58),r(59),r(60),r(61),r(62),r(63),r(64),r(65),r(66),r(67),r(68),r(69),r(70),r(71),r(72),r(73),r(74),r(75),r(76);var F,U=r(259),W=r.n(U),z=r(260),H=function(e){function t(e){var t=e.blockType,r=e.boundingBox;return"image"===t?{type:"image",boundingBox:r}:"text"===t?{type:"text",fontSize:e[t].fontSize,boundingBox:r}:{type:"unknown",boundingBox:r}}return e.map((function(e){return{pageNumber:e.pageNumber,width:e.width,height:e.height,blocks:e.blocks.map(t)}}))};function V(e){var t=W.a.Root.fromJSON(z).lookupType("smartnav.Asset"),r=t.decode(new Uint8Array(e));return H(t.toObject(r,{enums:String,longs:Number,oneofs:!0,defaults:!0}).pages)}function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,o)}function $(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){q(i,n,o,a,s,"next",e)}function s(e){q(i,n,o,a,s,"throw",e)}a(void 0)}))}}function K(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ne(e,t)}function X(e){var t=te();return function(){var r,n=oe(e);if(t){var o=oe(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Z(this,r)}}function Z(e,t){return!t||"object"!==G(t)&&"function"!=typeof t?J(e):t}function J(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Q(e){var t="function"==typeof Map?new Map:void 0;return(Q=function(e){if(null===e||!re(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return ee(e,arguments,oe(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),ne(r,e)})(e)}function ee(e,t,r){return(ee=te()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&ne(o,r.prototype),o}).apply(null,arguments)}function te(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function re(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function ne(e,t){return(ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function oe(e){return(oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}!function(e){e[e.FORWARD=0]="FORWARD",e[e.BACKWARD=1]="BACKWARD"}(F||(F={}));var ie=function(e,t){var r=e.x,n=e.y,o=t.top,i=t.right,a=t.bottom;return r>=t.left&&r<=i&&n>=o&&n<=a},ae=function(e,t){var r=t.boundingBox;return"text"===t.type&&ie(e,r)},se=function(e,t,r,n,o){return n-o<=e.verticalSnapThreshold/t.zoom?e.padding.top-o*r:t.zoom*n-r*n+t.offsetY},ue=function(e,t,r){var n=e.width,o=e.padding;return(n-(o.left+o.right))/(r-t)},ce=function(e,t){var r=t({x:0,y:0});return{zoom:(t({x:e.width,y:e.height}).x-r.x)/e.width,offsetX:r.x,offsetY:r.y}},le=function(e,t){var r=e.width,n=e.height,o=t.zoom,i=t.offsetX,a=t.offsetY;return{top:-a/o,right:(r-i)/o,bottom:(n-a)/o,left:-i/o}},fe=function(e,t){var r=t.top,n=t.right,o=t.bottom,i=t.left,a=n>e.width?e.width-n:i<0?-i:0,s=o>e.height?e.height-o:r<0?-r:0;return{top:r+s,right:n+a,bottom:o+s,left:i+a}},pe=function(e,t){var r=e.boundingBox;return r.top>=t.top&&r.bottom<=t.bottom&&r.left>=t.left&&r.right<=t.right},de=function(e,t){var r=e.boundingBox;return r.top>=t.top&&r.top<=t.bottom&&r.left>=t.left&&r.right<=t.right},he=function(e,t){var r=e.boundingBox;return r.bottom>=t.top&&r.bottom<=t.bottom&&r.left>=t.left&&r.right<=t.right},ye=function(e,t){var r=e.boundingBox,n=t.boundingBox;return(Math.min(r.right,n.right)-Math.max(r.left,n.left))/(Math.max(r.right,n.right)-Math.min(r.left,n.left))>=.6},me=function(e,t){var r=function(e){var t=e.boundingBox;return{x:(t.left+t.right)/2,y:(t.top+t.bottom)/2}},n=r(e),o=r(t),i=o.x-n.x,a=o.y-n.y,s=180*Math.atan2(a,i)/Math.PI;return s>=-90&&s<=135},ve=function(e,t,r,n,o,i){return{zoom:n,offsetX:e.padding.left-o*n,offsetY:se(e,r,n,t.y,i)}},ge=function e(t,r,n,o,i,a,s,u){var c=a.shift();if(c){console.log("unidirectionalExpansion: oldExpansion=",t,", direction=",s);var l="text"===c.type?Math.min(t.minFontSize,c.fontSize):t.minFontSize,f=Math.min(t.left,c.boundingBox.left),p=Math.max(t.right,c.boundingBox.right),d=ue(r,f,p);console.log("unidirectionalExpansion: considering left=".concat(f,", right=").concat(p));var h=ve(r,n,o,d,f,i.boundingBox.top),y=le(r,h),m=l*d,v=m>=r.minEffectiveFontSize,g=!u||pe(u,y),_=0===s?de(c,y):he(c,y),b=ye(i,c),w=me(i,c);return console.log("unidirectionalExpansion: ","effectiveFontSize=",m,"satisfiesFontSize=",v,"satisfiesOldVisibility=",g,"satisfiesThisVisibility=",_,"satisfiesColumn=",b,"satisfiesFlow=",w),v&&g&&_&&b?(console.log("unidirectionalExpansion: all criteria are satisfied"),e({zoom:d,left:f,right:p,minFontSize:l},r,n,o,i,a,s,c)):(console.log("unidirectionalExpansion: criteria not satisfied and not continuing"),t)}return console.log("unidirectionalExpansion: no more blocks"),t},_e=function(e,t,r,n,o,i,a){var s={zoom:n,left:i.boundingBox.left,right:i.boundingBox.right,minFontSize:i.fontSize},u=a.slice(o+1),c=ge(s,e,t,r,i,u,0),l=a.slice(0,o).reverse();return ge(c,e,t,r,i,l,1)},be=function(e,t,r,n,o){var i=e.blocks[o];if("text"!==i.type)return null;var a=i.boundingBox,s=ue(t,a.left,a.right),u=i.fontSize*s;if(console.log("computeNewTransform: bbox=",a,", zoom=",s),console.log("computeNewTransform: blockIdx=",o,", fontSize=",i.fontSize,", effectiveFontSize=",u),u<t.minEffectiveFontSize){console.log("computeNewTransform: effectiveFontSize < minEffectiveFontSize");var c=Math.min(t.maxZoom,t.minEffectiveFontSize/i.fontSize);return{zoom:c,offsetX:r.zoom*n.x-c*n.x+r.offsetX,offsetY:se(t,r,c,n.y,a.top)}}if(u>t.maxEffectiveFontSize||s>t.maxZoom){console.log("computeNewTransform: effectiveFontSize > screenConfig.maxEffectiveFontSize || zoom > screenConfig.maxZoom");var l=_e(t,n,r,s,o,i,e.blocks),f=i.fontSize*l.zoom;if(console.log("computeNewTransform: newEffectiveFontSize=",f,", expansion=",l),f>t.maxEffectiveFontSize||l.zoom>t.maxZoom){console.log("computeNewTransform: block expansion did not succeed");var p=Math.min(t.maxZoom,t.maxEffectiveFontSize/i.fontSize),d=(a.right+a.left)/2;return{zoom:p,offsetX:t.width/2-d*p,offsetY:se(t,r,p,n.y,a.top)}}return console.log("computeNewTransform: block expansion succeeded"),ve(t,n,r,l.zoom,l.left,a.top)}console.log("computeNewTransform: block width is in the Goldilocks zone");var h=_e(t,n,r,s,o,i,e.blocks);return ve(t,n,r,h.zoom,h.left,a.top)},we=function(e){Y(r,e);var t=X(r);function r(){return K(this,r),t.apply(this,arguments)}return r}(Q(Error)),Ee=function(e){Y(r,e);var t=X(r);function r(){return K(this,r),t.apply(this,arguments)}return r}(Q(Error)),Oe=function(e){Y(r,e);var t=X(r);function r(){return K(this,r),t.apply(this,arguments)}return r}(Q(Error));function Te(e){return xe.apply(this,arguments)}function xe(){return(xe=$(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if((r=e.sent).ok){e.next=7;break}if(403!==r.status){e.next=6;break}throw new we("Assets missing for ".concat(t));case 6:throw new Ee("Invalid response for ".concat(t));case 7:return e.prev=7,e.next=10,r.arrayBuffer();case 10:return n=e.sent,e.abrupt("return",V(n));case 14:throw e.prev=14,e.t0=e.catch(7),new Oe(e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[7,14]])})))).apply(this,arguments)}function ke(e,t,r,n,o){console.log("getPositionForPoint: ========================================================");var i=e.find((function(e){return e.pageNumber===n}));if(i){console.log("getPositionForPoint: screenConfig=",t,", pagePoint=",o,", pageWidth=",i.width,", pageHeight=",i.height);var a=i.blocks.findIndex((function(e){return ae(o,e)}));if(-1===a)return console.log("getPositionForPoint: Could not find a valid block"),null;console.log("getPositionForPoint: Point is within a valid block");var s=ce(i,r);console.log("getPositionForPoint: oldTransform=",s);var u=be(i,t,s,o,a);console.log("getPositionForPoint: newTransform=",u);var c=u?le(t,u):null;console.log("getPositionForPoint: viewport=",c);var l=c?fe(i,c):null;if(console.log("getPositionForPoint: confinedViewport=",l),l){var f=l.top,p=l.left,d=l.right;return{pageNumber:i.pageNumber,semiBox:{top:f,left:p,right:d}}}return null}return null}r(31),r(32),r(36);function Se(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Pe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(r),!0).forEach((function(t){Ce(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Se(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ce(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ae(e,t,r){return B("".concat(e,"/").concat(t,"/").concat(r,"/reader3_4.json")).then((function(e){var n=e.status,o=e.document;if(0!==n||!o)throw new D(A.DocumentNotLoad,n);return Pe({username:t,documentName:r},o)}))}var Re=r(101),je=r.n(Re);function Ie(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"?";return e&&t?"".concat(r,"embed_cta=").concat(encodeURIComponent(e),"&").concat(t):""}var De=/^(?:Mediapartners-Google|Yahoo|MSNPTC|Baiduspider|Yandex|proximic|Ezooms)|bot\/|Yahoo! Slurp|Ask Jeeves\/Teoma|spider|crawl|ia_archiver|heritrix\//i;function Me(e){return De.test(e)}var Le=r(24),Ne=r.n(Le);function Be(){if("function"==typeof window.requestIdleCallback&&"function"==typeof window.cancelIdleCallback)return{rIC:function(e,t){return window.requestIdleCallback(e,t)},cIC:function(e){return window.cancelIdleCallback(e)}};var e=null,t=!1,r=-1,n=!1,o=0,i=33,a=33,s={didTimeout:!1,timeRemaining:function(){var e=o-Ne()();return e>0?e:0}},u="__rIC$".concat(Math.random().toString(36).slice(2)),c=function(e){n=!1;var r=e-o+a;r<a&&i<a?(r<8&&(r=8),a=r<i?i:r):i=r,o=e+a,t||(t=!0,window.postMessage(u,"*"))};window.addEventListener("message",(function i(a){if(a.source===window&&a.data===u){t=!1;var l=Ne()();if(o-l<=0){if(!(-1!==r&&r<=l))return void(n||(n=!0,requestAnimationFrame(c)));s.didTimeout=!0}else s.didTimeout=!1;r=-1;var f=e;e=null,window.removeEventListener("message",i,!1),null!==f&&f(s)}}),!1);return{rIC:function(t,o){return e=t,o&&"number"==typeof o.timeout&&(r=Ne()()+o.timeout),n||(n=!0,requestAnimationFrame(c)),0},cIC:function(n){e=null,t=!1,r=-1}}}r(20);function Fe(){try{document.domain&&(document.domain=document.domain.split(".").slice(-2).join("."))}catch(e){}}function Ue(e){return e.replace(/^(https?:\/\/[^/?#]*).*$/,"$1")}function We(e){var t=Ue(e);return/^https?:\/\/(.*\.)?t?issuu\.com(:\d+)?$/.test(t)}function ze(e){var t=Ue(e);return!!/^https?:\/\/translate\.googleusercontent\.com$/.test(t)||(!!/^https?:\/\/www\.google(\.com?)?\.[^\.]{2,3}$/.test(t)||(!!/^https?:\/\/goo\.gl$/.test(t)||!!/^https?:\/\/m\.facebook\.com$/.test(t)))}function He(){if(window.top!==window.self)return!0;try{if(window.frameElement)return!0}catch(e){return!0}return!1}function Ve(){if(!He())throw new Error("This reader MUST be loaded inside an iframe");var e=window.document.referrer.toString(),t=!e;if(!(We(e)||ze(e)||t))throw new Error("This reader is not loaded inside an iframe, which is hosted on *.issuu.com")}function Ge(){Ve(),Fe()}r(10),r(114),r(15);var qe=ENV||window.ENV,$e=qe.ISSUU_ENV_NAME,Ke=qe.SCHEME,Ye=qe.API_DNS,Xe=(qe.EMBED_DNS,qe.IMAGE_DNS),Ze=qe.MAIN_DNS,Je=qe.PHOTO_DNS,Qe=(qe.CREATOR_HUB_DNS,qe.PINGBACK_DNS),et=qe.READER3_DNS,tt=qe.STATIC_DNS;qe.GOOGLE_ANALYTICS_ID,qe.QUANTCAST_ID,qe.MIXPANEL_ID;window._qevents=window._qevents||[];r(191);function rt(){return"".concat(Ke).concat(Qe)}function nt(){return"".concat(Ke).concat(Ze)}function ot(){return{api:"".concat(Ke).concat(Ye),main:"".concat(Ke).concat(Ze),image:"".concat(Ke).concat(Xe),photo:"".concat(Ke).concat(Je),reader3:"".concat(Ke).concat(et)}}r(329),r(330);function it(e,t){return lt(e)||ct(e,t)||st(e,t)||at()}function at(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function st(e,t){if(e){if("string"==typeof e)return ut(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ut(e,t):void 0}}function ut(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ct(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}function lt(e){if(Array.isArray(e))return e}function ft(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function dt(e,t,r){return t&&pt(e.prototype,t),r&&pt(e,r),e}function ht(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var yt={SINGLE_PAGE:"SINGLE_PAGE",DOUBLE_PAGE:"DOUBLE_PAGE"},mt={autoFlip:"doAutoflipPages",hideIssuuLogo:"hideIssuuLogo",enableSeeMore:"showOtherPublicationsAsSuggestions",hideShare:"hideShareButton",fullscreenBackgroundColor:"backgroundColorFullscreen",fullscreenBackgroundImage:"backgroundImageUrl",fullscreenBackgroundPosition:"backgroundImagePosition",fullscreenLogo:"logoImageUrl",layout:"pageLayout",documentId:"documentId",backgroundColor:"backgroundColor",legacyViewMode:"viewMode",adId:"adId",identifier:"identifier",delayTracking:"delayTracking",streamOrigin:"streamOrigin",streamRanking:"streamRanking"},vt=function(){function e(t){var r=this;ft(this,e),ht(this,"_uri",void 0),ht(this,"getQueryParamValue",(function(e){return r._uri&&r._uri.getQueryParamValue(e)||""})),ht(this,"getAutoFlip",(function(){return"true"===r.getQueryParamValue(mt.autoFlip)})),ht(this,"getEnablePoweredByIssuu",(function(){var e=r.getQueryParamValue(mt.hideIssuuLogo);return!e||"true"!==e})),ht(this,"getEnableSeeMore",(function(){var e=r.getQueryParamValue(mt.enableSeeMore);if(e)return"false"!==e})),ht(this,"getEnableShare",(function(){var e=r.getQueryParamValue(mt.hideShare);return!e||"true"!==e})),ht(this,"getFullscreenBgColor",(function(){var e=r.getQueryParamValue(mt.fullscreenBackgroundColor);if(e){var t=decodeURIComponent(e);return t.startsWith("#")?t:"#".concat(t)}})),ht(this,"getFullscreenBgImage",(function(){return r.getQueryParamValue(mt.fullscreenBackgroundImage)||void 0})),ht(this,"getFullscreenImageStretch",(function(){return"stretch"===r.getQueryParamValue(mt.fullscreenBackgroundPosition)})),ht(this,"getFullScreenLogo",(function(){return r.getQueryParamValue(mt.fullscreenLogo)||void 0})),ht(this,"getPageLayout",(function(){switch(r.getQueryParamValue(mt.layout)){case"singlePage":return"singlePage";case"doublePage":default:return"doublePage"}})),ht(this,"getUsername",(function(){return r.getQueryParamValue("u")})),ht(this,"getDocumentName",(function(){return r.getQueryParamValue("d")})),ht(this,"getInitialPageNumber",(function(){var e=parseInt(r.getQueryParamValue("p"),10);if(e)return e;var t=parseInt(r.getQueryParamValue("pageNumber"),10);return t||1})),ht(this,"getDocumentId",(function(){return r.getQueryParamValue(mt.documentId)})),ht(this,"getBackgroundColor",(function(){var e=r.getQueryParamValue(mt.backgroundColor)||void 0;return e&&((e=decodeURIComponent(e)).startsWith("#")||(e="#".concat(e))),e})),ht(this,"getLegacyViewMode",(function(){return/^presentation|singlePage$/i.test(r.getQueryParamValue(mt.legacyViewMode))?yt.SINGLE_PAGE:yt.DOUBLE_PAGE})),ht(this,"getAdpageId",(function(){return r.getQueryParamValue(mt.adId)})),ht(this,"getIdentifier",(function(){return r.getQueryParamValue(mt.identifier)})),ht(this,"getEmbedType",(function(){return"script"===r.getQueryParamValue("embedType")?"script":"iframe"})),ht(this,"getHostUrl",(function(){return window.document.referrer.toString()})),ht(this,"getHostReferrer",(function(){return r.getQueryParamValue("r")||null})),ht(this,"getLatestHostUrl",(function(){try{return window.parent.document.location.toString()}catch(e){return null}})),ht(this,"getDelayTracking",(function(){var e;return(null===(e=r._uri)||void 0===e?void 0:e.query().includes(mt.delayTracking))||!1})),ht(this,"getStreamOrigin",(function(){var e=r.getQueryParamValue(mt.streamOrigin);if(!e)return null;var t=e.split(";");return t.length<3?null:t})),ht(this,"getStreamRanking",(function(){return parseInt(r.getQueryParamValue(mt.streamRanking),10)||0})),ht(this,"getEmbedId",(function(){var e,t=(null===(e=r._uri)||void 0===e?void 0:e.anchor())||"",n=/^([0-9]+)(?:\/|%2F)([0-9]+).*$/;return n.test(t)?t.replace(n,"$1/$2"):null}));var n=new je.a(t);if(this._uri=void 0,n.host().endsWith("issuu.com")?this._uri=n:n.host().endsWith("googleusercontent.com")?n.queryPairs.forEach((function(e){var t=it(e,2)[1],n=new je.a(t);n.host().endsWith("issuu.com")&&(r._uri=n)})):n.host().endsWith("fastly-terrarium.com")&&(this._uri=n),!this._uri)throw new Error("Unexpected query parameters")}return dt(e,[{key:"extractFullscreenFallbackArgs",value:function(){var e=this,t=[mt.enableSeeMore,mt.hideShare,mt.fullscreenBackgroundColor,mt.fullscreenBackgroundImage,mt.fullscreenBackgroundPosition,mt.fullscreenLogo,mt.layout].map((function(t){return e._uri&&e._uri.hasQueryParam(t)?"".concat(t,"=").concat(encodeURIComponent(e.getQueryParamValue(t))):null})).filter(Boolean);if(this._uri&&this._uri.hasQueryParam(mt.legacyViewMode)&&!this._uri.hasQueryParam(mt.layout)){var r="SINGLE_PAGE"===this.getLegacyViewMode()?"singlePage":"doublePage";t.unshift("".concat(mt.layout,"=").concat(r))}var n=this.getEmbedId();return"string"==typeof n&&t.unshift("e=".concat(n)),t.join("&")}}]),e}();function gt(e){return Math.floor(e*Math.random())}function _t(){for(var e="abcdefghijklmnopqrstuvwxyz0123456789",t="",r=0;r<12;r++)t+=e.charAt(gt(e.length));return t}r(82),r(78);function bt(e,t){return xt(e)||Tt(e,t)||Et(e,t)||wt()}function wt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Et(e,t){if(e){if("string"==typeof e)return Ot(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ot(e,t):void 0}}function Ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Tt(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}function xt(e){if(Array.isArray(e))return e}function kt(){return document.cookie.split(/\s*;\s*/).reduce((function(e,t){var r=bt(decodeURIComponent(t).split(/\s*=\s*/,2),2),n=r[0],o=r[1];return e[n]=o,e}),{})}var St="control",Pt=Array(20).fill("control");function Ct(){var e;try{e=new vt(window.parent.location.toString())}catch(t){e=new vt(window.location.toString())}return e.getQueryParamValue("experiment")}function At(){var e=Ct();if(e)return e;var t=kt(),r="string"==typeof t.iutk?parseInt(t.iutk.slice(0,8),16):null;return r?Pt[Math.floor(r/1e4)%Pt.length]:St}Pt[Pt.length-1]="new-links";var Rt=function(e){return{identifier:e||"control"}},jt=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rt(e);return t}};function It(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Dt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?It(Object(r),!0).forEach((function(t){Mt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):It(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Mt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lt(e,t){return{licenses:null,description:"",userDisplayName:e,title:t,access:"public",downloadable:!1}}function Nt(e,t,r,n,o){var i="".concat(e,"/call/backend-reader3/").concat("","dynamic/").concat(t,"/").concat(r),a=Date.now(),s=function(){return Math.round(Date.now()-a)};return B(i,{timeout:5e3,readerSessionHeader:n}).then((function(e){return o&&o.monitor("reader3-dynamicapi-stats",{success:1,success_time:s()}),e})).catch((function(e){if(o&&o.monitor("reader3-dynamicapi-stats",{failure:1,failure_time:s()}),e.name===R&&404===e.code)throw new D(A.DocumentNotLoad,-1);return{metadata:{},licenses:null}})).then((function(e){var n=e.metadata,o=void 0===n?{}:n,i=e.licenses;return Dt(Dt({},Lt(t,r)),{},{licenses:i},o)}))}function Bt(e,t,r){return new Promise((function(n,o){B("new-links"===At()?"".concat(e,"/call/backend-reader3/links/").concat(t,"/").concat(r):"".concat(e,"/call/reader/api/links/").concat(t,"/").concat(r)).then((function(e){n(e)}),(function(){o(new Error(A.ClippingNotLoad))}))}))}function Ft(e,t){return fetch("".concat(e,"/call/backend-reader3/").concat("","notify-smartzoom-missing?document_id=").concat(t),{method:"GET",headers:{"Content-Type":"application/x-www-form-urlencoded"}})}function Ut(e,t){return Gt(e)||Vt(e,t)||zt(e,t)||Wt()}function Wt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function zt(e,t){if(e){if("string"==typeof e)return Ht(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ht(e,t):void 0}}function Ht(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Vt(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}function Gt(e){if(Array.isArray(e))return e}function qt(e){return function(e){var t,r,n=e.origins,o=e.username,i=e.documentName,a=e.metrics,s=e.sessionId,u=e.isRobot,c=void 0!==u&&u;function l(){t=Ae(n.reader3,o,i),r=c?Promise.resolve(Lt(o,i)):Nt(n.api,o,i,s,a)}return l(),{reset:function(){l()},whenDocumentBaseFetched:function(){return t.then((function(e){return{pageCount:e.pages.length,pages:e.pages.map((function(e,t){return{pageNumber:t+1,height:e.height,width:e.width,layersInfo:e.layersInfo,imageUri:e.imageUri,isPagePaywalled:e.isPagePaywalled}})),isPaywalled:e.isPaywallPreview,originalPublishDate:e.originalPublishDate,publicationId:e.publicationId,revisionId:e.revisionId}}))},whenDocumentExtraFetched:function(){return Promise.all([t,r]).then((function(e){var t=Ut(e,2),r=t[0],n=t[1];return{publicationId:r.publicationId,revisionId:r.revisionId,username:o,documentName:i,access:n.access,description:n.description,downloadable:n.downloadable,title:n.title,userDisplayName:n.userDisplayName,contentRating:n.contentRating}}))},whenDocumentTextFetched:function(){return t.then((function(e){var t=e.textInfo;return{textInfoPath:t.uri,textInfoSize:t.size,textInfoVersion:t.version}}))},whenDocumentLinksFetched:function(){return c?Promise.resolve({}):Bt(n.api,o,i)},whenLicensesFetched:function(){return r.then((function(e){var t=e.licenses;if(!t)throw new Error("Licenses failed loading");return Object.keys(t)}))},whenSmartnavFetched:function(){return t.then((function(e){var t=e.smartzoomUri;return t?Te("https://".concat(t)):[]}))},username:o,documentName:i}}}var $t=qt();qt();function Kt(e){return(Kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Zt(e,t,r){return t&&Xt(e.prototype,t),r&&Xt(e,r),e}function Jt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qt(e,t)}function Qt(e,t){return(Qt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function er(e){var t=nr();return function(){var r,n=or(e);if(t){var o=or(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return tr(this,r)}}function tr(e,t){return!t||"object"!==Kt(t)&&"function"!=typeof t?rr(e):t}function rr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nr(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function or(e){return(or=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ir(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ar=function(e){Jt(r,e);var t=er(r);function r(){var e;Yt(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return ir(rr(e=t.call.apply(t,[this].concat(o))),"onRetry",(function(t){t.preventDefault(),e.props.reloadDocument&&e.props.reloadDocument()})),e}return Zt(r,[{key:"getConfig",value:function(){return this.props.error.name===I?this.getConfigForInactiveDocument():this.getConfigForEmbedError()}},{key:"getConfigForEmbedError",value:function(){var e=this.props.embedId?this.props.embedId:"undefined";return{message:"".concat(this.props.error.message," (").concat(e,")"),icon:c.createElement("div",{className:"failed__icon",dangerouslySetInnerHTML:{__html:f}}),retry:{display:"none"},errorId:{}}}},{key:"getConfigForInactiveDocument",value:function(){var e={message:"Something went wrong",icon:c.createElement("div",{className:"failed__icon",dangerouslySetInnerHTML:{__html:f}}),retry:{},errorId:{}};switch(this.props.error.code){case h:e.message="The content you are trying to view is not currently available.",e.icon=c.createElement("div",{className:"failed__icon",dangerouslySetInnerHTML:{__html:p}}),e.retry.display="none",e.errorId.display="none";break;case d:case y:case m:e.message="Sorry, this publication is not available",e.retry.display="none",e.errorId.display="none"}return e}},{key:"render",value:function(){var e=this.getConfig();return c.createElement("div",{className:"failed"},e.icon,c.createElement("h1",{className:"failed__message"},e.message),c.createElement("div",{className:"failed__retry-link-container",style:e.retry},c.createElement("a",{className:"failed__retry-link",href:"#",onClick:this.onRetry},"Try again")),c.createElement("div",{className:"failed__help"},c.createElement("div",{className:"failed__error-token",style:e.errorId},"Error ID: ",this.props.sessionId),c.createElement("div",{className:"failed__spacer",style:e.errorId}),c.createElement("div",{className:"failed__support-link-container"},c.createElement("a",{className:"failed__support-link",href:"http://help.issuu.com",target:"_blank"},"help.issuu.com"))))}}]),r}(c.Component);function sr(e){return(sr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ur(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function lr(e,t,r){return t&&cr(e.prototype,t),r&&cr(e,r),e}function fr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pr(e,t)}function pr(e,t){return(pr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function dr(e){var t=mr();return function(){var r,n=vr(e);if(t){var o=vr(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return hr(this,r)}}function hr(e,t){return!t||"object"!==sr(t)&&"function"!=typeof t?yr(e):t}function yr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mr(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function vr(e){return(vr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}ir(ar,"displayName","Failed");var _r=function(e){fr(r,e);var t=dr(r);function r(){return ur(this,r),t.apply(this,arguments)}return lr(r,[{key:"render",value:function(){var e=this.props,t=e.username,r=e.documentName,n=e.mainOrigin,o=e.initialPageNumber,i=e.embedId,a="".concat(n,"/").concat(t,"/docs/").concat(r);return o>1&&(a="".concat(a,"/").concat(o)),a=i?"".concat(a,"?e=").concat(encodeURIComponent(i)):"".concat(a,"?e=0"),c.createElement("div",{className:"bot-reader"},c.createElement("a",{href:a,target:"_blank"},"Read on issuu"))}}]),r}(c.Component);gr(_r,"displayName","BotReader");var br='\n    <svg width="100%" height="100%" viewBox="-2 0 60 14" style="fill: #fff">\n        <g>\n            <path d="M6.83590808,3.64127016 C5.02752664,3.6236996 3.54764132,5.11190524 3.53049341,6.96464718 C3.5133455,8.81760081 4.96575284,10.3339617 6.77413428,10.3515323 C8.58251571,10.3688911 10.0626076,8.88089718 10.0795489,7.02815524 C10.0966969,5.17520161 8.64428951,3.65862903 6.83590808,3.64127016 L6.83590808,3.64127016 Z M6.78942278,8.69524194 C5.87376569,8.68635081 5.13826495,7.91853831 5.14694221,6.9803125 C5.15561947,6.04208669 5.90496249,5.28845766 6.82061958,5.29734879 C7.73627667,5.30623992 8.4717774,6.07405242 8.46310015,7.01248992 C8.45442289,7.95050403 7.70507987,8.70413306 6.78942278,8.69524194 L6.78942278,8.69524194 Z"></path>\n            <path d="M6.75843258,0.424375 C6.74830911,0.424375 6.73818565,0.424798387 6.72785558,0.424798387 L6.72785558,0.424163306 L0.856245804,0.424163306 C0.562045511,0.424163306 0.321148361,0.67078629 0.321148361,0.972449597 L0.321148361,7.02053427 C0.321148361,10.6633569 3.2032369,13.6164819 6.75843258,13.6164819 C10.3138349,13.6164819 13.1957168,10.6633569 13.1957168,7.02053427 C13.1957168,3.3775 10.3138349,0.424375 6.75843258,0.424375 L6.75843258,0.424375 Z M2.33592452,6.92929435 C2.35927047,4.40019153 4.37921167,2.36920363 6.84747775,2.39291331 C9.31574383,2.41683468 11.2980836,4.48677419 11.274531,7.01566532 C11.2513917,9.54455645 9.23124389,11.5755444 6.76318441,11.551623 C4.29491833,11.5277016 2.31257857,9.45797379 2.33592452,6.92929435 L2.33592452,6.92929435 Z"></path>\n            <path d="M6.83590808,3.64127016 C5.02752664,3.6236996 3.54764132,5.11190524 3.53049341,6.96464718 C3.5133455,8.81760081 4.96575284,10.3339617 6.77413428,10.3515323 C8.58251571,10.3688911 10.0626076,8.88089718 10.0795489,7.02815524 C10.0966969,5.17520161 8.64428951,3.65862903 6.83590808,3.64127016 L6.83590808,3.64127016 Z M6.78942278,8.69524194 C5.87376569,8.68635081 5.13826495,7.91853831 5.14694221,6.9803125 C5.15561947,6.04208669 5.90496249,5.28845766 6.82061958,5.29734879 C7.73627667,5.30623992 8.4717774,6.07405242 8.46310015,7.01248992 C8.45442289,7.95050403 7.70507987,8.70413306 6.78942278,8.69524194 L6.78942278,8.69524194 Z"></path>\n            <path d="M6.75843258,0.424375 C6.74830911,0.424375 6.73818565,0.424798387 6.72785558,0.424798387 L6.72785558,0.424163306 L0.856245804,0.424163306 C0.562045511,0.424163306 0.321148361,0.67078629 0.321148361,0.972449597 L0.321148361,7.02053427 C0.321148361,10.6633569 3.2032369,13.6164819 6.75843258,13.6164819 C10.3138349,13.6164819 13.1957168,10.6633569 13.1957168,7.02053427 C13.1957168,3.3775 10.3138349,0.424375 6.75843258,0.424375 L6.75843258,0.424375 Z M2.33592452,6.92929435 C2.35927047,4.40019153 4.37921167,2.36920363 6.84747775,2.39291331 C9.31574383,2.41683468 11.2980836,4.48677419 11.274531,7.01566532 C11.2513917,9.54455645 9.23124389,11.5755444 6.76318441,11.551623 C4.29491833,11.5277016 2.31257857,9.45797379 2.33592452,6.92929435 L2.33592452,6.92929435 Z"></path>\n        </g>\n        <g transform="translate(17.000000, 0.000000)">\n            <path d="M1.18803132,0.461209677 C1.75267275,0.461209677 2.22289738,0.943235887 2.22289738,1.52137097 C2.22289738,2.09950605 1.75267275,2.58110887 1.18803132,2.58110887 C0.624009688,2.58110887 0.153578461,2.09950605 0.153578461,1.52137097 C0.153578461,0.943235887 0.624009688,0.461209677 1.18803132,0.461209677 L1.18803132,0.461209677 Z M1.18803132,12.5656351 C0.661197927,12.5656351 0.30419083,12.160877 0.30419083,11.6597984 L0.30419083,4.79775202 C0.30419083,4.29709677 0.680411851,3.89212702 1.18803132,3.89212702 C1.69627059,3.89212702 2.07228501,4.29709677 2.07228501,4.79775202 L2.07228501,11.6597984 C2.07228501,12.160877 1.71486471,12.5656351 1.18803132,12.5656351 L1.18803132,12.5656351 Z"></path>\n            <path d="M7.56498795,12.6429032 C6.37971612,12.6429032 5.32646254,12.2574093 4.5742271,11.6597984 C4.31101701,11.4478931 4.19779948,11.1587198 4.19779948,10.9080746 C4.19779948,10.522369 4.49902422,10.2715121 4.87524524,10.2715121 C5.17585017,10.2715121 5.36427059,10.3877319 5.57107852,10.5420565 C6.07890458,10.9273387 6.79353858,11.2931452 7.69679959,11.2931452 C8.71265833,11.2931452 9.25808584,10.9080746 9.25808584,10.3104637 C9.25808584,9.65548387 8.73125245,9.40462702 7.41437558,9.03797379 C5.10085389,8.40268145 4.25440825,7.59231855 4.25440825,6.20509073 C4.25440825,4.75943548 5.5522778,3.81485887 7.58399527,3.81485887 C8.35503143,3.81485887 9.2200712,4.00771169 9.91631767,4.35446573 C10.4241437,4.60511089 10.781564,4.91333669 10.781564,5.29904234 C10.781564,5.64579637 10.5935568,5.97392137 10.1045315,5.97392137 C9.85991551,5.97392137 9.61529954,5.858125 9.33328872,5.70337702 C8.80624873,5.41462702 8.22321978,5.26114919 7.54639383,5.26114919 C6.60573797,5.26114919 5.96610026,5.51137097 5.96610026,6.18561492 C5.96610026,6.84144153 6.53053509,7.05292339 7.8848068,7.45789315 C9.91631767,8.05529234 10.9697779,8.61416331 10.9697779,10.1754032 C10.9697779,11.602006 9.80351335,12.6429032 7.56498795,12.6429032"></path>\n            <path d="M16.0804749,12.6429032 C14.8952031,12.6429032 13.8415363,12.2574093 13.0893009,11.6597984 C12.8258842,11.4478931 12.7130799,11.1587198 12.7130799,10.9080746 C12.7130799,10.522369 13.014098,10.2715121 13.390319,10.2715121 C13.6913372,10.2715121 13.8791378,10.3877319 14.0863589,10.5420565 C14.5939784,10.9273387 15.3086124,11.2931452 16.2114602,11.2931452 C17.2275255,11.2931452 17.772953,10.9080746 17.772953,10.3104637 C17.772953,9.65548387 17.2465328,9.40462702 15.9298626,9.03797379 C13.6159277,8.40268145 12.7696886,7.59231855 12.7696886,6.20509073 C12.7696886,4.75943548 14.0677648,3.81485887 16.0990691,3.81485887 C16.8703118,3.81485887 17.7357648,4.00771169 18.4318047,4.35446573 C18.9392175,4.60511089 19.297051,4.91333669 19.297051,5.29904234 C19.297051,5.64579637 19.1088372,5.97392137 18.6193987,5.97392137 C18.3749893,5.97392137 18.1303733,5.858125 17.8485691,5.70337702 C17.3219423,5.41462702 16.7385002,5.26114919 16.0614676,5.26114919 C15.1208118,5.26114919 14.4813806,5.51137097 14.4813806,6.18561492 C14.4813806,6.84144153 15.0454023,7.05292339 16.4000872,7.45789315 C18.4318047,8.05529234 19.4850582,8.61416331 19.4850582,10.1754032 C19.4850582,11.602006 18.3185871,12.6429032 16.0804749,12.6429032"></path>\n            <path d="M21.1926182,8.61416331 L21.1926182,4.79775202 C21.1926182,4.29709677 21.5878466,3.89212702 22.0768719,3.89212702 C22.5658973,3.89212702 22.9611256,4.29709677 22.9611256,4.79775202 L22.9611256,8.82606855 C22.9611256,10.0409778 23.8823609,10.9849194 25.1246547,10.9849194 C26.3659155,10.9849194 27.3063648,10.0409778 27.3063648,8.82606855 L27.3063648,4.79775202 C27.3063648,4.29709677 27.7015931,3.89212702 28.1902052,3.89212702 C28.679024,3.89212702 29.0740457,4.29709677 29.0740457,4.79775202 L29.0740457,8.61416331 C29.0740457,10.8697581 27.4001618,12.6429032 25.1246547,12.6429032 C22.8481147,12.6429032 21.1926182,10.8697581 21.1926182,8.61416331"></path>\n            <path d="M31.0324197,8.61416331 L31.0324197,4.79775202 C31.0324197,4.29709677 31.4272349,3.89212702 31.9164668,3.89212702 C32.405079,3.89212702 32.8003073,4.29709677 32.8003073,4.79775202 L32.8003073,8.82606855 C32.8003073,10.0409778 33.7225756,10.9849194 34.9636298,10.9849194 C36.2048906,10.9849194 37.1455465,10.0409778 37.1455465,8.82606855 L37.1455465,4.79775202 C37.1455465,4.29709677 37.5407748,3.89212702 38.0298002,3.89212702 C38.5192387,3.89212702 38.9136406,4.29709677 38.9136406,4.79775202 L38.9136406,8.61416331 C38.9136406,10.8697581 37.2401699,12.6429032 34.9636298,12.6429032 C32.6872964,12.6429032 31.0324197,10.8697581 31.0324197,8.61416331"></path>\n            <path d="M1.18803132,0.461209677 C1.75267275,0.461209677 2.22289738,0.943235887 2.22289738,1.52137097 C2.22289738,2.09950605 1.75267275,2.58110887 1.18803132,2.58110887 C0.624009688,2.58110887 0.153578461,2.09950605 0.153578461,1.52137097 C0.153578461,0.943235887 0.624009688,0.461209677 1.18803132,0.461209677 L1.18803132,0.461209677 Z M1.18803132,12.5656351 C0.661197927,12.5656351 0.30419083,12.160877 0.30419083,11.6597984 L0.30419083,4.79775202 C0.30419083,4.29709677 0.680411851,3.89212702 1.18803132,3.89212702 C1.69627059,3.89212702 2.07228501,4.29709677 2.07228501,4.79775202 L2.07228501,11.6597984 C2.07228501,12.160877 1.71486471,12.5656351 1.18803132,12.5656351 L1.18803132,12.5656351 Z"></path>\n            <path d="M7.56498795,12.6429032 C6.37971612,12.6429032 5.32646254,12.2574093 4.5742271,11.6597984 C4.31101701,11.4478931 4.19779948,11.1587198 4.19779948,10.9080746 C4.19779948,10.522369 4.49902422,10.2715121 4.87524524,10.2715121 C5.17585017,10.2715121 5.36427059,10.3877319 5.57107852,10.5420565 C6.07890458,10.9273387 6.79353858,11.2931452 7.69679959,11.2931452 C8.71265833,11.2931452 9.25808584,10.9080746 9.25808584,10.3104637 C9.25808584,9.65548387 8.73125245,9.40462702 7.41437558,9.03797379 C5.10085389,8.40268145 4.25440825,7.59231855 4.25440825,6.20509073 C4.25440825,4.75943548 5.5522778,3.81485887 7.58399527,3.81485887 C8.35503143,3.81485887 9.2200712,4.00771169 9.91631767,4.35446573 C10.4241437,4.60511089 10.781564,4.91333669 10.781564,5.29904234 C10.781564,5.64579637 10.5935568,5.97392137 10.1045315,5.97392137 C9.85991551,5.97392137 9.61529954,5.858125 9.33328872,5.70337702 C8.80624873,5.41462702 8.22321978,5.26114919 7.54639383,5.26114919 C6.60573797,5.26114919 5.96610026,5.51137097 5.96610026,6.18561492 C5.96610026,6.84144153 6.53053509,7.05292339 7.8848068,7.45789315 C9.91631767,8.05529234 10.9697779,8.61416331 10.9697779,10.1754032 C10.9697779,11.602006 9.80351335,12.6429032 7.56498795,12.6429032"></path>\n            <path d="M16.0804749,12.6429032 C14.8952031,12.6429032 13.8415363,12.2574093 13.0893009,11.6597984 C12.8258842,11.4478931 12.7130799,11.1587198 12.7130799,10.9080746 C12.7130799,10.522369 13.014098,10.2715121 13.390319,10.2715121 C13.6913372,10.2715121 13.8791378,10.3877319 14.0863589,10.5420565 C14.5939784,10.9273387 15.3086124,11.2931452 16.2114602,11.2931452 C17.2275255,11.2931452 17.772953,10.9080746 17.772953,10.3104637 C17.772953,9.65548387 17.2465328,9.40462702 15.9298626,9.03797379 C13.6159277,8.40268145 12.7696886,7.59231855 12.7696886,6.20509073 C12.7696886,4.75943548 14.0677648,3.81485887 16.0990691,3.81485887 C16.8703118,3.81485887 17.7357648,4.00771169 18.4318047,4.35446573 C18.9392175,4.60511089 19.297051,4.91333669 19.297051,5.29904234 C19.297051,5.64579637 19.1088372,5.97392137 18.6193987,5.97392137 C18.3749893,5.97392137 18.1303733,5.858125 17.8485691,5.70337702 C17.3219423,5.41462702 16.7385002,5.26114919 16.0614676,5.26114919 C15.1208118,5.26114919 14.4813806,5.51137097 14.4813806,6.18561492 C14.4813806,6.84144153 15.0454023,7.05292339 16.4000872,7.45789315 C18.4318047,8.05529234 19.4850582,8.61416331 19.4850582,10.1754032 C19.4850582,11.602006 18.3185871,12.6429032 16.0804749,12.6429032"></path>\n            <path d="M21.1926182,8.61416331 L21.1926182,4.79775202 C21.1926182,4.29709677 21.5878466,3.89212702 22.0768719,3.89212702 C22.5658973,3.89212702 22.9611256,4.29709677 22.9611256,4.79775202 L22.9611256,8.82606855 C22.9611256,10.0409778 23.8823609,10.9849194 25.1246547,10.9849194 C26.3659155,10.9849194 27.3063648,10.0409778 27.3063648,8.82606855 L27.3063648,4.79775202 C27.3063648,4.29709677 27.7015931,3.89212702 28.1902052,3.89212702 C28.679024,3.89212702 29.0740457,4.29709677 29.0740457,4.79775202 L29.0740457,8.61416331 C29.0740457,10.8697581 27.4001618,12.6429032 25.1246547,12.6429032 C22.8481147,12.6429032 21.1926182,10.8697581 21.1926182,8.61416331"></path>\n            <path d="M31.0324197,8.61416331 L31.0324197,4.79775202 C31.0324197,4.29709677 31.4272349,3.89212702 31.9164668,3.89212702 C32.405079,3.89212702 32.8003073,4.29709677 32.8003073,4.79775202 L32.8003073,8.82606855 C32.8003073,10.0409778 33.7225756,10.9849194 34.9636298,10.9849194 C36.2048906,10.9849194 37.1455465,10.0409778 37.1455465,8.82606855 L37.1455465,4.79775202 C37.1455465,4.29709677 37.5407748,3.89212702 38.0298002,3.89212702 C38.5192387,3.89212702 38.9136406,4.29709677 38.9136406,4.79775202 L38.9136406,8.61416331 C38.9136406,10.8697581 37.2401699,12.6429032 34.9636298,12.6429032 C32.6872964,12.6429032 31.0324197,10.8697581 31.0324197,8.61416331"></path>\n        </g>\n    </svg>\n';function wr(e){return(wr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Er(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Or(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Tr(e,t,r){return t&&Or(e.prototype,t),r&&Or(e,r),e}function xr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kr(e,t)}function kr(e,t){return(kr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Sr(e){var t=Ar();return function(){var r,n=Rr(e);if(t){var o=Rr(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Pr(this,r)}}function Pr(e,t){return!t||"object"!==wr(t)&&"function"!=typeof t?Cr(e):t}function Cr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ar(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Rr(e){return(Rr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ir="reader3-features.LINK_BELOW_EMBED_OPEN",Dr="reader3-features.LINK_BELOW_EMBED_YCPT",Mr=function(e){xr(r,e);var t=Sr(r);function r(){var e;Er(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return jr(Cr(e=t.call.apply(t,[this].concat(o))),"_firstUsage",{}),jr(Cr(e),"onPoweredByIssuu",(function(t){e.trackUsage(Ir)})),jr(Cr(e),"onPublishForFree",(function(t){e.trackUsage(Dr)})),jr(Cr(e),"trackOpportunity",(function(t){e.props.metrics&&e.props.metrics.monitor(t,{opportunity:1})})),jr(Cr(e),"trackUsage",(function(t){e.props.metrics&&(e.props.metrics.monitor(t,{usageRepeat:1,usageFirst:e._firstUsage[t]?0:1}),e._firstUsage[t]=!0)})),e}return Tr(r,[{key:"componentDidMount",value:function(){this.trackOpportunity(Ir),this.trackOpportunity(Dr)}},{key:"renderEmoji",value:function(){var e="".concat(this.props.creatorHubOrigin,"/features").concat(Ie("created_by",this.props.embedTrackingQuery));return c.createElement("div",{className:"issuu-branding-emoji"},c.createElement("a",{href:e,onClick:this.onPoweredByIssuu,className:"issuu-branding-emoji__link",target:"_blank"},c.createElement("span",{className:"issuu-branding-emoji__text"},"Created with"),c.createElement("span",{className:"issuu-branding-emoji__emoji"},"🧡"),c.createElement("span",{className:"issuu-branding-emoji__text"},"on Issuu")))}},{key:"renderOriginal",value:function(){var e="".concat(this.props.creatorHubOrigin,"/features").concat(Ie("powered_by",this.props.embedTrackingQuery)),t="".concat(this.props.mainOrigin,"/tryissuu").concat(Ie("publish_for_free",this.props.embedTrackingQuery));return c.createElement("div",{className:"issuu-branding"},c.createElement("div",{className:"powered-by"},c.createElement("span",{className:"powered-by-text"},"Powered by"),c.createElement("span",{className:"powered-by-link"},c.createElement("a",{href:e,onClick:this.onPoweredByIssuu,target:"_blank",dangerouslySetInnerHTML:{__html:br}}))),c.createElement("span",{className:"publish-for-free"},c.createElement("a",{className:"publish-for-free-link",href:t,onClick:this.onPublishForFree,target:"_blank"},"Publish for Free")))}},{key:"render",value:function(){return this.props.useEmojiBranding?this.renderEmoji():this.renderOriginal()}}]),r}(c.Component);jr(Mr,"displayName","IssuuBranding");r(16);var Lr="@reader3/paywall/PAYWALL_PUBLICATION_LOADING",Nr="@reader3/paywall/PAYWALL_PUBLICATION_LOADED",Br="@reader3/paywall/PAYWALL_PUBLICATION_LOADING_ERROR",Fr={status:"NOTLOADED",isNotAvailable:!1,isPaid:!1,publicationPriceAmount:0,publicationPriceCurrency:"USD",readPurchasedPath:null};function Ur(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Lr:return Object.assign({},e,{status:"LOADING"});case Br:return Object.assign({},e,{status:"ERROR"});case Nr:return{status:"LOADED",isNotAvailable:!!t.isNotAvailable,isPaid:!!t.currentUserPurchased,publicationPriceAmount:t.priceAmount,publicationPriceCurrency:t.priceCurrency,readPurchasedPath:t.readPurchasedPath};default:return e}}var Wr=r(199),zr=function(){return Math.random().toString(36).substring(7).split("").join(".")},Hr={INIT:"@@redux/INIT"+zr(),REPLACE:"@@redux/REPLACE"+zr(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+zr()}};function Vr(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Gr(e,t,r){var n;if("function"==typeof t&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"==typeof t&&void 0===r&&(r=t,t=void 0),void 0!==r){if("function"!=typeof r)throw new Error("Expected the enhancer to be a function.");return r(Gr)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var o=e,i=t,a=[],s=a,u=!1;function c(){s===a&&(s=a.slice())}function l(){if(u)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return i}function f(e){if("function"!=typeof e)throw new Error("Expected the listener to be a function.");if(u)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var t=!0;return c(),s.push(e),function(){if(t){if(u)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");t=!1,c();var r=s.indexOf(e);s.splice(r,1),a=null}}}function p(e){if(!Vr(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(u)throw new Error("Reducers may not dispatch actions.");try{u=!0,i=o(i,e)}finally{u=!1}for(var t=a=s,r=0;r<t.length;r++){(0,t[r])()}return e}function d(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");o=e,p({type:Hr.REPLACE})}function h(){var e,t=f;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function r(){e.next&&e.next(l())}return r(),{unsubscribe:t(r)}}})[Wr.a]=function(){return this},e}return p({type:Hr.INIT}),(n={dispatch:p,subscribe:f,getState:l,replaceReducer:d})[Wr.a]=h,n}function qr(e,t){return function(){return t(e.apply(this,arguments))}}function $r(e,t){if("function"==typeof e)return qr(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var r={};for(var n in e){var o=e[n];"function"==typeof o&&(r[n]=qr(o,t))}return r}function Kr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yr(e,t){var r=Object.keys(e);return Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(e)),t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r}function Xr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Yr(r,!0).forEach((function(t){Kr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yr(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Zr(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function Jr(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return function(){var r=e.apply(void 0,arguments),n=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},o={getState:r.getState,dispatch:function(){return n.apply(void 0,arguments)}},i=t.map((function(e){return e(o)}));return Xr({},r,{dispatch:n=Zr.apply(void 0,i)(r.dispatch)})}}}r(243);var Qr=l.a.createContext(null);function en(e){e()}var tn=en,rn=function(e){return tn=e},nn=function(){return tn},on={notify:function(){}};function an(){var e=nn(),t=null,r=null;return{clear:function(){t=null,r=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],r=t;r;)e.push(r),r=r.next;return e},subscribe:function(e){var n=!0,o=r={callback:e,next:null,prev:r};return o.prev?o.prev.next=o:t=o,function(){n&&null!==t&&(n=!1,o.next?o.next.prev=o.prev:r=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}var sn=function(){function e(e,t){this.store=e,this.parentSub=t,this.unsubscribe=null,this.listeners=on,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=an())},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=on)},e}();function un(e){var t=e.store,r=e.context,n=e.children,o=Object(c.useMemo)((function(){var e=new sn(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}}),[t]),i=Object(c.useMemo)((function(){return t.getState()}),[t]);Object(c.useEffect)((function(){var e=o.subscription;return e.trySubscribe(),i!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[o,i]);var a=r||Qr;return l.a.createElement(a.Provider,{value:o},n)}var cn=un;function ln(){return(ln=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function fn(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}var pn=r(118),dn=r.n(pn),hn=r(117),yn="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?c.useLayoutEffect:c.useEffect,mn=[],vn=[null,null];function gn(e,t){var r=e[1];return[t.payload,r+1]}function _n(e,t,r){yn((function(){return e.apply(void 0,t)}),r)}function bn(e,t,r,n,o,i,a){e.current=n,t.current=o,r.current=!1,i.current&&(i.current=null,a())}function wn(e,t,r,n,o,i,a,s,u,c){if(e){var l=!1,f=null,p=function(){if(!l){var e,r,p=t.getState();try{e=n(p,o.current)}catch(e){r=e,f=e}r||(f=null),e===i.current?a.current||u():(i.current=e,s.current=e,a.current=!0,c({type:"STORE_UPDATED",payload:{error:r}}))}};r.onStateChange=p,r.trySubscribe(),p();return function(){if(l=!0,r.tryUnsubscribe(),r.onStateChange=null,f)throw f}}}var En=function(){return[null,0]};function On(e,t){void 0===t&&(t={});var r=t,n=r.getDisplayName,o=void 0===n?function(e){return"ConnectAdvanced("+e+")"}:n,i=r.methodName,a=void 0===i?"connectAdvanced":i,s=r.renderCountProp,u=void 0===s?void 0:s,f=r.shouldHandleStateChanges,p=void 0===f||f,d=r.storeKey,h=void 0===d?"store":d,y=(r.withRef,r.forwardRef),m=void 0!==y&&y,v=r.context,g=void 0===v?Qr:v,_=fn(r,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]),b=g;return function(t){var r=t.displayName||t.name||"Component",n=o(r),i=ln({},_,{getDisplayName:o,methodName:a,renderCountProp:u,shouldHandleStateChanges:p,storeKey:h,displayName:n,wrappedComponentName:r,WrappedComponent:t}),s=_.pure;var f=s?c.useMemo:function(e){return e()};function d(r){var n=Object(c.useMemo)((function(){var e=r.reactReduxForwardedRef,t=fn(r,["reactReduxForwardedRef"]);return[r.context,e,t]}),[r]),o=n[0],a=n[1],s=n[2],u=Object(c.useMemo)((function(){return o&&o.Consumer&&Object(hn.isContextConsumer)(l.a.createElement(o.Consumer,null))?o:b}),[o,b]),d=Object(c.useContext)(u),h=Boolean(r.store)&&Boolean(r.store.getState)&&Boolean(r.store.dispatch);Boolean(d)&&Boolean(d.store);var y=h?r.store:d.store,m=Object(c.useMemo)((function(){return function(t){return e(t.dispatch,i)}(y)}),[y]),v=Object(c.useMemo)((function(){if(!p)return vn;var e=new sn(y,h?null:d.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[y,h,d]),g=v[0],_=v[1],w=Object(c.useMemo)((function(){return h?d:ln({},d,{subscription:g})}),[h,d,g]),E=Object(c.useReducer)(gn,mn,En),O=E[0][0],T=E[1];if(O&&O.error)throw O.error;var x=Object(c.useRef)(),k=Object(c.useRef)(s),S=Object(c.useRef)(),P=Object(c.useRef)(!1),C=f((function(){return S.current&&s===k.current?S.current:m(y.getState(),s)}),[y,O,s]);_n(bn,[k,x,P,s,C,S,_]),_n(wn,[p,y,g,m,k,x,P,S,_,T],[y,g,m]);var A=Object(c.useMemo)((function(){return l.a.createElement(t,ln({},C,{ref:a}))}),[a,t,C]);return Object(c.useMemo)((function(){return p?l.a.createElement(u.Provider,{value:w},A):A}),[u,A,w])}var y=s?l.a.memo(d):d;if(y.WrappedComponent=t,y.displayName=n,m){var v=l.a.forwardRef((function(e,t){return l.a.createElement(y,ln({},e,{reactReduxForwardedRef:t}))}));return v.displayName=n,v.WrappedComponent=t,dn()(v,t)}return dn()(y,t)}}function Tn(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function xn(e,t){if(Tn(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var o=0;o<r.length;o++)if(!Object.prototype.hasOwnProperty.call(t,r[o])||!Tn(e[r[o]],t[r[o]]))return!1;return!0}function kn(e){return function(t,r){var n=e(t,r);function o(){return n}return o.dependsOnOwnProps=!1,o}}function Sn(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function Pn(e,t){return function(t,r){r.displayName;var n=function(e,t){return n.dependsOnOwnProps?n.mapToProps(e,t):n.mapToProps(e)};return n.dependsOnOwnProps=!0,n.mapToProps=function(t,r){n.mapToProps=e,n.dependsOnOwnProps=Sn(e);var o=n(t,r);return"function"==typeof o&&(n.mapToProps=o,n.dependsOnOwnProps=Sn(o),o=n(t,r)),o},n}}function Cn(e){return"function"==typeof e?Pn(e):void 0}function An(e){return e?void 0:kn((function(e){return{dispatch:e}}))}function Rn(e){return e&&"object"==typeof e?kn((function(t){return $r(e,t)})):void 0}var jn=[Cn,An,Rn];function In(e){return"function"==typeof e?Pn(e):void 0}function Dn(e){return e?void 0:kn((function(){return{}}))}var Mn=[In,Dn];function Ln(e,t,r){return ln({},r,e,t)}function Nn(e){return function(t,r){r.displayName;var n,o=r.pure,i=r.areMergedPropsEqual,a=!1;return function(t,r,s){var u=e(t,r,s);return a?o&&i(u,n)||(n=u):(a=!0,n=u),n}}}function Bn(e){return"function"==typeof e?Nn(e):void 0}function Fn(e){return e?void 0:function(){return Ln}}var Un=[Bn,Fn];function Wn(e,t,r,n){return function(o,i){return r(e(o,i),t(n,i),i)}}function zn(e,t,r,n,o){var i,a,s,u,c,l=o.areStatesEqual,f=o.areOwnPropsEqual,p=o.areStatePropsEqual,d=!1;function h(o,d){var h,y,m=!f(d,a),v=!l(o,i);return i=o,a=d,m&&v?(s=e(i,a),t.dependsOnOwnProps&&(u=t(n,a)),c=r(s,u,a)):m?(e.dependsOnOwnProps&&(s=e(i,a)),t.dependsOnOwnProps&&(u=t(n,a)),c=r(s,u,a)):v?(h=e(i,a),y=!p(h,s),s=h,y&&(c=r(s,u,a)),c):c}return function(o,l){return d?h(o,l):(s=e(i=o,a=l),u=t(n,a),c=r(s,u,a),d=!0,c)}}function Hn(e,t){var r=t.initMapStateToProps,n=t.initMapDispatchToProps,o=t.initMergeProps,i=fn(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),a=r(e,i),s=n(e,i),u=o(e,i);return(i.pure?zn:Wn)(a,s,u,e,i)}function Vn(e,t,r){for(var n=t.length-1;n>=0;n--){var o=t[n](e);if(o)return o}return function(t,n){throw new Error("Invalid value of type "+typeof e+" for "+r+" argument when connecting component "+n.wrappedComponentName+".")}}function Gn(e,t){return e===t}function qn(e){var t=void 0===e?{}:e,r=t.connectHOC,n=void 0===r?On:r,o=t.mapStateToPropsFactories,i=void 0===o?Mn:o,a=t.mapDispatchToPropsFactories,s=void 0===a?jn:a,u=t.mergePropsFactories,c=void 0===u?Un:u,l=t.selectorFactory,f=void 0===l?Hn:l;return function(e,t,r,o){void 0===o&&(o={});var a=o,u=a.pure,l=void 0===u||u,p=a.areStatesEqual,d=void 0===p?Gn:p,h=a.areOwnPropsEqual,y=void 0===h?xn:h,m=a.areStatePropsEqual,v=void 0===m?xn:m,g=a.areMergedPropsEqual,_=void 0===g?xn:g,b=fn(a,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),w=Vn(e,i,"mapStateToProps"),E=Vn(t,s,"mapDispatchToProps"),O=Vn(r,c,"mergeProps");return n(f,ln({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:w,initMapDispatchToProps:E,initMergeProps:O,pure:l,areStatesEqual:d,areOwnPropsEqual:y,areStatePropsEqual:v,areMergedPropsEqual:_},b))}}var $n=qn();rn(s.unstable_batchedUpdates);var Kn=r(1),Yn=r(39),Xn=r(401),Zn=Object(Yn.e)(),Jn="Sentry Logger ",Qn=function(){function e(){this._enabled=!1}return e.prototype.disable=function(){this._enabled=!1},e.prototype.enable=function(){this._enabled=!0},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._enabled&&Object(Yn.c)((function(){Zn.console.log(Jn+"[Log]: "+e.join(" "))}))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._enabled&&Object(Yn.c)((function(){Zn.console.warn(Jn+"[Warn]: "+e.join(" "))}))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._enabled&&Object(Yn.c)((function(){Zn.console.error(Jn+"[Error]: "+e.join(" "))}))},e}();Zn.__SENTRY__=Zn.__SENTRY__||{};var eo,to=Zn.__SENTRY__.logger||(Zn.__SENTRY__.logger=new Qn),ro=r(144),no=r(18);!function(e){e.PENDING="PENDING",e.RESOLVED="RESOLVED",e.REJECTED="REJECTED"}(eo||(eo={}));var oo,io=function(){function e(e){var t=this;this._state=eo.PENDING,this._handlers=[],this._resolve=function(e){t._setResult(eo.RESOLVED,e)},this._reject=function(e){t._setResult(eo.REJECTED,e)},this._setResult=function(e,r){t._state===eo.PENDING&&(Object(no.m)(r)?r.then(t._resolve,t._reject):(t._state=e,t._value=r,t._executeHandlers()))},this._attachHandler=function(e){t._handlers=t._handlers.concat(e),t._executeHandlers()},this._executeHandlers=function(){if(t._state!==eo.PENDING){var e=t._handlers.slice();t._handlers=[],e.forEach((function(e){e.done||(t._state===eo.RESOLVED&&e.onfulfilled&&e.onfulfilled(t._value),t._state===eo.REJECTED&&e.onrejected&&e.onrejected(t._value),e.done=!0)}))}};try{e(this._resolve,this._reject)}catch(e){this._reject(e)}}return e.resolve=function(t){return new e((function(e){e(t)}))},e.reject=function(t){return new e((function(e,r){r(t)}))},e.all=function(t){return new e((function(r,n){if(Array.isArray(t))if(0!==t.length){var o=t.length,i=[];t.forEach((function(t,a){e.resolve(t).then((function(e){i[a]=e,0===(o-=1)&&r(i)})).then(null,n)}))}else r([]);else n(new TypeError("Promise.all requires an array as input."))}))},e.prototype.then=function(t,r){var n=this;return new e((function(e,o){n._attachHandler({done:!1,onfulfilled:function(r){if(t)try{return void e(t(r))}catch(e){return void o(e)}else e(r)},onrejected:function(t){if(r)try{return void e(r(t))}catch(e){return void o(e)}else o(t)}})}))},e.prototype.catch=function(e){return this.then((function(e){return e}),e)},e.prototype.finally=function(t){var r=this;return new e((function(e,n){var o,i;return r.then((function(e){i=!1,o=e,t&&t()}),(function(e){i=!0,o=e,t&&t()})).then((function(){i?n(o):e(o)}))}))},e.prototype.toString=function(){return"[object SyncPromise]"},e}(),ao=function(){function e(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={}}return e.clone=function(t){var r=new e;return t&&(r._breadcrumbs=Object(Kn.e)(t._breadcrumbs),r._tags=Object(Kn.a)({},t._tags),r._extra=Object(Kn.a)({},t._extra),r._contexts=Object(Kn.a)({},t._contexts),r._user=t._user,r._level=t._level,r._span=t._span,r._session=t._session,r._transactionName=t._transactionName,r._fingerprint=t._fingerprint,r._eventProcessors=Object(Kn.e)(t._eventProcessors)),r},e.prototype.addScopeListener=function(e){this._scopeListeners.push(e)},e.prototype.addEventProcessor=function(e){return this._eventProcessors.push(e),this},e.prototype.setUser=function(e){return this._user=e||{},this._session&&this._session.update({user:e}),this._notifyScopeListeners(),this},e.prototype.getUser=function(){return this._user},e.prototype.setTags=function(e){return this._tags=Object(Kn.a)(Object(Kn.a)({},this._tags),e),this._notifyScopeListeners(),this},e.prototype.setTag=function(e,t){var r;return this._tags=Object(Kn.a)(Object(Kn.a)({},this._tags),((r={})[e]=t,r)),this._notifyScopeListeners(),this},e.prototype.setExtras=function(e){return this._extra=Object(Kn.a)(Object(Kn.a)({},this._extra),e),this._notifyScopeListeners(),this},e.prototype.setExtra=function(e,t){var r;return this._extra=Object(Kn.a)(Object(Kn.a)({},this._extra),((r={})[e]=t,r)),this._notifyScopeListeners(),this},e.prototype.setFingerprint=function(e){return this._fingerprint=e,this._notifyScopeListeners(),this},e.prototype.setLevel=function(e){return this._level=e,this._notifyScopeListeners(),this},e.prototype.setTransactionName=function(e){return this._transactionName=e,this._notifyScopeListeners(),this},e.prototype.setTransaction=function(e){return this.setTransactionName(e)},e.prototype.setContext=function(e,t){var r;return null===t?delete this._contexts[e]:this._contexts=Object(Kn.a)(Object(Kn.a)({},this._contexts),((r={})[e]=t,r)),this._notifyScopeListeners(),this},e.prototype.setSpan=function(e){return this._span=e,this._notifyScopeListeners(),this},e.prototype.getSpan=function(){return this._span},e.prototype.getTransaction=function(){var e,t,r,n,o=this.getSpan();return(null===(e=o)||void 0===e?void 0:e.transaction)?null===(t=o)||void 0===t?void 0:t.transaction:(null===(n=null===(r=o)||void 0===r?void 0:r.spanRecorder)||void 0===n?void 0:n.spans[0])?o.spanRecorder.spans[0]:void 0},e.prototype.setSession=function(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this},e.prototype.getSession=function(){return this._session},e.prototype.update=function(t){if(!t)return this;if("function"==typeof t){var r=t(this);return r instanceof e?r:this}return t instanceof e?(this._tags=Object(Kn.a)(Object(Kn.a)({},this._tags),t._tags),this._extra=Object(Kn.a)(Object(Kn.a)({},this._extra),t._extra),this._contexts=Object(Kn.a)(Object(Kn.a)({},this._contexts),t._contexts),t._user&&Object.keys(t._user).length&&(this._user=t._user),t._level&&(this._level=t._level),t._fingerprint&&(this._fingerprint=t._fingerprint)):Object(no.h)(t)&&(t=t,this._tags=Object(Kn.a)(Object(Kn.a)({},this._tags),t.tags),this._extra=Object(Kn.a)(Object(Kn.a)({},this._extra),t.extra),this._contexts=Object(Kn.a)(Object(Kn.a)({},this._contexts),t.contexts),t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint)),this},e.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},e.prototype.addBreadcrumb=function(e,t){var r=Object(Kn.a)({timestamp:Object(Xn.a)()},e);return this._breadcrumbs=void 0!==t&&t>=0?Object(Kn.e)(this._breadcrumbs,[r]).slice(-t):Object(Kn.e)(this._breadcrumbs,[r]),this._notifyScopeListeners(),this},e.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},e.prototype.applyToEvent=function(e,t){var r;if(this._extra&&Object.keys(this._extra).length&&(e.extra=Object(Kn.a)(Object(Kn.a)({},this._extra),e.extra)),this._tags&&Object.keys(this._tags).length&&(e.tags=Object(Kn.a)(Object(Kn.a)({},this._tags),e.tags)),this._user&&Object.keys(this._user).length&&(e.user=Object(Kn.a)(Object(Kn.a)({},this._user),e.user)),this._contexts&&Object.keys(this._contexts).length&&(e.contexts=Object(Kn.a)(Object(Kn.a)({},this._contexts),e.contexts)),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts=Object(Kn.a)({trace:this._span.getTraceContext()},e.contexts);var n=null===(r=this._span.transaction)||void 0===r?void 0:r.name;n&&(e.tags=Object(Kn.a)({transaction:n},e.tags))}return this._applyFingerprint(e),e.breadcrumbs=Object(Kn.e)(e.breadcrumbs||[],this._breadcrumbs),e.breadcrumbs=e.breadcrumbs.length>0?e.breadcrumbs:void 0,this._notifyEventProcessors(Object(Kn.e)(so(),this._eventProcessors),e,t)},e.prototype._notifyEventProcessors=function(e,t,r,n){var o=this;return void 0===n&&(n=0),new io((function(i,a){var s=e[n];if(null===t||"function"!=typeof s)i(t);else{var u=s(Object(Kn.a)({},t),r);Object(no.m)(u)?u.then((function(t){return o._notifyEventProcessors(e,t,r,n+1).then(i)})).then(null,a):o._notifyEventProcessors(e,u,r,n+1).then(i).then(null,a)}}))},e.prototype._notifyScopeListeners=function(){var e=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((function(t){t(e)})),this._notifyingListeners=!1)},e.prototype._applyFingerprint=function(e){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint},e}();function so(){var e=Object(Yn.e)();return e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.globalEventProcessors=e.__SENTRY__.globalEventProcessors||[],e.__SENTRY__.globalEventProcessors}function uo(e){so().push(e)}!function(e){e.Ok="ok",e.Exited="exited",e.Crashed="crashed",e.Abnormal="abnormal"}(oo||(oo={}));var co=r(42),lo=function(){function e(e){this.errors=0,this.sid=Object(Yn.i)(),this.timestamp=Date.now(),this.started=Date.now(),this.duration=0,this.status=oo.Ok,e&&this.update(e)}return e.prototype.update=function(e){void 0===e&&(e={}),e.user&&(e.user.ip_address&&(this.ipAddress=e.user.ip_address),e.did||(this.did=e.user.id||e.user.email||e.user.username)),this.timestamp=e.timestamp||Date.now(),e.sid&&(this.sid=32===e.sid.length?e.sid:Object(Yn.i)()),e.did&&(this.did=""+e.did),"number"==typeof e.started&&(this.started=e.started),"number"==typeof e.duration?this.duration=e.duration:this.duration=this.timestamp-this.started,e.release&&(this.release=e.release),e.environment&&(this.environment=e.environment),e.ipAddress&&(this.ipAddress=e.ipAddress),e.userAgent&&(this.userAgent=e.userAgent),"number"==typeof e.errors&&(this.errors=e.errors),e.status&&(this.status=e.status)},e.prototype.close=function(e){e?this.update({status:e}):this.status===oo.Ok?this.update({status:oo.Exited}):this.update()},e.prototype.toJSON=function(){return Object(co.a)({sid:""+this.sid,init:!0,started:new Date(this.started).toISOString(),timestamp:new Date(this.timestamp).toISOString(),status:this.status,errors:this.errors,did:"number"==typeof this.did||"string"==typeof this.did?""+this.did:void 0,duration:this.duration,attrs:Object(co.a)({release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent})})},e}(),fo=3,po=100,ho=100,yo=function(){function e(e,t,r){void 0===t&&(t=new ao),void 0===r&&(r=fo),this._version=r,this._stack=[{}],this.getStackTop().scope=t,this.bindClient(e)}return e.prototype.isOlderThan=function(e){return this._version<e},e.prototype.bindClient=function(e){this.getStackTop().client=e,e&&e.setupIntegrations&&e.setupIntegrations()},e.prototype.pushScope=function(){var e=ao.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e},e.prototype.popScope=function(){return!(this.getStack().length<=1)&&!!this.getStack().pop()},e.prototype.withScope=function(e){var t=this.pushScope();try{e(t)}finally{this.popScope()}},e.prototype.getClient=function(){return this.getStackTop().client},e.prototype.getScope=function(){return this.getStackTop().scope},e.prototype.getStack=function(){return this._stack},e.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},e.prototype.captureException=function(e,t){var r=this._lastEventId=Object(Yn.i)(),n=t;if(!t){var o=void 0;try{throw new Error("Sentry syntheticException")}catch(e){o=e}n={originalException:e,syntheticException:o}}return this._invokeClient("captureException",e,Object(Kn.a)(Object(Kn.a)({},n),{event_id:r})),r},e.prototype.captureMessage=function(e,t,r){var n=this._lastEventId=Object(Yn.i)(),o=r;if(!r){var i=void 0;try{throw new Error(e)}catch(e){i=e}o={originalException:e,syntheticException:i}}return this._invokeClient("captureMessage",e,t,Object(Kn.a)(Object(Kn.a)({},o),{event_id:n})),n},e.prototype.captureEvent=function(e,t){var r=this._lastEventId=Object(Yn.i)();return this._invokeClient("captureEvent",e,Object(Kn.a)(Object(Kn.a)({},t),{event_id:r})),r},e.prototype.lastEventId=function(){return this._lastEventId},e.prototype.addBreadcrumb=function(e,t){var r=this.getStackTop(),n=r.scope,o=r.client;if(n&&o){var i=o.getOptions&&o.getOptions()||{},a=i.beforeBreadcrumb,s=void 0===a?null:a,u=i.maxBreadcrumbs,c=void 0===u?po:u;if(!(c<=0)){var l=Object(Xn.a)(),f=Object(Kn.a)({timestamp:l},e),p=s?Object(Yn.c)((function(){return s(f,t)})):f;null!==p&&n.addBreadcrumb(p,Math.min(c,ho))}}},e.prototype.setUser=function(e){var t=this.getScope();t&&t.setUser(e)},e.prototype.setTags=function(e){var t=this.getScope();t&&t.setTags(e)},e.prototype.setExtras=function(e){var t=this.getScope();t&&t.setExtras(e)},e.prototype.setTag=function(e,t){var r=this.getScope();r&&r.setTag(e,t)},e.prototype.setExtra=function(e,t){var r=this.getScope();r&&r.setExtra(e,t)},e.prototype.setContext=function(e,t){var r=this.getScope();r&&r.setContext(e,t)},e.prototype.configureScope=function(e){var t=this.getStackTop(),r=t.scope,n=t.client;r&&n&&e(r)},e.prototype.run=function(e){var t=vo(this);try{e(this)}finally{vo(t)}},e.prototype.getIntegration=function(e){var t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(t){return to.warn("Cannot retrieve integration "+e.id+" from the current Hub"),null}},e.prototype.startSpan=function(e){return this._callExtensionMethod("startSpan",e)},e.prototype.startTransaction=function(e,t){return this._callExtensionMethod("startTransaction",e,t)},e.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},e.prototype.startSession=function(e){this.endSession();var t=this.getStackTop(),r=t.scope,n=t.client,o=n&&n.getOptions()||{},i=o.release,a=o.environment,s=new lo(Object(Kn.a)(Object(Kn.a)({release:i,environment:a},r&&{user:r.getUser()}),e));return r&&r.setSession(s),s},e.prototype.endSession=function(){var e=this.getStackTop(),t=e.scope,r=e.client;if(t){var n=t.getSession&&t.getSession();n&&(n.close(),r&&r.captureSession&&r.captureSession(n),t.setSession())}},e.prototype._invokeClient=function(e){for(var t,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var o=this.getStackTop(),i=o.scope,a=o.client;a&&a[e]&&(t=a)[e].apply(t,Object(Kn.e)(r,[i]))},e.prototype._callExtensionMethod=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=mo(),o=n.__SENTRY__;if(o&&o.extensions&&"function"==typeof o.extensions[e])return o.extensions[e].apply(this,t);to.warn("Extension method "+e+" couldn't be found, doing nothing.")},e}();function mo(){var e=Object(Yn.e)();return e.__SENTRY__=e.__SENTRY__||{extensions:{},hub:void 0},e}function vo(e){var t=mo(),r=Eo(t);return Oo(t,e),r}function go(){var e=mo();return wo(e)&&!Eo(e).isOlderThan(fo)||Oo(e,new yo),Object(ro.b)()?bo(e):Eo(e)}function _o(){var e=mo().__SENTRY__;return e&&e.extensions&&e.extensions.domain&&e.extensions.domain.active}function bo(e){try{var t=_o();if(!t)return Eo(e);if(!wo(t)||Eo(t).isOlderThan(fo)){var r=Eo(e).getStackTop();Oo(t,new yo(r.client,ao.clone(r.scope)))}return Eo(t)}catch(t){return Eo(e)}}function wo(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function Eo(e){return e&&e.__SENTRY__&&e.__SENTRY__.hub||(e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.hub=new yo),e.__SENTRY__.hub}function Oo(e,t){return!!e&&(e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.hub=t,!0)}function To(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=go();if(n&&n[e])return n[e].apply(n,Object(Kn.e)(t));throw new Error("No hub defined or "+e+" was not found on the hub, please open a bug report.")}function xo(e,t){var r;try{throw new Error("Sentry syntheticException")}catch(e){r=e}return To("captureException",e,{captureContext:t,originalException:e,syntheticException:r})}function ko(e){To("withScope",e)}r(99),r(115);function So(e,t){return e===t}function Po(e,t,r){if(null===t||null===r||t.length!==r.length)return!1;for(var n=t.length,o=0;o<n;o++)if(!e(t[o],r[o]))return!1;return!0}function Co(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:So,r=null,n=null;return function(){return Po(t,r,arguments)||(n=e.apply(null,arguments)),r=arguments,n}}function Ao(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var r=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+r+"]")}return t}function Ro(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return function(){for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];var i=0,a=n.pop(),s=Ao(n),u=e.apply(void 0,[function(){return i++,a.apply(null,arguments)}].concat(r)),c=e((function(){for(var e=[],t=s.length,r=0;r<t;r++)e.push(s[r].apply(null,arguments));return u.apply(null,e)}));return c.resultFunc=a,c.dependencies=s,c.recomputations=function(){return i},c.resetRecomputations=function(){return i=0},c}}var jo=Ro(Co);var Io=r(90),Do="READER_POSITION_CHANGED";function Mo(e,t,r,n,o,i,a,s,u){return{type:Do,currentSpreadIndex:t,currentPageNumber:r,currentPageNumbers:n,positionInPercent:o,visiblePageNumbers:e,positionInPercentHasChanged:i,currentPagesHasChanged:a,visiblePagesHasChanged:s,isDragging:u}}var Lo="@reader3/document/DOCUMENTLOADED",No={description:"",originalPublishDate:"",documentName:"",username:"",userDisplayName:"",publicationId:"",revisionId:"",title:"",downloadable:!1,isPaywallPreview:!1,isAdsafe:!1};function Bo(e){return{type:Lo,doc:e}}var Fo=jo((function(e){return e.metadata}),(function(e){return e.pages.pages}),(function(e){return e.config.origins}),(function(e,t,r){return{documentId:"".concat(e.revisionId,"-").concat(e.publicationId),documentName:e.documentName,publicationId:e.publicationId,revisionId:e.revisionId,title:e.title,path:"/".concat(e.username,"/docs/").concat(e.documentName),coverUri:t[0]?"".concat(Ke).concat(t[0].imageUri):"",pageCount:t.length,userDisplayName:e.userDisplayName,username:e.username,userProfileImageUri:"".concat(r.photo,"/").concat(e.username,"/photo_large.jpg"),userProfileUri:"".concat(r.main,"/").concat(e.username),description:e.description,originalPublishDate:e.originalPublishDate,isPaywallPreview:e.isPaywallPreview}}));function Uo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:No,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Lo:var r=t.doc;return{description:r.description,originalPublishDate:r.originalPublishDate,documentName:r.documentName.toLowerCase(),username:r.username.toLowerCase(),userDisplayName:r.userDisplayName,publicationId:r.publicationId,revisionId:r.revisionId,title:r.title,downloadable:r.downloadable,isPaywallPreview:r.isPaywalled,protectedContentUrlId:r.protectedContentUrlId,isAdsafe:!(!r.contentRating||!r.contentRating.isAdsafe)};default:return e}}function Wo(e,t){return"DOUBLE_PAGE_SPREAD"===e?1===t?0:Math.floor(t/2):t-1}function zo(e){return e.pages.findIndex((function(e){return e.isPagePaywalled}))>=0}function Ho(e){var t=[],r=e.length;if(r>0){t.push({pages:[e[0]]});for(var n=1;n<r-1;n+=2)t.push({pages:[e[n],e[n+1]]});r%2==0&&t.push({pages:[e[r-1]]})}return t}function Vo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Go(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Vo(Object(r),!0).forEach((function(t){qo(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function qo(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var $o="@reader3/find/TEXT_INFO_STATE_INITIAL",Ko="@reader3/find/TEXT_INFO_STATE_REQUESTED",Yo="@reader3/find/TEXT_INFO_STATE_FAILED",Xo="@reader3/find/LOADING_STATE_LOADING",Zo="@reader3/find/LOADING_STATE_READY",Jo="@reader3/find/LOADING_STATE_FAILED",Qo="@reader3/find/FIND_OPEN_DIALOG",ei="@reader3/find/FIND_CLOSE_DIALOG",ti="@reader3/find/FIND_SET_CURRENT_RESULT",ri="@reader3/find/FIND_SET_TEXT_INFO_URL",ni="@reader3/find/FIND_SET_TEXT_INFO_REQUESTED",oi="@reader3/find/FIND_SET_TEXT_INFO_FAILED",ii="@reader3/find/FIND_SET_TEXT_INFO",ai="@reader3/find/FIND_SET_RESULTS",si="@reader3/find/FIND_SET_LATEST_QUERY",ui={isVisible:!1,results:null,textInfoUrl:null,version:null,currentResultIdx:null,latestQuery:"",textInfo:$o,loadTextInfo:Io.b};function ci(){return function(e,t){var r=t().find,n=r.textInfoUrl,o=r.loadTextInfo;if(!n)throw new Error("attempting to find with textInfoUrl unset!");return e({type:ni}),o("".concat(Ke).concat(n)).then((function(t){e({type:ii,textInfo:t})})).catch((function(){e({type:oi})}))}}function li(){return function(e,t){switch(t().find.textInfo){case $o:case Yo:return e(ci());default:return Promise.resolve()}}}function fi(){return function(e){return e({type:Qo}),e(li()),Promise.resolve()}}function pi(){return{type:ei}}function di(e){return function(t){return Promise.resolve(t({type:ti,idx:e}))}}function hi(e){return function(t,r){return function(n,o){return n({type:si,value:t}),n(li()).then((function(){var i=o().find.textInfo;if(t&&i instanceof Object){var a=e(t,i),s=a.findIndex((function(e){return e.pageNo>=r}));return n({type:ai,results:a,currentResultIdx:s<0?a.length-1:s})}return n({type:ai,results:null,currentResultIdx:null})}))}}}function yi(e,t){return{type:ri,url:e,version:t}}function mi(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ui,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qo:return Go(Go({},e),{},{isVisible:!0});case ei:return Go(Go({},e),{},{isVisible:!1});case ri:return Go(Go({},e),{},{textInfoUrl:t.url,version:t.version});case ni:return Go(Go({},e),{},{textInfo:Ko});case oi:return Go(Go({},e),{},{textInfo:Yo});case ii:return Go(Go({},e),{},{textInfo:t.textInfo});case ai:return Go(Go({},e),{},{results:t.results,currentResultIdx:t.currentResultIdx});case ti:return Go(Go({},e),{},{currentResultIdx:t.idx});case si:return Go(Go({},e),{},{latestQuery:t.value});case Do:if(e.results){var r=t.currentPageNumber,n=e.results.findIndex((function(e){return e.pageNo>=r}));return Go(Go({},e),{},{currentResultIdx:n<0?e.currentResultIdx:n})}return e;default:return e}}}var vi=function(e){return e.find.isVisible},gi=function(e){return e.find.latestQuery};function _i(e){return!gi(e)||e.find.textInfo!==Ko&&e.find.textInfo!==$o?e.find.textInfo===Yo?Jo:Zo:Xo}var bi=jo((function(e){return e.find.results}),(function(e){return e||[]})),wi=function(e){return Array.isArray(e.find.results)?e.find.results.length:null},Ei=function(e){return"number"==typeof e.find.currentResultIdx?e.find.currentResultIdx+1:0},Oi=jo(Ei,(function(e){return e-1})),Ti=jo(bi,Oi,(function(e,t){return e.length?(t+1)%e.length:t})),xi=jo(bi,Oi,(function(e,t){return e.length?(t+e.length-1)%e.length:t})),ki=jo(bi,Oi,(function(e,t){return e[t]})),Si=(jo(bi,Ti,(function(e,t){return e[t]})),jo(bi,xi,(function(e,t){return e[t]})),jo((function(e){return e.find.textInfo}),(function(e){return e instanceof Object?e.pages.map((function(e){return{width:e.width,height:e.height,pageNumber:e.pageNumber}})):[]})));function Pi(e){return function(t){return e.find.latestQuery!==t}}var Ci=function(e){return!!e.find.textInfoUrl},Ai=hi(Io.a);function Ri(e,t){return function(r,n){return r(Ai(e,t)).then((function(){var e=n(),t=ki(e);t&&e.canvasApi.jumpToPage(t.pageNo)}))}}function ji(e){return function(t,r){return t(di(e)).then((function(){var e=r(),t=ki(e);t&&e.canvasApi.jumpToPage(t.pageNo)}))}}var Ii=function(e){var t=e.canvasApi;return t&&t.getReadMode()},Di=jo(Ii,Fo,(function(e,t){var r=t.pageCount;return e&&r?Wo(e,r):0})),Mi=jo(vi,Di,Ii,bi,(function(e,t,r,n){if(!e||!r)return[];var o=n.reduce((function(e,t){return e.add(Wo(r,t.pageNo))}),new Set);return Array.from(o).map((function(e){return e*(1/t)}))}));function Li(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ni(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Li(Object(r),!0).forEach((function(t){Bi(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Li(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Bi(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Fi="SMARTNAV_LOADED",Ui={pages:[]};function Wi(e){return{type:Fi,smartnav:e}}function zi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ui,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fi:return Ni(Ni({},e),t.smartnav);default:return e}}r(79);var Hi=[{page:function(e){return(e-4)%16==0},type:"AD_OVERLAY",displayStates:["fullscreen"],deviceTypes:["mobile","tablet","desktop"]}],Vi=3e3,Gi=!1,qi=!1;function $i(e,t){var r=t.length;if(e>=r-1)return-1;if(!zo(t[e]))return e+1;for(var n=e+1;n<r;n++)if(!zo(t[n]))return n;return-1}function Ki(e,t){if(e<1)return-1;if(!zo(t[e]))return e-1;for(var r=e-1;r>=0;r--)if(!zo(t[r]))return r;return-1}var Yi=function(){return Math.min(window.screen.width,window.screen.height)},Xi=function(){return!!window.FEATURE_TEST_IS_TOUCH||"ontouchstart"in window||window.navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0},Zi=function(){return Xi()&&Yi()<480},Ji=function(){return Xi()&&!Zi()&&Yi()<=1024},Qi=function(){return"callPhantom"in window},ea=function(){return!!navigator.platform&&["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)},ta={isTouch:Xi,isMobile:Zi,isTablet:Ji,isPhantom:Qi,isIOS:ea};function ra(){return window.devicePixelRatio||1}function na(){try{return window.matchMedia("(orientation: portrait)").matches}catch(e){return window.innerHeight>window.innerWidth}}function oa(e,t,r,n){var o=na(),i=ta.isMobile()||ta.isTablet(),a=ta.isMobile()&&o,s=i&&o;switch(n.responsiveModeWhen){case"HANDHELD_IN_PORTRAIT_IN_FULLSCREEN":if(s&&r)return"SINGLE_PAGE_SPREAD";break;case"HANDHELD_IN_PORTRAIT":if(s)return"SINGLE_PAGE_SPREAD";break;case"PHONE_ISH_IN_PORTRAIT":var u=480*ra();if(a||e<=u&&e<t)return"SINGLE_PAGE_SPREAD"}return n.defaultMode}function ia(e,t){return!(!e||"FALLBACK"!==e.kind)||t}function aa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function sa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?aa(Object(r),!0).forEach((function(t){ua(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aa(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ua(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ca="@licenses/status/NOT_LOADED",la="@licenses/status/LOADED",fa="@licenses/status/FAILED",pa="customization_set_bg_color",da="customization_disable_share",ha="customization_remove_link_below",ya="customization_set_bg_image",ma="customization_set_logo",va="customization_show_my_other_publications",ga="norelated",_a="download",ba="hide_ads_in_reader",wa="inpub_ads",Ea="embed";function Oa(e){return jo((function(e){return e.licenses}),(function(t){var r=t.isDisabled,n=t.status,o=t.list;return!(!r&&n!==fa)||n===la&&o.includes(e)}))}var Ta=Oa(pa),xa=Oa(da),ka=(Oa(ha),Oa(ya)),Sa=Oa(ma),Pa=Oa(Ea),Ca=Oa(va),Aa=Oa(ga),Ra=jo((function(e){return e.licenses}),(function(e){var t=e.status,r=e.list;return t===fa||t===la&&r.includes(ba)})),ja=jo((function(e){return e.licenses}),(function(e){var t=e.status,r=e.list;return t===la&&r.includes(wa)})),Ia=jo((function(e){return e.licenses}),(function(e){var t=e.status,r=e.list;return t===la&&r.includes(_a)})),Da="@reader3/licenses/LICENSES_LOAD_SUCCESS";function Ma(e){return{list:e,type:Da}}var La="@reader3/licenses/LICENSES_LOAD_FAILED";function Na(){return{type:La}}var Ba=function(e){return{isDisabled:e,status:ca,list:[]}};function Fa(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ba(e),r=arguments.length>1?arguments[1]:void 0;if(!r)return t;switch(r.type){case Da:return sa(sa({},t),{},{status:la,list:r.list});case La:return sa(sa({},t),{},{status:fa});default:return t}}}r(195);function Ua(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Wa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ua(Object(r),!0).forEach((function(t){za(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ua(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function za(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ha(e){return(Ha="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Va=jo((function(e){return e.pages.pages}),(function(e){return e.map((function(e){var t=e.imageUri,r=e.layersInfo;return"object"===Ha(r)&&r.uri&&(r=Wa(Wa({},r),{},{uri:"".concat(Ke).concat(r.uri)})),t="".concat(Ke).concat(t),Wa(Wa({},e),{},{layersInfo:r,imageUri:t})}))})),Ga=jo(Va,(function(e){return e.links.pages}),(function(e,t){return e.map((function(e,r){var n=t[r];return n?n.links:[]}))})),qa=jo(Va,Ga,Fo,(function(e){return Si(e)}),(function(e){return bi(e)}),(function(e){return ki(e)}),(function(e,t,r,n,o,i){return e.map((function(e,a){return Wa(Wa({},e),{},{links:t[a],pageNumber:a+1,documentId:r.documentId,textInfoPage:n.find((function(e){return e.pageNumber===a+1})),findResults:o.reduce((function(e,t){return t.pageNo===a+1&&e.push(t.result),e}),[]),selectedFindResult:i&&i.pageNo===a+1?i.result:null})}))})),$a=jo(qa,(function(e){return Ho(e)})),Ka=function(e){return e.metadata.isPaywallPreview},Ya=function(e){return e.metadata.protectedContentUrlId},Xa=jo((function(e){return e.metadata}),(function(e){return e.pages.pages}),(function(e,t){return e.isPaywallPreview?t.reduce((function(e,t,r){return t.isPagePaywalled&&e.push(r+1),e}),[]):[]})),Za="reader-sizes@TINY",Ja="reader-sizes@SMALL",Qa="reader-sizes@NORMAL",es=1,ts=5,rs=500,ns=250,os=20,is=20,as=45,ss=20,us=20,cs=45,ls=3e3;function fs(e){return jo((function(e){return e.features.controls}),(function(t){for(var r=0;r<t.length;r++)if(t[r].type===e)return t[r]}))}var ps=fs("FEATURE_ZOOM"),ds=fs("FEATURE_ISSUU_BRANDING"),hs=fs("FEATURE_NAVIGATION_LINK"),ys=fs("FEATURE_SHARE_DIALOG"),ms=fs("FEATURE_NAVIGATION_ARROWS"),vs=fs("FEATURE_FULLSCREEN"),gs=function(e){return e.features.links},_s=function(e){return e.features.canUseCredentials},bs=function(e){return e.features.canLoadAdsInFullscreen},ws=jo(vs,(function(e){return e.fullscreen.enabled}),(function(e,t){return ia(e,t)})),Es=jo((function(e){return e.reader.zoomLevel}),(function(e){return 100/(ts-es)*(e-es)})),Os=function(e){return e.reader.positionInPercent},Ts=function(e){return e.reader.currentPageNumbers},xs=jo((function(e){return e.features.readModeRules}),ws,(function(e){return e.size.width}),(function(e){return e.size.height}),(function(e,t,r,n){return oa(r,n,t,e)})),ks=jo(xs,qa,$a,(function(e,t,r){return"DOUBLE_PAGE_SPREAD"===e?r:t.map((function(e){return{pages:[e]}}))})),Ss=jo(Ts,xs,(function(e,t){return Wo(t,e[0])})),Ps=jo(xs,Fo,(function(e,t){return Wo(e,t.pageCount)})),Cs=jo(Ss,Ps,(function(e,t){return e===t})),As=jo(Ss,(function(e){return 0===e})),Rs=jo((function(e){return e.features}),(function(e){return e.reader}),(function(e){return e.headerControls}),(function(e){return e.find}),(function(e,t,r,n){var o=e.showControlsUntilFirstInteraction,i=t.interactedWithReader,a=t.hoveringOverControls,s=t.interactingWithControls,u=t.isIdle,c=r.visibleDropdown,l=r.readMoreDropdownVisible,f=n.isVisible;return!!(a||s||null!==c||l||o&&!i||f)||!u})),js=jo((function(e){return e.size.width}),(function(e){return e.size.height}),(function(e,t){var r=ra();return"".concat(Math.floor(e/r),"x").concat(Math.floor(t/r))})),Is=jo((function(e){return e.size.width}),(function(e){return e.size.height}),(function(e,t){var r=ra();return e<=200*r||t<=150*r?Za:e<=400*r||t<=300*r?Ja:Qa})),Ds=jo(Is,ws,(function(e,t){return(e===Za||e===Ja)&&!t})),Ms=jo(Is,ds,(function(e,t){return!(e===Za||!t)})),Ls=jo(ws,Ta,(function(e){return e.features.backgroundColor}),(function(e){return e.features.fullscreenBackgroundColor}),(function(e,t,r,n){return e?n&&t?n:"#353535":r||"#353535"})),Ns=jo(ws,ka,(function(e){return e.features.backgroundImage}),(function(e,t,r){if(r&&t&&(e||!r.hideWhenNotInFullscreen))return r})),Bs=jo(ws,Sa,(function(e){return e.features.logo}),(function(e,t,r){if(r&&t&&(e||!r.hideWhenNotInFullscreen))return r})),Fs=function(e){return e.config.embedTrackingQuery},Us=jo((function(e){return e.config.origins.main}),Fo,Ts,(function(e,t,r){var n=t.path;return"".concat(e).concat(n,"/").concat(r[0])})),Ws=jo(Fo,Ts,(function(e,t){var r=e.path,n="https://issuu.com".concat(r),o=t[0];return o>1?"".concat(n,"/").concat(o):n})),zs=jo((function(e){return e.headerControls}),(function(e){var t=e.visibleDropdown,r=e.readMoreDropdownVisible;return null!==t||r})),Hs=jo((function(e){return e.headerControls.readMoreDropdownVisible}),(function(e){return e.readmore.exitedFullscreen}),(function(e){return e.readMorePlugin}),Ca,Aa,(function(e,t,r,n,o){var i=!(!r||!r.shouldRenderExitFullscreenOverlay(n,o));return e||t&&i})),Vs=jo(vs,Ds,(function(e,t){return!!(e&&"overlayOnSmallReaders"in e&&e.overlayOnSmallReaders&&t)})),Gs=jo(Ts,(function(e){return e.smartnav}),(function(e,t){return t.pages.some((function(t){return e.includes(t.pageNumber)&&t.blocks.length>0}))})),qs=jo(Vs,ws,Ts,Gs,vi,(function(e){return e.headerControls}),(function(e,t,r,n,o,i){var a=i.visibleDropdown;return!e&&t&&ta.isMobile()&&n&&!(1===r.length&&1===r[0])&&!o&&!a})),$s=jo((function(e){return e.reader.targetSpreadIndex}),Ss,(function(e,t){return e>-1?e:t})),Ks=jo($s,ks,(function(e,t){return $i(e,t)})),Ys=jo($s,ks,(function(e,t){return Ki(e,t)})),Xs=jo(Ts,qa,(function(e,t){return zo({pages:e.map((function(e){return t[e-1]}))})})),Zs=jo((function(e){return e.metadata.isAdsafe}),Ra,(function(e,t){return e&&!t})),Js=(r(139),{request:["requestFullscreen","webkitRequestFullscreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen"],exit:["exitFullscreen","webkitCancelFullScreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen"],enabled:["fullscreenEnabled","webkitFullscreenEnabled","mozFullScreenEnabled","msFullscreenEnabled"],element:["fullscreenElement","webkitFullscreenElement","webkitCurrentFullScreenElement","mozFullScreenElement","msFullscreenElement"],change:["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","msfullscreenchange"],error:["fullscreenerror","webkitfullscreenerror","mozfullscreenerror","msfullscreenerror"]});function Qs(){var e=navigator.userAgent,t=new RegExp("^Mozilla/5\\.0.*Android.*AppleWebKit.*Chrome/(\\d+).*$","i").exec(e),r=!1;t&&t.length>0&&(r=parseInt(t[1],10)<=33);return r}function eu(e){return new RegExp("^Mozilla/5\\.0.*(iPhone|iPad|iPod).*AppleWebKit.*Safari.*$","i").test(e)}function tu(e,t){"onmsfullscreenchange"in document||"msfullscreenerror"in document?document["on".concat(e)]=t:document.addEventListener(e,t)}function ru(e,t){"onmsfullscreenchange"in document||"msfullscreenerror"in document?document["on".concat(e)]=null:document.removeEventListener(e,t)}function nu(e){var t=Js.change.filter((function(e){return"on".concat(e)in document}))[0];document.addEventListener(t,e)}function ou(e){var t=Js.change.filter((function(e){return"on".concat(e)in document}))[0];document.removeEventListener(t,e)}function iu(){return!Qs()&&(!eu(navigator.userAgent)&&Js.enabled.some((function(e){return e in document&&document[e]})))}function au(){var e=Js.element.find((function(e){return e in document}));if(e)return document[e];throw new Error("Fullscreen not supported")}function su(){return new Promise((function(e,t){try{var r=Js.change.filter((function(e){return"on".concat(e)in document}))[0];if(r){tu(r,(function t(){au()||(ru(r,t),e(!0))}))}else t("native fullscreen api not supported")}catch(e){t(e)}}))}function uu(e){return new Promise((function(t,r){try{var n=Js.request.filter((function(t){return t in e}))[0],o=Js.change.filter((function(e){return"on".concat(e)in document}))[0];if(n&&o){tu(o,(function e(){ru(o,e),t(!0)})),e[n]()}else r("native fullscreen api not supported")}catch(e){r(e)}}))}function cu(){return new Promise((function(e,t){try{var r=Js.exit.filter((function(e){return e in document}))[0],n=Js.change.filter((function(e){return"on".concat(e)in document}))[0];if(r)if(au()){tu(n,(function t(){ru(n,t),e(!0)})),document[r]()}else e(!0);else t("native fullscreen api not supported")}catch(e){t(e)}}))}function lu(e){return hu(e)||du(e)||pu(e)||fu()}function fu(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function pu(e,t){if(e){if("string"==typeof e)return yu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?yu(e,t):void 0}}function du(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function hu(e){if(Array.isArray(e))return yu(e)}function yu(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var mu=18e5,vu=[1];function gu(e){var t=new Date(e).toString().slice(0,15),r=(new Date).toString().slice(0,15);return Date.now()-e>mu||t!==r}function _u(e,t){var r=lu(e.sessionPageNumbers);if(t.currentPagesHasChanged){var n=e.sessionPageNumbers.length,o=t.currentPageNumbers.length;r=r.map((function(e){return e+o})),o!==n&&(r=1==o?r.slice(-1):[r[0]-1,r[0]])}return r}function bu(e,t){try{if(sessionStorage&&"undefined"==typeof sessionStorage)throw new Error("sesstionStorage is not avaliable");sessionStorage.setItem("sessionPageNumbers",JSON.stringify(t)),sessionStorage.setItem("sessionStartTime",Date.now().toString())}catch(t){e.monitor("reader3-session-storage.save-state.fail")}}function wu(){var e={sessionPageNumbers:vu};try{if(!sessionStorage)return e;if(gu(parseInt(sessionStorage.getItem("sessionStartTime")||"0")||0))return e;var t=sessionStorage.getItem("sessionPageNumbers");return{sessionPageNumbers:"string"==typeof t&&"undefined"!==t?JSON.parse(t).map((function(e){return e+1})):vu}}catch(t){return e}}function Eu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ou(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Eu(Object(r),!0).forEach((function(t){Tu(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Eu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Tu(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var xu=wu(),ku=xu.sessionPageNumbers,Su={adPagesDisplayed:[],buttonsEnable:!1,created:!1,visible:!1,sessionPageNumbers:ku,currentPagesHasChanged:!1,currentPageNumbers:ku},Pu="AD_OVERLAY_CREATE",Cu="AD_OVERLAY_SHOW",Au="AD_OVERLAY_CLOSE",Ru="AD_OVERLAY_ENABLE_BUTTONS",ju="AD_OVERLAY_DISABLE_BUTTONS",Iu=ta.isMobile()?"mobile":ta.isTablet()?"tablet":"desktop",Du=iu(),Mu=jo(ws,(function(e){return Hi.filter((function(t){var r={displayStates:t.displayStates,deviceTypes:t.deviceTypes.filter((function(e){return"mobile"!==e||"mobile"===e&&Du}))},n=e?"fullscreen":"normal";return r.displayStates.includes(n)&&r.deviceTypes.includes(Iu)}))})),Lu=jo((function(e){return e.adOverlay.sessionPageNumbers}),Mu,(function(e,t){return t.find((function(t){if("function"==typeof t.page){var r=t.page;return e.some((function(e){return r(e)}))}return e.includes(t.page)}))})),Nu=jo((function(e){return e.adOverlay.sessionPageNumbers}),(function(e){return e.adOverlay.adPagesDisplayed}),(function(e,t){return t.some((function(t){return e.includes(t)}))})),Bu=jo(Lu,Nu,(function(e,t){return!!e&&!t})),Fu=jo(Lu,(function(e){return e?e.type:null})),Uu=jo((function(e){return e.config.origins.image}),(function(e){return e.metadata.revisionId}),(function(e){return e.metadata.publicationId}),(function(e,t,r){return"".concat(e,"/").concat(t,"-").concat(r,"/jpg/page_1_thumb_large.jpg")})),Wu=jo((function(e){return e.features.canLoadAdOverlay}),Zs,ja,(function(e,t,r){return e&&(r||t)})),zu=jo(Ra,ja,(function(e,t){var r=[];return e&&r.push(ba),t&&r.push(wa),r})),Hu=jo((function(e){return e.reader.isReady}),Mu,Wu,(function(e,t,r){return e&&t.length>0&&r})),Vu=jo(Hu,Bu,(function(e,t){return e&&t&&qi})),Gu=function(e){return e.adOverlay.visible},qu=function(e){return e.adOverlay.created},$u=function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Su,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Pu:var r=e.adPagesDisplayed.concat(t.currentPageNumbers);return Ou(Ou({},e),{},{created:!0,adPagesDisplayed:r});case Cu:return Ou(Ou({},e),{},{visible:!0});case Au:return Ou(Ou({},e),{},{visible:!1,created:!1});case Ru:return Ou(Ou({},e),{},{buttonsEnable:!0});case ju:return Ou(Ou({},e),{},{buttonsEnable:!1});case Do:var n=_u(e,t);return Ou(Ou({},e),{},{sessionPageNumbers:n});default:return e}}},Ku=function(e){return{type:Pu,currentPageNumbers:e}},Yu=function(){return{type:Cu}},Xu=function(e){return{type:Au,reason:e}},Zu=function(){return{type:Ru}},Ju=function(){return{type:ju}},Qu="SET_TARGET_SPREAD_INDEX",ec="SET_INTERACTING_WITH_CONTROLS",tc="SET_INTERACTED_WITH_READER",rc="SET_HOVERING_OVER_CONTROLS",nc="READER_ZOOM_LEVEL_CHANCED",oc="LARGE_VIEW_HIDE",ic="LARGE_VIEW_SHOW_ENGAGED",ac="LARGE_VIEW_SHOW_DISENGAGED",sc="LARGE_VIEW_BUTTON_PROMOTED",uc="LARGE_VIEW_BUTTON_NOT_PROMOTED",cc="LARGE_VIEW_BUTTON_CLICKED",lc="FOLLOW_BUTTON_CLICKED",fc={SET_TARGET_SPREAD_INDEX:Qu,SET_INTERACTING_WITH_CONTROLS:ec,SET_INTERACTED_WITH_READER:tc,SET_HOVERING_OVER_CONTROLS:rc,READER_ZOOM_LEVEL_CHANCED:nc,LARGE_VIEW_HIDE:oc,LARGE_VIEW_SHOW_ENGAGED:ic,LARGE_VIEW_SHOW_DISENGAGED:ac,LARGE_VIEW_BUTTON_PROMOTED:sc,LARGE_VIEW_BUTTON_NOT_PROMOTED:uc,LARGE_VIEW_BUTTON_CLICKED:cc,FOLLOW_BUTTON_CLICKED:lc};function pc(){return{type:oc}}function dc(){return{type:ic}}function hc(){return{type:ac}}function yc(){return{type:sc}}function mc(){return{type:uc}}function vc(){return{type:cc}}function gc(e){return{type:Qu,index:e}}function _c(e){return{type:ec,val:e}}function bc(){return{type:tc}}function wc(e){return{type:rc,val:e}}function Ec(e){return function(t,r){var n=r();if(Gu(n))n.adOverlay.buttonsEnable&&t(Xu("closed"));else{var o=Ps(n),i=Math.max(0,Math.min(e,o));t(gc(i));var a=r().canvasApi;a&&a.goToSpread(i)}}}function Oc(){return function(e,t){var r=t(),n=Ys(r);return-1===n&&(n=0),e(Ec(n))}}function Tc(){return function(e,t){var r=t(),n=Ks(r);return-1===n&&(n=Ps(r)),e(Ec(n))}}function xc(e,t){return{type:nc,isPinching:t,zoomLevel:e}}function kc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Sc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?kc(Object(r),!0).forEach((function(t){Pc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Pc(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Cc="show_video_overlay",Ac="hide_video_overlay",Rc="video_info_load_success",jc="video_info_load_error",Ic={EXPLICIT:"explicit",SAFE:"safe",UNKNOWN:"unknown",ERROR:"error"};function Dc(e,t,r){return{type:Cc,service:e,videoId:t,videoUrl:r}}function Mc(){return{type:Ac}}function Lc(e,t,r){return{type:Rc,service:e,videoId:t,videoInfo:r}}function Nc(e,t){return{type:jc,service:e,videoId:t,videoInfo:Ic.ERROR}}function Bc(e,t,r){return function(n,o){var i=o().config.origins.api,a="".concat(i,"/call/backend-reader3/").concat("","video-link/").concat(e,"/").concat(t);fetch(a).then((function(e){if(e.ok)return e.json();throw new Error})).then((function(o){var i=o.explicit?Ic.EXPLICIT:Ic.SAFE;n(Lc(e,t,i)),r.monitor("reader3-".concat(e,"-api-success"))})).catch((function(o){n(Nc(e,t)),r.monitor("reader3-".concat(e,"-api-failed"))}))}}function Fc(e,t){return e.service===t.service&&e.videoId===t.videoId}var Uc={showOverlay:!1,service:null,videoId:null,videoUrl:null,videoInfo:Ic.UNKNOWN};function Wc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Uc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Cc:return Sc(Sc({},e),{},{showOverlay:!0,service:t.service,videoId:t.videoId,videoUrl:t.videoUrl,videoInfo:Fc(e,t)?e.videoInfo:Ic.UNKNOWN});case Ac:return Sc(Sc({},e),{},{showOverlay:!1});case Rc:case jc:return Fc(e,t)?Sc(Sc({},e),{},{videoInfo:t.videoInfo}):e;default:return e}}function zc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"This should never execute";throw new Error(t)}function Hc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Vc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Hc(Object(r),!0).forEach((function(t){Gc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Gc(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qc(e){return Xc(e)||Yc(e)||Kc(e)||$c()}function $c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Kc(e,t){if(e){if("string"==typeof e)return Zc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Zc(e,t):void 0}}function Yc(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function Xc(e){if(Array.isArray(e))return Zc(e)}function Zc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Jc={OPEN_URL:"openUrl",GOTO_PAGE:"gotoPage"},Qc="LINK_CLICKED",el="@reader3/document/LINKSLOADED",tl={loaded:!1,pages:[]};function rl(e){return{type:el,clippings:e}}function nl(e){var t=e.gotoPageNumber;return function(e,r){e(Ec(Wo(xs(r()),t)))}}function ol(e){var t=e.url,r=e.videoId;return Dc(e.videoService,r,t)}function il(e){return function(t){if(t({type:Qc,linkModel:e}),"gotoPage"===e.type)t(nl(e));else{if("openUrl"!==e.type)return zc(e,"Unsupported link type");if("video"===e.urlType)t(ol(e));else if("email"===e.urlType)window.open(e.url,"_top");else{if("shopping"!==e.urlType&&"url"!==e.urlType)throw new Error("Unsupported urlType (".concat(e.urlType,")"));window.open(e.url,"_blank")}}}}function al(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tl,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case el:for(var r=t.clippings||{},n=Object.keys(r).map((function(e){return parseInt(e,10)})).filter((function(e){return!isNaN(e)&&isFinite(e)})),o=Math.max.apply(Math,[0].concat(qc(n))),i=[],a=function(e){i[e]={links:(r[e+1]||[]).map((function(t){return Vc(Vc({},t),{},{page:{pageNumber:e+1}})}))}},s=0;s<o;s++)a(s);return{loaded:!0,pages:i};default:return e}}function sl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ul(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?sl(Object(r),!0).forEach((function(t){cl(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function cl(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ll="@Reader3/size/INIT_SIZE",fl="RESIZE",pl={width:0,height:0};function dl(e,t){return{type:fl,width:e,height:t}}function hl(e,t){return{type:ll,width:e,height:t}}function yl(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pl,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ll:case fl:return ul(ul({},e),{},{width:t.width,height:t.height});default:return e}}}function ml(e,t){return wl(e)||bl(e,t)||gl(e,t)||vl()}function vl(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function gl(e,t){if(e){if("string"==typeof e)return _l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_l(e,t):void 0}}function _l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bl(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}function wl(e){if(Array.isArray(e))return e}function El(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,o)}function Ol(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){El(i,n,o,a,s,"next",e)}function s(e){El(i,n,o,a,s,"throw",e)}a(void 0)}))}}function Tl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function xl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Tl(Object(r),!0).forEach((function(t){kl(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function kl(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Sl="@reader3/init/DOCUMENTLOADING",Pl="@reader3/init/DOCUMENTLOAD_SUCCESS",Cl="@reader3/init/DOCUMENTLOAD_FAILURE",Al="@reader3/init/DOCUMENTLOAD_ABOUT_TO_SUCCESS";function Rl(e){return{type:Sl,timeStamp:e}}function jl(e,t){return{type:Cl,error:e,timeStamp:t}}function Il(e,t,r,n){return{timeStamp:e,pageNumber:t,targetSpreadIndex:r,currentPageNumbers:n,type:Pl}}function Dl(e,t,r,n){return{timeStamp:e,pageNumber:t,targetSpreadIndex:r,currentPageNumbers:n,type:Al}}function Ml(e,t){return function(r,n){return r(Rl(Date.now())),e.whenDocumentBaseFetched().then((function(t){var o=e.whenDocumentExtraFetched().then((function(e){return r(Bo(xl(xl({licenses:[],clippings:{}},t),e)))})),i=e.whenLicensesFetched().then((function(e){return r(Ma(e))})).catch((function(e){return r(Na())}));e.whenDocumentLinksFetched().then((function(e){return r(rl(e))})).catch((function(e){return console.error(e)})),e.whenDocumentTextFetched().then((function(e){var t=e.textInfoPath,n=e.textInfoVersion;return r(yi(t,n))}));var a=n();return e.whenSmartnavFetched().then((function(e){return r(Wi({pages:e}))})).catch(function(){var e=Ol(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r instanceof we)){e.next=5;break}return e.next=3,Ft(a.config.origins.api,"".concat(t.revisionId,"-").concat(t.publicationId));case 3:e.next=6;break;case 5:throw r;case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Promise.all([o,i])})).then((function(){var e=t();if(e){var n=ml(e,2),o=n[0],i=n[1];return r(hl(o,i))}})).then((function(){var e=n(),t=e.size,o=t.width,i=t.height,a=e.reader.initialPageNumber,s=e.features,u=e.fullscreen,c=Math.max(1,Math.min(Fo(e).pageCount,a)),l=oa(o,i,ia(s.controls.find((function(e){return"FEATURE_FULLSCREEN"===e.type})),u.enabled),s.readModeRules),f=Wo(l,c),p=("DOUBLE_PAGE_SPREAD"===l?$a(e)[f].pages:[qa(e)[f]]).map((function(e){return e.pageNumber}));return r(Dl(Date.now(),c,f,p))})).catch((function(e){xo(e,{tags:{errorOrigin:"document-load-fetchDocument"}}),r(jl(e,Date.now()))}))}}var Ll="FULLSCREEN@FULLSCREEN_API",Nl="FULLSCREEN@TAB";function Bl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Fl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Bl(Object(r),!0).forEach((function(t){Ul(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ul(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Wl="ENTER_FULLSCREEN",zl="EXIT_FULLSCREEN",Hl={ENTER_FULLSCREEN:Wl,EXIT_FULLSCREEN:zl},Vl={enabled:!1,supported:iu()};function Gl(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vl,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Wl:return Fl(Fl({},e),{},{enabled:t.fullscreenMethod===Ll});case zl:return Fl(Fl({},e),{},{enabled:!1});default:return e}}}var ql=jo((function(e){return e.experiment.identifier}),vs,Us,(function(e,t,r){return r+"?"+["ff",t&&"NORMAL"===t.kind?t.fullscreenFallbackArgs:null,"control"!==e?"experiment=".concat(e):null].filter(Boolean).join("&")}));function $l(){return function(e,t){var r=t(),n=r.fullscreen.enabled,o=document.getElementById("ird3-main");iu()?!n&&o&&uu(o).then((function(){e({type:Wl,fullscreenMethod:Ll})})).then(su).then((function(){e({type:zl,fullscreenMethod:Ll})})):(window.open(ql(r),"_blank"),e({type:Wl,fullscreenMethod:Nl}))}}function Kl(){return function(e,t){t().fullscreen.enabled&&cu().then((function(){e({type:zl,fullscreenMethod:Ll})}))}}function Yl(){return function(e,t){var r=t(),n=vs(r),o=ws(r);n&&"FALLBACK"!==n.kind&&e(o?Kl():$l())}}function Xl(){var e=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var t=0;t<e.length;t++)if(e[t]+"Hidden"in document)return e[t]+"Hidden";return null}function Zl(){var e=Xl();return!!e&&!!document[e]}function Jl(){return!!Xl()}function Ql(e){var t=Xl();if(t){var r=t.replace(/[H|h]idden/,"")+"visibilitychange";document.addEventListener(r,e)}}var ef="ON_VISIBILITY_CHANGE",tf={ON_VISIBILITY_CHANGE:ef};function rf(){return{type:ef}}var nf={isHidden:Zl(),supported:Jl()};function of(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nf,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case tf.ON_VISIBILITY_CHANGE:return Object.assign({},e,{isHidden:Zl()});default:return e}}var af=r(23),sf=r.n(af),uf='\n    <svg width="100%" height="100%" viewBox="0 0 24 24">\n        <g class="spinner__icon" fill-rule="evenodd">\n            <g transform="translate(7.000000, 7.000000)">\n                    <path d="M6.77787915,6.84548427 C5.79003176,7.83333166 4.18814246,7.83322341 3.2001563,6.84523725 C2.21223953,5.85732047 2.21223953,4.25567819 3.2001563,3.26776142 C4.18822365,2.27969408 5.7896189,2.27974819 6.77763213,3.26776142 C7.76571475,4.25584404 7.76587711,5.8574863 6.77787915,6.84548427 L8.24993998,8.31754509 C10.0510015,6.51648357 10.0507055,3.59671316 8.24969296,1.79570059 C6.44870526,-0.00528710987 3.52918184,-0.00538576575 1.72809548,1.79570059 C-0.0728180424,3.59661411 -0.0728180424,6.51638456 1.72809548,8.31729807 C3.52903385,10.1182364 6.4490513,10.1184338 8.24993998,8.31754509 L6.77787915,6.84548427 L6.77787915,6.84548427 Z"></path>\n            </g>\n            <path d="M12,23 C18.0751322,23 23,18.0751322 23,12 C23,5.92486775 18.0751322,1 12,1 C5.92486775,1 1,5.92486775 1,12 C1,18.0751322 5.92486775,23 12,23 Z M12,20.0250244 C16.4320986,20.0250244 20.0250244,16.4320986 20.0250244,12 C20.0250244,7.5679014 16.4320986,3.97497559 12,3.97497559 C7.5679014,3.97497559 3.97497559,7.5679014 3.97497559,12 C3.97497559,16.4320986 7.5679014,20.0250244 12,20.0250244 Z" fill-opacity="0.5"></path>\n            <path d="M3.97746854,12.2020107 C3.88040309,13.3666506 2.94475898,13.6536116 2.48144531,13.6567993 C1.99243164,13.6601639 0.999999997,13.1174211 1,12 C1.00000002,5.92486775 5.92486775,1 12,1 C18.0751322,1 23,5.92486775 23,12 C23,13.1278573 22.0378909,13.5112302 21.5430908,13.5112305 C21.0482908,13.5112307 20.0457764,13.2033275 20.0457764,12 C20.0457764,11.9485283 20.0382948,11.8986091 20.0236545,11.8502139 C19.9437915,7.48723335 16.3820616,3.97497559 12,3.97497559 C7.5679014,3.97497559 3.97497559,7.5679014 3.97497559,12 C3.97497559,12.067535 3.97580982,12.1348751 3.97746854,12.2020107 Z"></path>\n        </g>\n    </svg>\n';function cf(e){return(cf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ff(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function pf(e,t,r){return t&&ff(e.prototype,t),r&&ff(e,r),e}function df(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hf(e,t)}function hf(e,t){return(hf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yf(e){var t=gf();return function(){var r,n=_f(e);if(t){var o=_f(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return mf(this,r)}}function mf(e,t){return!t||"object"!==cf(t)&&"function"!=typeof t?vf(e):t}function vf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gf(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _f(e){return(_f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bf(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var wf=24,Ef=14,Of=function(e){df(r,e);var t=yf(r);function r(){return lf(this,r),t.apply(this,arguments)}return pf(r,[{key:"shouldComponentUpdate",value:function(e){return!sf()(this.props,e)}},{key:"render",value:function(){var e=this.props.size*(this.props.zoomLevel||1),t={width:e,height:e},r=["spinner"];return"SPINNER_TYPE_ALTERNATE"===this.props.type&&r.push("spinner--alternate"),c.createElement("div",{className:r.join(" "),style:t,dangerouslySetInnerHTML:{__html:uf}})}}]),r}(c.Component);function Tf(e){return(Tf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kf(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Sf(e,t,r){return t&&kf(e.prototype,t),r&&kf(e,r),e}function Pf(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Cf(e,t)}function Cf(e,t){return(Cf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Af(e){var t=If();return function(){var r,n=Df(e);if(t){var o=Df(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Rf(this,r)}}function Rf(e,t){return!t||"object"!==Tf(t)&&"function"!=typeof t?jf(e):t}function jf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function If(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Df(e){return(Df=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mf(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}bf(Of,"displayName","Spinner"),bf(Of,"defaultProps",{type:"SPINNER_TYPE_DEFAULT",size:wf,zoomLevel:1});var Lf=function(e){Pf(r,e);var t=Af(r);function r(){return xf(this,r),t.apply(this,arguments)}return Sf(r,[{key:"render",value:function(){return l.a.createElement("div",{className:"loading"},l.a.createElement("div",{className:"loading__spinner"},l.a.createElement(Of,{type:"SPINNER_TYPE_ALTERNATE"})))}}]),r}(c.Component);Mf(Lf,"displayName","Loading");var Nf=r(4),Bf=r.n(Nf);function Ff(e){return(Ff="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Uf(){return(Uf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Wf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zf(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Hf(e,t,r){return t&&zf(e.prototype,t),r&&zf(e,r),e}function Vf(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gf(e,t)}function Gf(e,t){return(Gf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qf(e){var t=Yf();return function(){var r,n=Xf(e);if(t){var o=Xf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return $f(this,r)}}function $f(e,t){return!t||"object"!==Ff(t)&&"function"!=typeof t?Kf(e):t}function Kf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yf(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Xf(e){return(Xf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Zf(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Jf=function(e){Vf(r,e);var t=qf(r);function r(){return Wf(this,r),t.apply(this,arguments)}return Hf(r,[{key:"shouldComponentUpdate",value:function(e){return!sf()(this.props,e)}},{key:"render",value:function(){var e=this.props.labelProps,t={};return this.props.isHidden&&(t.display="none"),c.createElement("button",Uf({className:this.props.className,onClick:this.props.onClick,disabled:this.props.isDisabled,id:this.props.id,dangerouslySetInnerHTML:{__html:this.props.content},style:t},e,{type:"button"}),this.props.children)}}]),r}(c.Component);function Qf(e){return(Qf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ep(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tp(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function rp(e,t,r){return t&&tp(e.prototype,t),r&&tp(e,r),e}function np(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&op(e,t)}function op(e,t){return(op=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ip(e){var t=up();return function(){var r,n=cp(e);if(t){var o=cp(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ap(this,r)}}function ap(e,t){return!t||"object"!==Qf(t)&&"function"!=typeof t?sp(e):t}function sp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function up(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function cp(e){return(cp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function lp(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Zf(Jf,"displayName","Button");var fp=function(e){np(r,e);var t=ip(r);function r(e){var n;return ep(this,r),lp(sp(n=t.call(this,e)),"canvas",void 0),lp(sp(n),"resize",(function(){requestAnimationFrame(n.redraw)})),lp(sp(n),"redraw",(function(){var e=n.props.markers;if(n.canvas.current){var t=n.canvas.current,r=t.getContext("2d");if(r){var o=t.width=t.clientWidth;r.clearRect(0,0,o,1),r.fillStyle="yellow",e.forEach((function(e){r.fillRect(Math.round(e*(o-3)),0,3,1)}))}}})),n.canvas=l.a.createRef(),n}return rp(r,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.resize),requestAnimationFrame(this.redraw)}},{key:"shouldComponentUpdate",value:function(e){return!sf()(this.props,e)}},{key:"componentDidUpdate",value:function(e){requestAnimationFrame(this.redraw)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resize)}},{key:"render",value:function(){return l.a.createElement("canvas",{ref:this.canvas,className:"slider-markers",height:1})}}]),r}(c.Component);function pp(e){if(!e.getClientRects().length)return{top:0,left:0};var t=e.getBoundingClientRect();if(t.width||t.height){var r=e.ownerDocument.documentElement||{};return{top:t.top+window.pageYOffset-r.clientTop,left:t.left+window.pageXOffset-r.clientLeft}}return t}var dp=9999999999999;function hp(e){return e>dp?Math.floor(e/1e3):e<0?Math.floor(e+dp):Math.floor(e)}function yp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mp(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function vp(e,t,r){return t&&mp(e.prototype,t),r&&mp(e,r),e}function gp(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var _p=10,bp=function(){function e(t,r,n){yp(this,e),gp(this,"targetElement",void 0),gp(this,"callbacks",void 0),gp(this,"options",void 0),gp(this,"initialGesture","UNDEFINED"),gp(this,"pointers",{}),gp(this,"_lastGestureMoveTimestamp",0),gp(this,"_initialPinchDistance",NaN),gp(this,"_targetElementOffset",null),this.targetElement=t,this.callbacks=r,this.options=n}return vp(e,[{key:"destroy",value:function(){}},{key:"reset",value:function(){this.pointers={},this._lastGestureMoveTimestamp=0,this._initialPinchDistance=NaN,this.initialGesture="UNDEFINED",this._targetElementOffset=null}},{key:"isDeactivated",value:function(){return this.options.activeHandler&&this.options.activeHandler!==this}},{key:"_isAnyButtonPressed",value:function(e){return!(!e.buttons&&!this.getPointerCount())}},{key:"_isGeneratedByMouseDevice",value:function(e){return!("pointerType"in e)||!e.pointerType||"mouse"===e.pointerType}},{key:"getScalingFactor",value:function(){return this.callbacks.getScalingFactor?this.callbacks.getScalingFactor():1}},{key:"fireGestureStart",value:function(){var e=this.callbacks.onGestureStart;e&&e(this._getTouches(),this._getLastEventTimestamp())}},{key:"fireGestureChange",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NaN,t=this._getLastEventTimestamp();if(t-this._lastGestureMoveTimestamp>_p){var r=isNaN(e)?this._getCurrentPinchDistance()/this._initialPinchDistance:e;if(!isNaN(r)){var n=this.callbacks.onGestureChange;n&&n(this._getTouches(),t,r,this.initialGesture),this._lastGestureMoveTimestamp=t}}}},{key:"fireGestureEnd",value:function(){var e=this.callbacks.onGestureEnd;e&&e(this._getLastEventTimestamp())}},{key:"fireMouseMove",value:function(e){if(this._isGeneratedByMouseDevice(e)&&!this._isAnyButtonPressed(e)){var t=e.pageX,r=e.pageY,n=this._getOffsetPosition(t,r),o=this.getScalingFactor(),i=this.callbacks.onMouseMove;i&&i(n.x*o,n.y*o,e.timeStamp)}}},{key:"fireMouseEnter",value:function(e){if(this._isGeneratedByMouseDevice(e)){var t=this.callbacks.onMouseEnter;t&&t(e.timeStamp)}}},{key:"fireMouseLeave",value:function(e){if(this._isGeneratedByMouseDevice(e)){var t=this.callbacks.onMouseLeave;t&&t(e.timeStamp)}}},{key:"saveTargetElementOffset",value:function(){this._targetElementOffset=pp(this.targetElement)}},{key:"saveInitialPinchDistance",value:function(){this._initialPinchDistance=this._getCurrentPinchDistance()}},{key:"saveInitialGestureIfUndefined",value:function(){if("UNDEFINED"===this.initialGesture){var e=Object.keys(this.pointers);if(e.length>=2){var t=this._getCurrentPinchDistance();t-this._initialPinchDistance>5?this.initialGesture="ZOOM_IN":this._initialPinchDistance-t>10&&(this.initialGesture="ZOOM_OUT")}else{var r=this.pointers[parseInt(e[0])],n=r.last.position.x-r.initial.position.x,o=r.last.position.y-r.initial.position.y,i=r.last.timestamp-r.initial.timestamp;if(Math.max(Math.abs(n),Math.abs(o))<10||i<10)return;var a=Math.atan2(-o,n)*(180/Math.PI);this.initialGesture=a>=-25&&a<=25?"SWIPE_RIGHT":a>=60&&a<=120?"SWIPE_UP":a>=155||a<=-155?"SWIPE_LEFT":a>=-120&&a<=-60?"SWIPE_DOWN":"SWIPE_OTHER"}}}},{key:"isValidPointer",value:function(e){return!!this.pointers[e]}},{key:"savePointer",value:function(e,t,r,n){var o=this._getOffsetPosition(t,r),i=hp(n);this.pointers[e]=this.pointers[e]||{initial:{position:o,timestamp:i}},this.pointers[e].last={position:o,timestamp:i}}},{key:"deletePointer",value:function(e){delete this.pointers[e],0===this.getPointerCount()&&(this.initialGesture="UNDEFINED",this._initialPinchDistance=NaN)}},{key:"isPointerMoved",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=this._getOffsetPosition(t,r),i=this.pointers[e].last.position;return Math.abs(i.x-o.x)>Math.abs(n)||Math.abs(i.y-o.y)>Math.abs(n)}},{key:"_getOffsetPosition",value:function(e,t){this._targetElementOffset||this.saveTargetElementOffset();var r=this._targetElementOffset||{},n=r.left,o=void 0===n?0:n,i=r.top,a=void 0===i?0:i;return{x:Math.round(e-o),y:Math.round(t-a)}}},{key:"_getLastEventTimestamp",value:function(){var e=0;for(var t in this.pointers)this.pointers.hasOwnProperty(t)&&(e=Math.max(e,this.pointers[t].last.timestamp));return e}},{key:"_getCurrentPinchDistance",value:function(){var e=Object.keys(this.pointers);if(e.length<=1)return 1;var t=this.pointers[parseInt(e[0])],r=this.pointers[parseInt(e[1])];return Math.sqrt(Math.pow(t.last.position.x-r.last.position.x,2)+Math.pow(t.last.position.y-r.last.position.y,2))}},{key:"getPointerCount",value:function(){var e=0;for(var t in this.pointers)this.pointers.hasOwnProperty(t)&&e++;return e}},{key:"_getTouches",value:function(){var e=this.getScalingFactor(),t=[];for(var r in this.pointers)this.pointers.hasOwnProperty(r)&&t.push({x:this.pointers[r].last.position.x*e,y:this.pointers[r].last.position.y*e});return t}}]),e}();function wp(e){return(wp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ep(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Op(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Tp(e,t,r){return t&&Op(e.prototype,t),r&&Op(e,r),e}function xp(e,t,r){return(xp="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=kp(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function kp(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ip(e)););return e}function Sp(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pp(e,t)}function Pp(e,t){return(Pp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Cp(e){var t=jp();return function(){var r,n=Ip(e);if(t){var o=Ip(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Ap(this,r)}}function Ap(e,t){return!t||"object"!==wp(t)&&"function"!=typeof t?Rp(e):t}function Rp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jp(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Ip(e){return(Ip=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Dp(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Mp=200,Lp=function(e){Sp(r,e);var t=Cp(r);function r(){var e;Ep(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return Dp(Rp(e=t.call.apply(t,[this].concat(o))),"_singleTapConfirmedTimeoutId",void 0),Dp(Rp(e),"_doubleTapConfirmedTimeoutId",void 0),e}return Tp(r,[{key:"destroy",value:function(){this.unregisterTapHandlers()}},{key:"reset",value:function(){xp(Ip(r.prototype),"reset",this).call(this),this.unregisterTapHandlers()}},{key:"registerTapHandlers",value:function(){var e=this,t=this._getFirstPointerId(),r=this.pointers[t].last.position;void 0!==this._doubleTapConfirmedTimeoutId&&(window.clearTimeout(this._doubleTapConfirmedTimeoutId),this._doubleTapConfirmedTimeoutId=void 0),void 0!==this._singleTapConfirmedTimeoutId&&window.clearTimeout(this._singleTapConfirmedTimeoutId),void 0!==this._singleTapConfirmedTimeoutId&&1===this.getPointerCount()&&(this._doubleTapConfirmedTimeoutId=window.setTimeout((function(){e._doubleTapConfirmedTimeoutId=void 0,0===e.getPointerCount()&&e._fireDoubleTapConfirmed(r.x,r.y)}),Mp)),this._singleTapConfirmedTimeoutId=void 0,void 0===this._doubleTapConfirmedTimeoutId&&1===this.getPointerCount()&&(this._singleTapConfirmedTimeoutId=window.setTimeout((function(){e._singleTapConfirmedTimeoutId=void 0,0===e.getPointerCount()&&e._fireSingleTapConfirmed(r.x,r.y)}),Mp))}},{key:"unregisterTapHandlers",value:function(){void 0!==this._singleTapConfirmedTimeoutId&&(window.clearTimeout(this._singleTapConfirmedTimeoutId),this._singleTapConfirmedTimeoutId=void 0),void 0!==this._doubleTapConfirmedTimeoutId&&(window.clearTimeout(this._doubleTapConfirmedTimeoutId),this._doubleTapConfirmedTimeoutId=void 0)}},{key:"validateTapHandlers",value:function(){var e=this._getFirstPointerId(),t=this.pointers[e].last.position;this._isPointerCloseToInitialPosition(e,t.x,t.y)||this.unregisterTapHandlers()}},{key:"executeTapHandlers",value:function(){var e=this._getFirstPointerId(),t=this.pointers[e].last.position;void 0!==this._singleTapConfirmedTimeoutId&&this._fireSingleTap(t.x,t.y),void 0!==this._doubleTapConfirmedTimeoutId&&(this._fireSingleTap(t.x,t.y),this._fireDoubleTap(t.x,t.y))}},{key:"_fireSingleTap",value:function(e,t){var r=this.getScalingFactor(),n=this.callbacks.onSingleTap;n&&n(e*r,t*r)}},{key:"_fireSingleTapConfirmed",value:function(e,t){var r=this.getScalingFactor(),n=this.callbacks.onSingleTapConfirmed;n&&n(e*r,t*r)}},{key:"_fireDoubleTap",value:function(e,t){var r=this.getScalingFactor(),n=this.callbacks.onDoubleTap;n&&n(e*r,t*r)}},{key:"_fireDoubleTapConfirmed",value:function(e,t){var r=this.getScalingFactor(),n=this.callbacks.onDoubleTapConfirmed;n&&n(e*r,t*r)}},{key:"_getFirstPointerId",value:function(){for(var e in this.pointers){var t=parseInt(e);if(this.pointers.hasOwnProperty(t)&&!isNaN(t))return t}throw new Error("No pointer for tap")}},{key:"_isPointerCloseToInitialPosition",value:function(e,t,r){var n=this.pointers[e];return Math.abs(n.initial.position.x-t)<5&&Math.abs(n.initial.position.y-r)<5}}]),r}(bp);function Np(e){return(Np="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fp(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Up(e,t,r){return t&&Fp(e.prototype,t),r&&Fp(e,r),e}function Wp(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zp(e,t)}function zp(e,t){return(zp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Hp(e){var t=qp();return function(){var r,n=$p(e);if(t){var o=$p(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Vp(this,r)}}function Vp(e,t){return!t||"object"!==Np(t)&&"function"!=typeof t?Gp(e):t}function Gp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qp(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function $p(e){return($p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Kp(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Yp=2,Xp=function(e){Wp(r,e);var t=Hp(r);function r(e,n,o){var i;return Bp(this,r),Kp(Gp(i=t.call(this,e,n,o)),"pointerEventTypes",void 0),Kp(Gp(i),"_elementPointerDownHandler",(function(e){if(!i.isDeactivated()){var t=e;i.options.activeHandler=Gp(i),i.options.updateLastPointerEventTimeStamp(t);var r=t.pointerId,n=t.pageX,o=t.pageY;if(i.options.shouldInvokeSetPointerCapture())try{i.targetElement.setPointerCapture&&i.targetElement.setPointerCapture(r)}catch(e){}0===i.getPointerCount()&&i.saveTargetElementOffset(),i.savePointer(r,n,o,e.timeStamp),i.saveInitialPinchDistance(),i.saveInitialGestureIfUndefined(),i.fireGestureStart();try{i.registerTapHandlers()}catch(e){}}})),Kp(Gp(i),"_elementPointerMoveHandler",(function(e){if(!i.isDeactivated()){var t=e;i.options.updateLastPointerEventTimeStamp(t),i.fireMouseMove(t);var r=t.pointerId,n=t.pageX,o=t.pageY;i.isValidPointer(r)&&(i.isPointerMoved(r,n,o,Yp)&&(i.savePointer(r,n,o,e.timeStamp),i.saveInitialGestureIfUndefined(),i.fireGestureChange()),i.validateTapHandlers(),i.options.shouldInvokePreventDefault()&&e.preventDefault())}})),Kp(Gp(i),"_elementPointerUpHandler",(function(e){if(!i.isDeactivated()){var t=e;i.options.updateLastPointerEventTimeStamp(t);var r=t.pointerId,n=t.pageX,o=t.pageY;if(i.isValidPointer(r)){i.savePointer(r,n,o,e.timeStamp);var a=!1;1===i.getPointerCount()?(i.fireGestureEnd(),i.executeTapHandlers(),i.deletePointer(r),a=!0):(i.fireGestureStart(),i.deletePointer(r),i.saveInitialPinchDistance()),i.options.shouldInvokePreventDefault()&&e.preventDefault(),a&&i.options.resetInterception()}}})),Kp(Gp(i),"_elementPointerCancelHandler",(function(e){i.unregisterTapHandlers(),i._elementPointerUpHandler(e)})),Kp(Gp(i),"_elementPointerEnterHandler",(function(e){var t=e;i.options.updateLastPointerEventTimeStamp(t),i.fireMouseEnter(t)})),Kp(Gp(i),"_elementPointerLeaveHandler",(function(e){var t=e,r=t.pointerId;1===i.getPointerCount()&&(i.fireGestureEnd(),i.executeTapHandlers(),i.deletePointer(r),i.options.resetInterception()),i.options.updateLastPointerEventTimeStamp(t),i.fireMouseLeave(t)})),i.pointerEventTypes={DOWN:"pointerdown",MOVE:"pointermove",UP:"pointerup",CANCEL:"pointercancel",ENTER:"pointerenter",LEAVE:"pointerleave"},i.targetElement.addEventListener(i.pointerEventTypes.DOWN,i._elementPointerDownHandler,!1),i.targetElement.addEventListener(i.pointerEventTypes.MOVE,i._elementPointerMoveHandler,!1),i.targetElement.addEventListener(i.pointerEventTypes.UP,i._elementPointerUpHandler,!1),i.targetElement.addEventListener(i.pointerEventTypes.CANCEL,i._elementPointerCancelHandler,!1),i.targetElement.addEventListener(i.pointerEventTypes.ENTER,i._elementPointerEnterHandler,!1),i.targetElement.addEventListener(i.pointerEventTypes.LEAVE,i._elementPointerLeaveHandler,!1),i}return Up(r,[{key:"destroy",value:function(){this.targetElement.removeEventListener(this.pointerEventTypes.DOWN,this._elementPointerDownHandler,!1),this.targetElement.removeEventListener(this.pointerEventTypes.MOVE,this._elementPointerMoveHandler,!1),this.targetElement.removeEventListener(this.pointerEventTypes.UP,this._elementPointerUpHandler,!1),this.targetElement.removeEventListener(this.pointerEventTypes.CANCEL,this._elementPointerCancelHandler,!1),this.targetElement.removeEventListener(this.pointerEventTypes.ENTER,this._elementPointerEnterHandler,!1),this.targetElement.removeEventListener(this.pointerEventTypes.LEAVE,this._elementPointerLeaveHandler,!1)}}]),r}(Lp);function Zp(e){return(Zp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qp(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ed(e,t,r){return t&&Qp(e.prototype,t),r&&Qp(e,r),e}function td(e,t,r){return(td="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=rd(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function rd(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=cd(e)););return e}function nd(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&od(e,t)}function od(e,t){return(od=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function id(e){var t=ud();return function(){var r,n=cd(e);if(t){var o=cd(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ad(this,r)}}function ad(e,t){return!t||"object"!==Zp(t)&&"function"!=typeof t?sd(e):t}function sd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ud(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function cd(e){return(cd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ld(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var fd=1,pd=100,dd=function(e){nd(r,e);var t=id(r);function r(e,n,o){var i;return Jp(this,r),ld(sd(i=t.call(this,e,n,o)),"_totalDeltaY",0),ld(sd(i),"_idleTimeoutId",void 0),ld(sd(i),"_elementGestureStartHandler",(function(e){if(!i.isDeactivated()){i.options.activeHandler=sd(i),i.saveTargetElementOffset();var t=e.pageX,r=e.pageY;i.savePointer(fd,t,r,e.timeStamp),i.fireGestureStart(),e.preventDefault()}})),ld(sd(i),"_elementGestureChangeHandler",(function(e){if(!i.isDeactivated()){var t=e.pageX,r=e.pageY;i.savePointer(fd,t,r,e.timeStamp);var n=e.scale;!isNaN(n)&&isFinite(n)&&("UNDEFINED"===i.initialGesture&&(i.initialGesture=n>1?"ZOOM_IN":"ZOOM_OUT"),i.fireGestureChange(n)),i.options.shouldInvokePreventDefault()&&e.preventDefault()}})),ld(sd(i),"_elementGestureEndHandler",(function(e){if(!i.isDeactivated()){var t=e.pageX,r=e.pageY;i.savePointer(fd,t,r,e.timeStamp),i.fireGestureEnd(),i.deletePointer(fd),i.options.shouldInvokePreventDefault()&&e.preventDefault(),i.options.resetInterception()}})),ld(sd(i),"_elementWheelHandler",(function(e){if(e.ctrlKey&&!i.isDeactivated()){i.options.activeHandler=sd(i),i.savePointer(fd,e.pageX,e.pageY,e.timeStamp),"UNDEFINED"===i.initialGesture&&(i.initialGesture=e.deltaY>0?"ZOOM_OUT":"ZOOM_IN");var t=!1;0===i._totalDeltaY?(i.fireGestureStart(),i._handleTrackpadGestureChange(e.deltaY)):0===e.deltaY?(i._totalDeltaY=0,i.fireGestureEnd(),i.deletePointer(fd),t=!0,i._cancelIdleTimeout()):i._handleTrackpadGestureChange(e.deltaY),i.options.shouldInvokePreventDefault()&&e.preventDefault(),t&&i.options.resetInterception()}})),i.targetElement.addEventListener("gesturestart",i._elementGestureStartHandler,!1),i.targetElement.addEventListener("gesturechange",i._elementGestureChangeHandler,!1),i.targetElement.addEventListener("gestureend",i._elementGestureEndHandler,!1),i.targetElement.addEventListener("wheel",i._elementWheelHandler,!1),i}return ed(r,[{key:"destroy",value:function(){this.targetElement.removeEventListener("gesturestart",this._elementGestureStartHandler,!1),this.targetElement.removeEventListener("gesturechange",this._elementGestureChangeHandler,!1),this.targetElement.removeEventListener("gestureend",this._elementGestureEndHandler,!1),this.targetElement.removeEventListener("wheel",this._elementWheelHandler,!1)}},{key:"reset",value:function(){td(cd(r.prototype),"reset",this).call(this),this._cancelIdleTimeout(),this._totalDeltaY=0,this._idleTimeoutId=void 0}},{key:"_resetIdleTimeout",value:function(){var e=this;this._cancelIdleTimeout(),this._idleTimeoutId=window.setTimeout((function(){e._idleTimeoutId=void 0,e._onIdle()}),250)}},{key:"_cancelIdleTimeout",value:function(){null!==this._idleTimeoutId&&(window.clearTimeout(this._idleTimeoutId),this._idleTimeoutId=void 0)}},{key:"_onIdle",value:function(){this._totalDeltaY=0,this.fireGestureEnd(),this.deletePointer(fd),this.options.resetInterception()}},{key:"_handleTrackpadGestureChange",value:function(e){this._totalDeltaY+=e;var t=1-this._totalDeltaY/pd;this.fireGestureChange(t),this._resetIdleTimeout()}}]),r}(bp);function hd(e){return(hd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function md(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function vd(e,t,r){return t&&md(e.prototype,t),r&&md(e,r),e}function gd(e,t,r){return(gd="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=_d(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function _d(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=kd(e)););return e}function bd(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wd(e,t)}function wd(e,t){return(wd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ed(e){var t=xd();return function(){var r,n=kd(e);if(t){var o=kd(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Od(this,r)}}function Od(e,t){return!t||"object"!==hd(t)&&"function"!=typeof t?Td(e):t}function Td(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xd(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function kd(e){return(kd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Sd(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Pd=1,Cd=function(e){bd(r,e);var t=Ed(r);function r(e,n,o){var i;return yd(this,r),Sd(Td(i=t.call(this,e,n,o)),"_totalDeltaY",0),Sd(Td(i),"_idleTimeoutId",void 0),Sd(Td(i),"_elementWheelHandler",(function(e){if(!e.ctrlKey&&i.callbacks.catchWheelEvent&&i.callbacks.catchWheelEvent()&&!i.isDeactivated()){if(i.options.activeHandler=Td(i),i.savePointer(Pd,e.pageX,e.pageY,e.timeStamp),"UNDEFINED"===i.initialGesture&&(i.initialGesture=e.deltaY>0?"ZOOM_OUT":"ZOOM_IN"),0===i._totalDeltaY)i.fireGestureStart(),i._totalDeltaY+=e.deltaY;else{i._totalDeltaY+=e.deltaY;var t=1-i._totalDeltaY/200;i.fireGestureChange(t)}i._resetIdleTimeout(),i.options.shouldInvokePreventDefault()&&e.preventDefault()}})),i.targetElement.addEventListener("wheel",i._elementWheelHandler,!1),i}return vd(r,[{key:"destroy",value:function(){this.targetElement.removeEventListener("wheel",this._elementWheelHandler,!1)}},{key:"reset",value:function(){gd(kd(r.prototype),"reset",this).call(this),this._cancelIdleTimeout(),this._totalDeltaY=0,this._idleTimeoutId=void 0}},{key:"_resetIdleTimeout",value:function(){var e=this;this._cancelIdleTimeout(),this._idleTimeoutId=window.setTimeout((function(){e._idleTimeoutId=void 0,e._onIdle()}),250)}},{key:"_cancelIdleTimeout",value:function(){void 0!==this._idleTimeoutId&&(window.clearTimeout(this._idleTimeoutId),this._idleTimeoutId=void 0)}},{key:"_onIdle",value:function(){this._totalDeltaY=0,this.fireGestureEnd(),this.deletePointer(Pd),this.options.resetInterception()}}]),r}(bp);function Ad(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function jd(e,t,r){return t&&Rd(e.prototype,t),r&&Rd(e,r),e}function Id(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Dd=function(){function e(t,r){var n=this;Ad(this,e),Id(this,"targetElement",void 0),Id(this,"options",void 0),Id(this,"_interceptedBy","NONE"),Id(this,"_lastPointerEventTimeStamp",0),Id(this,"_lastTouchEventTimeStamp",0),Id(this,"_handlers",void 0),this.targetElement=t;var o=!!Object.keys(r).find((function(e){return/gesture|tap/i.test(e)}));this.options={shouldInvokeSetPointerCapture:function(){return o},shouldInvokePreventDefault:function(){return"READER"===n._interceptedBy},hasBrowserIntercepted:function(){return"BROWSER"===n._interceptedBy},updateInterceptionWithTouchEvent:function(e){e.cancelable||(n._interceptedBy="BROWSER")},resetInterception:function(){n._interceptedBy="NONE",n.options.activeHandler=null},updateLastPointerEventTimeStamp:function(e){n._lastPointerEventTimeStamp=e.timeStamp},updateLastTouchEventTimeStamp:function(e){n._lastTouchEventTimeStamp=e.timeStamp},isSimulatedMouseEvents:function(e){return n._lastPointerEventTimeStamp>=e.timeStamp||n._lastTouchEventTimeStamp>=e.timeStamp},activeHandler:null},this._handlers=[new Xp(t,r,this.options),new dd(t,r,this.options),new Cd(t,r,this.options)],this.enableBrowserHandlingOfVerticalPanningGestures()}return jd(e,[{key:"destroy",value:function(){this._handlers.forEach((function(e){e.destroy()}))}},{key:"reset",value:function(){this._interceptedBy="NONE",this._handlers.forEach((function(e){e.reset()})),this.options.activeHandler=null}},{key:"requestToIntercept",value:function(){"NONE"===this._interceptedBy&&(this._interceptedBy="READER")}},{key:"enableBrowserHandlingOfVerticalPanningGestures",value:function(){this.targetElement.style.touchAction="pan-y"}},{key:"disableBrowserHandlingOfAllPanningGestures",value:function(){this.targetElement.style.touchAction="none"}}]),e}();function Md(e){return(Md="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ld(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Bd(e,t,r){return t&&Nd(e.prototype,t),r&&Nd(e,r),e}function Fd(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ud(e,t)}function Ud(e,t){return(Ud=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Wd(e){var t=Vd();return function(){var r,n=Gd(e);if(t){var o=Gd(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return zd(this,r)}}function zd(e,t){return!t||"object"!==Md(t)&&"function"!=typeof t?Hd(e):t}function Hd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vd(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Gd(e){return(Gd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qd(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $d(e,t){return Math.min(Math.max(e/t*100,0),100)}var Kd=function(e){Fd(r,e);var t=Wd(r);function r(e){var n;return Ld(this,r),qd(Hd(n=t.call(this,e)),"_hover",!1),qd(Hd(n),"_containerWidth",0),qd(Hd(n),"container",void 0),qd(Hd(n),"inputHandler",void 0),n.container=c.createRef(),n}return Bd(r,[{key:"componentDidMount",value:function(){var e=this,t=this.container.current;this.inputHandler=new Dd(t,{onGestureStart:function(t,r){var n;e.props.locked||(e._containerWidth=(null===(n=e.container.current)||void 0===n?void 0:n.clientWidth)||0,e.props.onChangeStart(),e.props.onChange($d(t[0].x,e._containerWidth)))},onGestureChange:function(t,r,n,o){var i;e.props.locked||(null===(i=e.inputHandler)||void 0===i||i.requestToIntercept(),e.props.onChange($d(t[0].x,e._containerWidth)))},onGestureEnd:function(t){e.props.locked||e.props.onChangeEnd(e.props.value)},onMouseEnter:function(t){var r;e._hover=!0,null===(r=e.container.current)||void 0===r||r.classList.toggle("slider--hover",e._hover)},onMouseLeave:function(t){var r;e._hover=!1,null===(r=e.container.current)||void 0===r||r.classList.toggle("slider--hover",e._hover)}})}},{key:"componentDidUpdate",value:function(){this.props.abortCurrentInteraction&&this.inputHandler&&this.inputHandler.reset()}},{key:"shouldComponentUpdate",value:function(e){return!sf()(this.props,e)}},{key:"render",value:function(){var e=["slider"];this._hover&&e.push("slider--hover"),this.props.type===r.SLIDER_TYPE_ALTERNATE&&e.push("slider--alternate"),this.props.locked&&e.push("slider--locked");var t=!1;return c.createElement("div",{className:e.join(" "),ref:this.container},c.createElement("div",{className:"slider__track-container-container"},c.createElement("div",{className:"slider__track-container"},this.props.segments.map((function(e,r){var n=["slider__track"];e.available||n.push("slider__track--unavailable"),e.done&&n.push("slider__track--done");var o={flex:e.proportion},i=!t&&!e.done;return i&&(t=!0),c.createElement("div",{key:r,className:n.join(" "),style:o},i&&c.createElement("div",{className:"slider__thumb"}))})),!t&&c.createElement("div",{className:"slider__thumb slider__thumb--end"}),this.props.markers&&!!this.props.markers.length&&c.createElement(fp,{markers:this.props.markers,value:this.props.value}))),c.createElement("span",{style:{position:"absolute",visibility:"hidden"}},this.props.value))}}]),r}(c.Component);function Yd(e){return(Yd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Jd(e,t,r){return t&&Zd(e.prototype,t),r&&Zd(e,r),e}function Qd(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&eh(e,t)}function eh(e,t){return(eh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function th(e){var t=oh();return function(){var r,n=ih(e);if(t){var o=ih(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return rh(this,r)}}function rh(e,t){return!t||"object"!==Yd(t)&&"function"!=typeof t?nh(e):t}function nh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oh(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function ih(e){return(ih=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ah(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}qd(Kd,"displayName","Slider"),qd(Kd,"SLIDER_TYPE_DEFAULT","SLIDER_TYPE_DEFAULT"),qd(Kd,"SLIDER_TYPE_ALTERNATE","SLIDER_TYPE_ALTERNATE");var sh=function(e){Qd(r,e);var t=th(r);function r(){return Xd(this,r),t.apply(this,arguments)}return Jd(r,[{key:"shouldComponentUpdate",value:function(e){return!sf()(this.props,e)}},{key:"render",value:function(){return c.createElement("div",{className:"page-controls"},c.createElement("strong",{className:"page-controls__page-numbers"},this.props.currentPageNumbers," / ",this.props.pageCount),c.createElement("div",{className:"page-controls__slider"},c.createElement(Kd,{abortCurrentInteraction:this.props.abortCurrentInteraction,value:this.props.currentPageSliderPosition,onChange:this.props.pageSliderOnChange,onChangeStart:this.props.pageSliderOnChangeStart,onChangeEnd:this.props.pageSliderOnChangeEnd,locked:1===this.props.pageCount,segments:this.props.segments,markers:this.props.resultMarkers})))}}]),r}(c.Component);ah(sh,"displayName","PageControls");var uh=27,ch=36,lh=35,fh=32,ph=70,dh=37,hh=39,yh=38,mh=40,vh=191,gh=114,_h=null;function bh(e){var t=e.reader.zoomLevel;return ws(e)||Vs(e)||1!==t?ls:31536e6}function wh(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t,r){var n=r();n.reader.isIdle&&t({type:"SET_IS_IDLE",isIdle:!1}),_h&&clearTimeout(_h),_h=null,e&&(_h=setTimeout((function(){t({type:"SET_IS_IDLE",isIdle:!0})}),bh(n)))}}function Eh(){return function(e,t){t().reader.isIdle||e({type:"SET_IS_IDLE",isIdle:!0}),_h&&(clearTimeout(_h),_h=null)}}function Oh(e){return function(t,r){var n=[fh,hh,yh].includes(e),o=[dh,mh].includes(e),i=Ss(r()),a=Ps(r());t(o&&i>1||n&&i+1<a?Eh():wh())}}function Th(){return function(e){e(wh())}}function xh(){return function(e){e(wh())}}function kh(){return function(e){e(wh())}}function Sh(){return function(e){e(Eh())}}function Ph(){return function(e){e(wh())}}var Ch=NaN;function Ah(){return function(e,t){isNaN(Ch)&&(Ch=t().reader.zoomLevel),e(1!==Ch?Eh():wh())}}function Rh(){return function(e,t){var r=t().reader.zoomLevel;e(1!==Ch&&1!==r?Eh():wh(!1))}}function jh(){return function(e,t){var r=t().reader.zoomLevel;e(1!==Ch&&1!==r?Eh():wh()),Ch=NaN}}function Ih(){return function(e){e(wh())}}function Dh(){return function(e){e(wh())}}function Mh(){return function(e){e(wh())}}var Lh='transform="translate(18.000000, 18.000000) rotate(-270.000000) translate(-18.000000, -18.000000) " x="17" y="10" width="2" height="16" rx="2"',Nh='\n    <svg width="36px" height="36px" viewBox="0 0 36 36">\n        <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n            <g>\n                <rect '.concat(Lh,'></rect>\n            </g>\n        </g>\n        <rect class="shadow" ').concat(Lh,'></rect>\n        <rect class="icon" ').concat(Lh,"></rect>\n    </svg>\n"),Bh='x="17" y="10" width="2" height="16" rx="2"',Fh='transform="translate(18.000000, 18.000000) scale(-1, -1) rotate(-270.000000) translate(-18.000000, -18.000000) " x="17" y="10" width="2" height="16" rx="2"',Uh='\n    <svg width="100%" height="100%" viewBox="0 0 36 36">\n        <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n            <g>\n                <rect '.concat(Bh,"></rect>\n                <rect ").concat(Fh,'></rect>\n            </g>\n        </g>\n        <rect class="shadow" ').concat(Bh,'></rect>\n        <rect class="shadow" ').concat(Fh,'></rect>\n        <rect class="icon" ').concat(Bh,'></rect>\n        <rect class="icon" ').concat(Fh,"></rect>\n    </svg>\n");function Wh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zh(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Hh(e,t,r){return t&&zh(e.prototype,t),r&&zh(e,r),e}function Vh(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Gh="HO_CHANGE_PAGE",qh="HO_CHANGE_ZOOM",$h="HO_ENTER_FULLSCREEN",Kh="HO_INPUT_GESTURE",Yh="HO_INPUT_KEYBOARD",Xh="HO_INPUT_SLIDER",Zh="HO_INPUT_BUTTON",Jh="HO_SHARE_SOCIAL",Qh="HO_MORE_CONTENT",ey="HO_OPEN_FIND",ty="HO_FIND",ry={BUTTON_ARROW_BACKWARD:[Gh,Zh],BUTTON_ARROW_FORWARD:[Gh,Zh],BUTTON_CTA_OVERLAY:[Zh,$h],BUTTON_FULLSCREEN:[Zh,$h],BUTTON_ENGAGE_LARGEVIEW:[Zh],BUTTON_DISENGAGE_LARGEVIEW:[Zh],BUTTON_ZOOMIN:[qh,Zh],BUTTON_ZOOMOUT:[qh,Zh],BUTTON_LOGO:[Zh],BUTTON_DOWNLOAD:[Zh],GESTURE_DRAG_PAGES:[Gh,Kh],GESTURE_PINCH_ZOOM:[qh,Kh],DOUBLE_TAP_ZOOM:[qh,Kh],KEYBOARD_BACKWARD:[Gh,Yh],KEYBOARD_FORWARD:[Gh,Yh],SLIDER_PAGES:[Gh,Xh],SLIDER_ZOOM:[qh,Xh],BUTTON_SHARE:[Zh],SHARE_EMAIL:[Jh],SHARE_FACEBOOK:[Jh],SHARE_TWITTER:[Jh],SHARE_PINTEREST:[Jh],BUTTON_MORE:[Qh,Zh],FULLSCREEN_MORE:[Qh],PORTRAIT_MODE:[],LANDSCAPE_MODE:[],READER_LOADED_MOBILE:[],PUBLICATION_LINK:[],PUBLICATION_VIDEO_LINK:[],PUBLICATION_INLINE_VIDEO_LINK:[],DOWNLOAD_FROM_ISSUU_LINK:[],NAVIGATION_LINK:[],BUTTON_OPEN_FIND:[Zh,ey,{opportunity:ty}],KEYBOARD_OPEN_FIND:[Yh,ey,{opportunity:ty}],FIND_QUERY:[{usage:ty}],FIND_NEXT:[],FIND_PREV:[],FIND_CLOSE:[],FIND_CLOSE_BLUR:[]},ny=Object.keys(ry).reduce((function(e,t){return e[t]=t,e}),{});function oy(e,t){return ry[e].reduce((function(e,r){return"string"==typeof r?e.push(r):r.hasOwnProperty(t)&&e.push(r[t]),e}),[e])}var iy=function(){function e(t,r){Wh(this,e),Vh(this,"_opportunitySent",{}),Vh(this,"_usageSent",{}),Vh(this,"monitorTracker",void 0),Vh(this,"userId",void 0),this.monitorTracker=t,this.userId=r}return Hh(e,[{key:"opportunity",value:function(e){var t=this;this._opportunitySent.hasOwnProperty(e)||oy(e,"opportunity").forEach((function(e){if(!t._opportunitySent.hasOwnProperty(e)){var r="reader3-features.".concat(e);t.monitorTracker.monitor(r,{opportunity:1,userId:t.userId}),t._opportunitySent[e]=!0}}))}},{key:"usage",value:function(e){var t=this;oy(e,"usage").forEach((function(e){var r="reader3-features.".concat(e),n=t._usageSent.hasOwnProperty(e)?0:1;t.monitorTracker.monitor(r,{usageRepeat:1,usageFirst:n,userId:t.userId}),t._usageSent[e]=!0}))}}]),e}();function ay(e){return(ay="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uy(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function cy(e,t,r){return t&&uy(e.prototype,t),r&&uy(e,r),e}function ly(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fy(e,t)}function fy(e,t){return(fy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function py(e){var t=yy();return function(){var r,n=my(e);if(t){var o=my(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return dy(this,r)}}function dy(e,t){return!t||"object"!==ay(t)&&"function"!=typeof t?hy(e):t}function hy(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yy(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function my(e){return(my=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vy(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var gy=function(e){ly(r,e);var t=py(r);function r(e){var n;return sy(this,r),vy(hy(n=t.call(this,e)),"_zoomBeforeSliderStart",void 0),vy(hy(n),"zoomControls",void 0),vy(hy(n),"trackOpportunities",(function(){n.isZoomControlsVisible()&&(n.props.featureTracker.opportunity(ny.BUTTON_ZOOMIN),n.props.featureTracker.opportunity(ny.BUTTON_ZOOMOUT),n.props.featureTracker.opportunity(ny.SLIDER_ZOOM))})),vy(hy(n),"isZoomControlsVisible",(function(){if(!n.zoomControls.current)return!1;var e=window.getComputedStyle(n.zoomControls.current.parentNode);return e&&"none"!==e.display})),vy(hy(n),"handleZoomInButtonClick",(function(){n.props.currentZoomLevel>=ts||(n.props.zoomSliderOnChange(n.props.currentZoomLevel+1),n.props.trackOnceMixpanel("reader3_interaction_zoom_in"),n.props.featureTracker.usage(ny.BUTTON_ZOOMIN),n.props.dispatch(Th()))})),vy(hy(n),"handleZoomOutButtonClick",(function(){n.props.zoomSliderOnChange(n.props.currentZoomLevel-1),n.props.trackOnceMixpanel("reader3_interaction_zoom_out"),n.props.featureTracker.usage(ny.BUTTON_ZOOMOUT),n.props.dispatch(Th())})),vy(hy(n),"handleZoomSliderChangeStart",(function(){n.props.zoomSliderOnChangeStart(),n._zoomBeforeSliderStart=n.props.currentZoomLevel})),vy(hy(n),"handleZoomSliderChange",(function(e){var t=e/100*(ts-es)+es;n.props.zoomSliderOnChange(t)})),vy(hy(n),"handleZoomSliderChangeEnd",(function(){n.props.zoomSliderOnChangeEnd(),n.props.currentZoomLevel!==n._zoomBeforeSliderStart&&(n.props.trackOnceMixpanel("reader3_interaction_zoom_slider"),n.props.featureTracker.usage(ny.SLIDER_ZOOM))})),n.zoomControls=c.createRef(),n._zoomBeforeSliderStart=n.props.currentZoomLevel,n}return cy(r,[{key:"componentDidMount",value:function(){this.trackOpportunities()}},{key:"shouldComponentUpdate",value:function(e){return!sf()(this.props,e)}},{key:"componentDidUpdate",value:function(){this.trackOpportunities()}},{key:"render",value:function(){var e=100/(ts-es)*(this.props.currentZoomLevel-es);return c.createElement("div",{className:"zoom-controls",ref:this.zoomControls},c.createElement("div",{className:"zoom-controls__button","data-tooltip":"Zoom out"},c.createElement(Jf,{id:"ird3-button-zoomout",labelProps:{"aria-label":"Zoom out"},className:"svg-btn",onClick:this.handleZoomOutButtonClick,content:Nh})),c.createElement("div",{className:"zoom-controls__slider"},c.createElement(Kd,{value:e,onChange:this.handleZoomSliderChange,onChangeStart:this.handleZoomSliderChangeStart,onChangeEnd:this.handleZoomSliderChangeEnd,segments:this.props.segments,type:Kd.SLIDER_TYPE_ALTERNATE})),c.createElement("div",{className:"zoom-controls__button","data-tooltip":"Zoom in"},c.createElement(Jf,{id:"ird3-button-zoomin",labelProps:{"aria-label":"Zoom in"},className:"svg-btn",onClick:this.handleZoomInButtonClick,content:Uh})))}}]),r}(c.Component);vy(gy,"displayName","ZoomControls");var _y='d="M27.7068284,10.2884629 C27.5277733,10.1097429 27.2813055,10 27.009222,10 L22.990778,10 C22.4509752,10 22,10.4477153 22,11 C22,11.5561352 22.4435864,12 22.990778,12 L26,12 L26,15.009222 C26,15.5490248 26.4477153,16 27,16 C27.5561352,16 28,15.5564136 28,15.009222 L28,10.990778 C28,10.7223751 27.8893106,10.4759332 27.7101145,10.2959709 Z" fill="#F5F5F5" transform="translate(25.000000, 13.000000) rotate(-180.000000) translate(-25.000000, -13.000000)"',by='d="M13.7068284,10.2884629 C13.5277733,10.1097429 13.2813055,10 13.009222,10 L8.99077797,10 C8.45097518,10 8,10.4477153 8,11 C8,11.5561352 8.44358641,12 8.99077797,12 L12,12 L12,15.009222 C12,15.5490248 12.4477153,16 13,16 C13.5561352,16 14,15.5564136 14,15.009222 L14,10.990778 C14,10.7223751 13.8893106,10.4759332 13.7101145,10.2959709 Z" fill="#F5F5F5" transform="translate(11.000000, 13.000000) scale(-1, 1) rotate(-180.000000) translate(-11.000000, -13.000000)"',wy='d="M27.7068284,20.2884629 C27.5277733,20.1097429 27.2813055,20 27.009222,20 L22.990778,20 C22.4509752,20 22,20.4477153 22,21 C22,21.5561352 22.4435864,22 22.990778,22 L26,22 L26,25.009222 C26,25.5490248 26.4477153,26 27,26 C27.5561352,26 28,25.5564136 28,25.009222 L28,20.990778 C28,20.7223751 27.8893106,20.4759332 27.7101145,20.2959709 Z" fill="#F5F5F5" transform="translate(25.000000, 23.000000) rotate(-90.000000) translate(-25.000000, -23.000000)"',Ey='d="M13.7068284,20.2884629 C13.5277733,20.1097429 13.2813055,20 13.009222,20 L8.99077797,20 C8.45097518,20 8,20.4477153 8,21 C8,21.5561352 8.44358641,22 8.99077797,22 L12,22 L12,25.009222 C12,25.5490248 12.4477153,26 13,26 C13.5561352,26 14,25.5564136 14,25.009222 L14,20.990778 C14,20.7223751 13.8893106,20.4759332 13.7101145,20.2959709 Z" fill="#F5F5F5" transform="translate(11.000000, 23.000000) scale(-1, 1) rotate(-90.000000) translate(-11.000000, -23.000000)"',Oy='\n    <svg width="100%" height="100%" viewBox="0 0 36 36">\n        <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n            <g>\n                <path '.concat(_y,"></path>\n                <path ").concat(by,"></path>\n                <path ").concat(wy,"></path>\n                <path ").concat(Ey,'></path>\n            </g>\n        </g>\n        <path class="shadow" ').concat(_y,'></path>\n        <path class="shadow" ').concat(by,'></path>\n        <path class="shadow" ').concat(wy,'></path>\n        <path class="shadow" ').concat(Ey,'></path>\n        <path class="icon" ').concat(_y,'></path>\n        <path class="icon" ').concat(by,'></path>\n        <path class="icon" ').concat(wy,'></path>\n        <path class="icon" ').concat(Ey,"></path>\n    </svg>\n"),Ty='d="M27.7068284,10.2884629 C27.5277733,10.1097429 27.2813055,10 27.009222,10 L22.990778,10 C22.4509752,10 22,10.4477153 22,11 C22,11.5561352 22.4435864,12 22.990778,12 L26,12 L26,15.009222 C26,15.5490248 26.4477153,16 27,16 C27.5561352,16 28,15.5564136 28,15.009222 L28,10.990778 C28,10.7223751 27.8893106,10.4759332 27.7101145,10.2959709 Z"',xy='d="M13.7068284,10.2884629 C13.5277733,10.1097429 13.2813055,10 13.009222,10 L8.99077797,10 C8.45097518,10 8,10.4477153 8,11 C8,11.5561352 8.44358641,12 8.99077797,12 L12,12 L12,15.009222 C12,15.5490248 12.4477153,16 13,16 C13.5561352,16 14,15.5564136 14,15.009222 L14,10.990778 C14,10.7223751 13.8893106,10.4759332 13.7101145,10.2959709 Z" transform="translate(11.000000, 13.000000) scale(-1, 1) translate(-11.000000, -13.000000)"',ky='d="M27.7068284,20.2884629 C27.5277733,20.1097429 27.2813055,20 27.009222,20 L22.990778,20 C22.4509752,20 22,20.4477153 22,21 C22,21.5561352 22.4435864,22 22.990778,22 L26,22 L26,25.009222 C26,25.5490248 26.4477153,26 27,26 C27.5561352,26 28,25.5564136 28,25.009222 L28,20.990778 C28,20.7223751 27.8893106,20.4759332 27.7101145,20.2959709 Z" transform="translate(25.000000, 23.000000) rotate(-270.000000) translate(-25.000000, -23.000000)"',Sy='d="M13.7068284,20.2884629 C13.5277733,20.1097429 13.2813055,20 13.009222,20 L8.99077797,20 C8.45097518,20 8,20.4477153 8,21 C8,21.5561352 8.44358641,22 8.99077797,22 L12,22 L12,25.009222 C12,25.5490248 12.4477153,26 13,26 C13.5561352,26 14,25.5564136 14,25.009222 L14,20.990778 C14,20.7223751 13.8893106,20.4759332 13.7101145,20.2959709 Z" transform="translate(11.000000, 23.000000) scale(-1, 1) rotate(-270.000000) translate(-11.000000, -23.000000)"',Py='\n    <svg width="100%" height="100%" viewBox="0 0 36 36">\n        <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n            <g>\n                <path '.concat(Ty,"></path>\n                <path ").concat(xy,"></path>\n                <path ").concat(ky,"></path>\n                <path ").concat(Sy,'></path>\n            </g>\n        </g>\n        <path class="shadow" ').concat(Ty,'></path>\n        <path class="shadow" ').concat(xy,'></path>\n        <path class="shadow" ').concat(ky,'></path>\n        <path class="shadow" ').concat(Sy,'></path>\n        <path class="icon" ').concat(Ty,'></path>\n        <path class="icon" ').concat(xy,'></path>\n        <path class="icon" ').concat(ky,'></path>\n        <path class="icon" ').concat(Sy,"></path>\n    </svg>\n");function Cy(e){return(Cy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ay(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ry(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function jy(e,t,r){return t&&Ry(e.prototype,t),r&&Ry(e,r),e}function Iy(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Dy(e,t)}function Dy(e,t){return(Dy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function My(e){var t=By();return function(){var r,n=Fy(e);if(t){var o=Fy(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Ly(this,r)}}function Ly(e,t){return!t||"object"!==Cy(t)&&"function"!=typeof t?Ny(e):t}function Ny(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function By(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Fy(e){return(Fy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Uy(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Wy=function(e){Iy(r,e);var t=My(r);function r(){return Ay(this,r),t.apply(this,arguments)}return jy(r,[{key:"shouldComponentUpdate",value:function(e){return this.props.fullscreenEnabled!==e.fullscreenEnabled}},{key:"render",value:function(){var e=this.props.fullscreenEnabled?Oy:Py,t=this.props.fullscreenEnabled?"Exit":"Fullscreen";return c.createElement("div",{className:"fullscreen-controls"},c.createElement("div",{className:"fullscreen-controls__button","data-tooltip":t},c.createElement(Jf,{id:"ird3-button-fullscreen",labelProps:{"aria-label":t},className:"svg-btn ",onClick:this.props.toggleFullscreen,content:e})))}}]),r}(c.Component);Uy(Wy,"displayName","FullscreenControls");var zy='\n<svg width="100%" height="100%" viewBox="0 0 36 36">\n  <path\n    class="shadow"\n    d="M12 15v6h12v-6H12zm-1-2h14c.552 0 1 .448 1 1v8c0 .552-.448 1-1 1H11c-.552 0-1-.448-1-1v-8c0-.552.448-1 1-1z"\n    fill-rule="nonzero"/>\n  <path\n    class="icon"\n    d="M12 15v6h12v-6H12zm-1-2h14c.552 0 1 .448 1 1v8c0 .552-.448 1-1 1H11c-.552 0-1-.448-1-1v-8c0-.552.448-1 1-1z"\n    fill-rule="nonzero"/>\n</svg>\n',Hy='\n<svg width="100%" height="100%" viewBox="0 0 36 36">\n  <path\n    class="shadow"\n    d="M10 13v10h16V13H10zm-1-2h18c.552 0 1 .448 1 1v12c0 .552-.448 1-1 1H9c-.552 0-1-.448-1-1V12c0-.552.448-1 1-1z"\n    fill-rule="nonzero"/>\n  <path\n    class="icon"\n    d="M10 13v10h16V13H10zm-1-2h18c.552 0 1 .448 1 1v12c0 .552-.448 1-1 1H9c-.552 0-1-.448-1-1V12c0-.552.448-1 1-1z"\n    fill-rule="nonzero"/>\n</svg>\n';function Vy(e){return(Vy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qy(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function $y(e,t,r){return t&&qy(e.prototype,t),r&&qy(e,r),e}function Ky(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yy(e,t)}function Yy(e,t){return(Yy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xy(e){var t=Qy();return function(){var r,n=em(e);if(t){var o=em(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Zy(this,r)}}function Zy(e,t){return!t||"object"!==Vy(t)&&"function"!=typeof t?Jy(e):t}function Jy(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qy(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function em(e){return(em=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tm(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var rm=function(e){Ky(r,e);var t=Xy(r);function r(e){var n;return Gy(this,r),(n=t.call(this,e)).handleClick=n.handleClick.bind(Jy(n)),n}return $y(r,[{key:"componentDidMount",value:function(){this.trackOpportunities()}},{key:"componentDidUpdate",value:function(){this.trackOpportunities()}},{key:"trackUsage",value:function(){var e=this.props.largeViewEngaged?ny.BUTTON_DISENGAGE_LARGEVIEW:ny.BUTTON_ENGAGE_LARGEVIEW,t=this.props.largeViewEngaged?"reader3_interaction_standard_view":"reader3_interaction_large_view";this.props.featureTracker.usage(e),this.props.trackOnceMixpanel(t)}},{key:"trackOpportunities",value:function(){var e=this.props.largeViewEngaged?ny.BUTTON_DISENGAGE_LARGEVIEW:ny.BUTTON_ENGAGE_LARGEVIEW;this.props.featureTracker.opportunity(e)}},{key:"handleClick",value:function(){this.trackUsage(),this.props.handleClick()}},{key:"render",value:function(){var e=this.props,t=e.largeViewEngaged,r=e.largeViewPromoted,n=t?zy:Hy,o=t?"Standard View":"Larger View";return c.createElement("div",{className:Bf()("large-view-controls",{"large-view-controls--promoted":r})},c.createElement("div",{className:"large-view-controls__button","data-tooltip":o},c.createElement(Jf,{id:"ird3-button-large-view",className:"svg-btn ",onClick:this.handleClick,content:n})))}}]),r}(c.PureComponent);tm(rm,"displayName","LargeViewControls");var nm='\n<svg width="100%" height="100%" viewBox="-9 -9 34 34" xmlns="http://www.w3.org/2000/svg">\n  <path d="M6.29 12.58c3.474 0 6.29-2.816 6.29-6.29S9.765 0 6.29 0 0 2.816 0 6.29s2.816 6.29 6.29 6.29zm0-1.677c2.548 0 4.613-2.065 4.613-4.613 0-2.548-2.065-4.613-4.613-4.613-2.548 0-4.613 2.065-4.613 4.613 0 2.548 2.065 4.613 4.613 4.613zm4.665 1.83c-.492-.49-.496-1.284 0-1.78.49-.49 1.287-.49 1.78.002l2.895 2.895c.49.492.495 1.286 0 1.78-.49.492-1.288.49-1.78 0l-2.895-2.896zm-3.18-3.507L7.34 7.8H5.157l-.436 1.426H3.355l2.113-6.012H7.02l2.122 6.012H7.775zm-.738-2.49c-.403-1.29-.627-2.022-.678-2.19-.05-.17-.088-.304-.11-.403-.09.35-.348 1.214-.774 2.592h1.56z" class="shadow" fill-rule="evenodd" />\n  <path d="M6.29 12.58c3.474 0 6.29-2.816 6.29-6.29S9.765 0 6.29 0 0 2.816 0 6.29s2.816 6.29 6.29 6.29zm0-1.677c2.548 0 4.613-2.065 4.613-4.613 0-2.548-2.065-4.613-4.613-4.613-2.548 0-4.613 2.065-4.613 4.613 0 2.548 2.065 4.613 4.613 4.613zm4.665 1.83c-.492-.49-.496-1.284 0-1.78.49-.49 1.287-.49 1.78.002l2.895 2.895c.49.492.495 1.286 0 1.78-.49.492-1.288.49-1.78 0l-2.895-2.896zm-3.18-3.507L7.34 7.8H5.157l-.436 1.426H3.355l2.113-6.012H7.02l2.122 6.012H7.775zm-.738-2.49c-.403-1.29-.627-2.022-.678-2.19-.05-.17-.088-.304-.11-.403-.09.35-.348 1.214-.774 2.592h1.56z" class="icon" fill-rule="evenodd"/>\n</svg>\n';function om(e){return(om="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function im(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function am(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function sm(e,t,r){return t&&am(e.prototype,t),r&&am(e,r),e}function um(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cm(e,t)}function cm(e,t){return(cm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function lm(e){var t=dm();return function(){var r,n=hm(e);if(t){var o=hm(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return fm(this,r)}}function fm(e,t){return!t||"object"!==om(t)&&"function"!=typeof t?pm(e):t}function pm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dm(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function hm(e){return(hm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ym(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var mm=function(e){um(r,e);var t=lm(r);function r(){var e;im(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return ym(pm(e=t.call.apply(t,[this].concat(o))),"onClick",(function(){e.props.featureTracker.usage("BUTTON_OPEN_FIND"),e.props.trackOnceMixpanel("reader3_interaction_open_find"),e.props.onClick()})),e}return sm(r,[{key:"componentDidMount",value:function(){this.props.featureTracker.opportunity("BUTTON_OPEN_FIND")}},{key:"render",value:function(){var e=this.props.findAvailable,t=e?"Find":"Find is not available";return l.a.createElement("div",{className:Bf()("controls__find-button",{"controls__find-button--disabled":!e}),"data-tooltip":t},l.a.createElement("button",{type:"button",className:Bf()("find-button svg-btn",{"svg-btn--disabled":!e}),onClick:this.onClick,"aria-label":t,dangerouslySetInnerHTML:{__html:nm},disabled:!e}))}}]),r}(c.Component);function vm(){return function(e,t){return e(fi()).then((function(){var r=t(),n=gi(r),o=r.reader.currentPageNumber;return e(Ri(n,o))})),t().canvasApi.zoomCurrentView(1),Promise.resolve()}}var gm=$n((function(e){return{isVisible:vi(e),findAvailable:Ci(e)}}),{closeFindDialog:pi,openFindDialog:vm},(function(e,t,r){return Object.assign({},r,e,{onClick:e.isVisible?t.closeFindDialog:t.openFindDialog,findAvailable:e.findAvailable})}))(mm);function _m(e,t,r){return{proportion:e,done:t,available:r}}var bm=jo(Es,(function(e){return e>0&&e<100?[{proportion:Math.round(e),done:!0,available:!0},{proportion:100-Math.round(e),done:!1,available:!0}]:[{proportion:100,done:100===e,available:!0}]})),wm=jo(Ss,Ps,Fo,Xa,Ka,xs,(function(e,t,r,n,o,i){for(var a=t+1,s=[_m(2,e>0,!0)],u=o?n.map((function(e){return Wo(i,e)})):[],c=1;c<a;c++){var l=s[s.length-1],f=!u.includes(c),p=c<=e,d=2;"DOUBLE_PAGE_SPREAD"===i&&c<t&&(d=4),c===e&&c<t?(s.push(_m("DOUBLE_PAGE_SPREAD"===i?2:1,!0,f)),s.push(_m("DOUBLE_PAGE_SPREAD"===i?2:1,!1,f))):p===l.done&&f===l.available?l.proportion+=d:s.push(_m(d,p,f))}return s})),Em="HIDDEN",Om="ENGAGED",Tm="DISENGAGED",xm=function(e){return e.config.origins},km=function(e,t,r,n){return Object.assign({},e,{sessionId:t,embedTrackingQuery:r,embedId:n})};function Sm(e,t,r,n){return function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:km(e,t,r,n);return o}}var Pm='d="M6.83590808,3.64127016 C5.02752664,3.6236996 3.54764132,5.11190524 3.53049341,6.96464718 C3.5133455,8.81760081 4.96575284,10.3339617 6.77413428,10.3515323 C8.58251571,10.3688911 10.0626076,8.88089718 10.0795489,7.02815524 C10.0966969,5.17520161 8.64428951,3.65862903 6.83590808,3.64127016 L6.83590808,3.64127016 Z M6.78942278,8.69524194 C5.87376569,8.68635081 5.13826495,7.91853831 5.14694221,6.9803125 C5.15561947,6.04208669 5.90496249,5.28845766 6.82061958,5.29734879 C7.73627667,5.30623992 8.4717774,6.07405242 8.46310015,7.01248992 C8.45442289,7.95050403 7.70507987,8.70413306 6.78942278,8.69524194 L6.78942278,8.69524194 Z"',Cm='d="M6.75843258,0.424375 C6.74830911,0.424375 6.73818565,0.424798387 6.72785558,0.424798387 L6.72785558,0.424163306 L0.856245804,0.424163306 C0.562045511,0.424163306 0.321148361,0.67078629 0.321148361,0.972449597 L0.321148361,7.02053427 C0.321148361,10.6633569 3.2032369,13.6164819 6.75843258,13.6164819 C10.3138349,13.6164819 13.1957168,10.6633569 13.1957168,7.02053427 C13.1957168,3.3775 10.3138349,0.424375 6.75843258,0.424375 L6.75843258,0.424375 Z M2.33592452,6.92929435 C2.35927047,4.40019153 4.37921167,2.36920363 6.84747775,2.39291331 C9.31574383,2.41683468 11.2980836,4.48677419 11.274531,7.01566532 C11.2513917,9.54455645 9.23124389,11.5755444 6.76318441,11.551623 C4.29491833,11.5277016 2.31257857,9.45797379 2.33592452,6.92929435 L2.33592452,6.92929435 Z"',Am='d="M1.18803132,0.461209677 C1.75267275,0.461209677 2.22289738,0.943235887 2.22289738,1.52137097 C2.22289738,2.09950605 1.75267275,2.58110887 1.18803132,2.58110887 C0.624009688,2.58110887 0.153578461,2.09950605 0.153578461,1.52137097 C0.153578461,0.943235887 0.624009688,0.461209677 1.18803132,0.461209677 L1.18803132,0.461209677 Z M1.18803132,12.5656351 C0.661197927,12.5656351 0.30419083,12.160877 0.30419083,11.6597984 L0.30419083,4.79775202 C0.30419083,4.29709677 0.680411851,3.89212702 1.18803132,3.89212702 C1.69627059,3.89212702 2.07228501,4.29709677 2.07228501,4.79775202 L2.07228501,11.6597984 C2.07228501,12.160877 1.71486471,12.5656351 1.18803132,12.5656351 L1.18803132,12.5656351 Z"',Rm='d="M7.56498795,12.6429032 C6.37971612,12.6429032 5.32646254,12.2574093 4.5742271,11.6597984 C4.31101701,11.4478931 4.19779948,11.1587198 4.19779948,10.9080746 C4.19779948,10.522369 4.49902422,10.2715121 4.87524524,10.2715121 C5.17585017,10.2715121 5.36427059,10.3877319 5.57107852,10.5420565 C6.07890458,10.9273387 6.79353858,11.2931452 7.69679959,11.2931452 C8.71265833,11.2931452 9.25808584,10.9080746 9.25808584,10.3104637 C9.25808584,9.65548387 8.73125245,9.40462702 7.41437558,9.03797379 C5.10085389,8.40268145 4.25440825,7.59231855 4.25440825,6.20509073 C4.25440825,4.75943548 5.5522778,3.81485887 7.58399527,3.81485887 C8.35503143,3.81485887 9.2200712,4.00771169 9.91631767,4.35446573 C10.4241437,4.60511089 10.781564,4.91333669 10.781564,5.29904234 C10.781564,5.64579637 10.5935568,5.97392137 10.1045315,5.97392137 C9.85991551,5.97392137 9.61529954,5.858125 9.33328872,5.70337702 C8.80624873,5.41462702 8.22321978,5.26114919 7.54639383,5.26114919 C6.60573797,5.26114919 5.96610026,5.51137097 5.96610026,6.18561492 C5.96610026,6.84144153 6.53053509,7.05292339 7.8848068,7.45789315 C9.91631767,8.05529234 10.9697779,8.61416331 10.9697779,10.1754032 C10.9697779,11.602006 9.80351335,12.6429032 7.56498795,12.6429032"',jm='d="M16.0804749,12.6429032 C14.8952031,12.6429032 13.8415363,12.2574093 13.0893009,11.6597984 C12.8258842,11.4478931 12.7130799,11.1587198 12.7130799,10.9080746 C12.7130799,10.522369 13.014098,10.2715121 13.390319,10.2715121 C13.6913372,10.2715121 13.8791378,10.3877319 14.0863589,10.5420565 C14.5939784,10.9273387 15.3086124,11.2931452 16.2114602,11.2931452 C17.2275255,11.2931452 17.772953,10.9080746 17.772953,10.3104637 C17.772953,9.65548387 17.2465328,9.40462702 15.9298626,9.03797379 C13.6159277,8.40268145 12.7696886,7.59231855 12.7696886,6.20509073 C12.7696886,4.75943548 14.0677648,3.81485887 16.0990691,3.81485887 C16.8703118,3.81485887 17.7357648,4.00771169 18.4318047,4.35446573 C18.9392175,4.60511089 19.297051,4.91333669 19.297051,5.29904234 C19.297051,5.64579637 19.1088372,5.97392137 18.6193987,5.97392137 C18.3749893,5.97392137 18.1303733,5.858125 17.8485691,5.70337702 C17.3219423,5.41462702 16.7385002,5.26114919 16.0614676,5.26114919 C15.1208118,5.26114919 14.4813806,5.51137097 14.4813806,6.18561492 C14.4813806,6.84144153 15.0454023,7.05292339 16.4000872,7.45789315 C18.4318047,8.05529234 19.4850582,8.61416331 19.4850582,10.1754032 C19.4850582,11.602006 18.3185871,12.6429032 16.0804749,12.6429032"',Im='d="M21.1926182,8.61416331 L21.1926182,4.79775202 C21.1926182,4.29709677 21.5878466,3.89212702 22.0768719,3.89212702 C22.5658973,3.89212702 22.9611256,4.29709677 22.9611256,4.79775202 L22.9611256,8.82606855 C22.9611256,10.0409778 23.8823609,10.9849194 25.1246547,10.9849194 C26.3659155,10.9849194 27.3063648,10.0409778 27.3063648,8.82606855 L27.3063648,4.79775202 C27.3063648,4.29709677 27.7015931,3.89212702 28.1902052,3.89212702 C28.679024,3.89212702 29.0740457,4.29709677 29.0740457,4.79775202 L29.0740457,8.61416331 C29.0740457,10.8697581 27.4001618,12.6429032 25.1246547,12.6429032 C22.8481147,12.6429032 21.1926182,10.8697581 21.1926182,8.61416331"',Dm='d="M31.0324197,8.61416331 L31.0324197,4.79775202 C31.0324197,4.29709677 31.4272349,3.89212702 31.9164668,3.89212702 C32.405079,3.89212702 32.8003073,4.29709677 32.8003073,4.79775202 L32.8003073,8.82606855 C32.8003073,10.0409778 33.7225756,10.9849194 34.9636298,10.9849194 C36.2048906,10.9849194 37.1455465,10.0409778 37.1455465,8.82606855 L37.1455465,4.79775202 C37.1455465,4.29709677 37.5407748,3.89212702 38.0298002,3.89212702 C38.5192387,3.89212702 38.9136406,4.29709677 38.9136406,4.79775202 L38.9136406,8.61416331 C38.9136406,10.8697581 37.2401699,12.6429032 34.9636298,12.6429032 C32.6872964,12.6429032 31.0324197,10.8697581 31.0324197,8.61416331"',Mm='\n<svg width="100%" height="100%" viewBox="-2 0 60 14">\n    <g class="logo__icon">\n        <path class="shadow" '.concat(Pm,'></path>\n        <path class="shadow" ').concat(Cm,'></path>\n        <path class="icon" ').concat(Pm,'></path>\n        <path class="icon" ').concat(Cm,'></path>\n    </g>\n    <g class="logo__title" transform="translate(17.000000, 0.000000)">\n        <path class="shadow" ').concat(Am,'></path>\n        <path class="shadow" ').concat(Rm,'></path>\n        <path class="shadow" ').concat(jm,'></path>\n        <path class="shadow" ').concat(Im,'></path>\n        <path class="shadow" ').concat(Dm,'></path>\n\n        <path class="icon" ').concat(Am,'></path>\n        <path class="icon" ').concat(Rm,'></path>\n        <path class="icon" ').concat(jm,'></path>\n        <path class="icon" ').concat(Im,'></path>\n        <path class="icon" ').concat(Dm,"></path>\n    </g>\n</svg>\n");function Lm(e){return(Lm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bm(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Fm(e,t,r){return t&&Bm(e.prototype,t),r&&Bm(e,r),e}function Um(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wm(e,t)}function Wm(e,t){return(Wm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function zm(e){var t=Gm();return function(){var r,n=qm(e);if(t){var o=qm(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Hm(this,r)}}function Hm(e,t){return!t||"object"!==Lm(t)&&"function"!=typeof t?Vm(e):t}function Vm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gm(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function qm(e){return(qm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Km=function(e){Um(r,e);var t=zm(r);function r(e){var n;return Nm(this,r),$m(Vm(n=t.call(this,e)),"inputHandler",void 0),$m(Vm(n),"_percentBeforeSlider",void 0),$m(Vm(n),"controlsContainer",void 0),$m(Vm(n),"onReadOnIssuuClick",(function(){var e=n.props.issuuBrandingFeature&&n.props.issuuBrandingFeature.openInNewTab?"_blank":"_top";window.open("https:".concat(n.props.mainHost,"/explore").concat(Ie("logo",n.props.issuuLinkTrackingQuery||"")),e),n.props.dispatch(Th()),n.props.featureTracker.usage(ny.BUTTON_LOGO),n.props.trackOnceMixpanel("reader3_interaction_read_on_issuu")})),$m(Vm(n),"onToggleFullscreenClick",(function(){n.props.toggleFullscreen(),n.props.featureTracker.usage(ny.BUTTON_FULLSCREEN),!n.props.fullscreenEnabled&&n.props.trackOnceMixpanel("reader3_interaction_fullscreen"),n.props.dispatch(Th())})),$m(Vm(n),"onSliderActivityStart",(function(){n.props.dispatch(_c(!0)),n.props.dispatch(Ph())})),$m(Vm(n),"onSliderActivityChange",(function(){n.props.dispatch(Ph())})),$m(Vm(n),"onSliderActivityEnd",(function(){n.props.dispatch(_c(!1)),n.props.dispatch(Ph())})),$m(Vm(n),"handlePageSliderOnChangeStart",(function(){n.props.canvasApi&&n.props.canvasApi.setSnapping(!1),n.onSliderActivityStart(),n._percentBeforeSlider=n.props.currentPageSliderPosition})),$m(Vm(n),"handlePageSliderOnChange",(function(e){n.onSliderActivityChange(),n.props.canvasApi&&n.props.canvasApi.jumpToPositionByPercent(e)})),$m(Vm(n),"handlePageSliderOnChangeEnd",(function(e){n.props.canvasApi&&n.props.canvasApi.setSnapping(!0),n.onSliderActivityEnd(),n.props.currentPageSliderPosition!==n._percentBeforeSlider&&(n.props.featureTracker.usage(ny.SLIDER_PAGES),n.props.trackOnceMixpanel("reader3_interaction_slider_page_jump"))})),$m(Vm(n),"handleZoomSliderOnChangeStart",(function(){n.onSliderActivityStart()})),$m(Vm(n),"handleZoomSliderOnChange",(function(e){n.onSliderActivityChange(),n.props.canvasApi&&n.props.canvasApi.zoomCurrentView(e)})),$m(Vm(n),"handleZoomSliderOnChangeEnd",(function(){n.onSliderActivityEnd()})),n._percentBeforeSlider=n.props.currentPageSliderPosition,n.controlsContainer=c.createRef(),n}return Fm(r,[{key:"componentDidMount",value:function(){var e=this,t=this.controlsContainer.current;this.inputHandler=new Dd(t,{onMouseEnter:function(t){e.props.visible&&e.props.dispatch(wc(!0))},onMouseLeave:function(t){e.props.dispatch(wc(!1))}}),this.props.featureTracker.opportunity(ny.SLIDER_PAGES)}},{key:"shouldComponentUpdate",value:function(e){var t=this.props.visible!==e.visible;return e.visible&&(t=t||!sf()(this.props,e)),t}},{key:"componentWillUnmount",value:function(){this.inputHandler&&this.inputHandler.destroy()}},{key:"render",value:function(){var e=this,t=null;this.props.showIssuuBranding&&(t=c.createElement("div",{className:"controls__read-on-issuu"},c.createElement("div",{className:"controls__read-on-issuu-button","data-tooltip":"Read more on Issuu"},c.createElement(Jf,{className:"svg-btn logo-icon",onClick:this.onReadOnIssuuClick,labelProps:{"aria-label":"Read more Publications on Issuu"},content:Mm}))),this.props.featureTracker.opportunity(ny.BUTTON_LOGO));var r=null;if(this.props.fullscreenFeature){var n=!1;switch(this.props.fullscreenFeature.showButtons){case"ALWAYS":n=!0;break;case"HIDE_WHEN_NOT_SUPPORTED":n=this.props.fullscreenIsSupported}n&&(r=c.createElement(Wy,{fullscreenEnabled:this.props.fullscreenEnabled,toggleFullscreen:this.onToggleFullscreenClick}),this.props.featureTracker.opportunity(ny.BUTTON_FULLSCREEN))}var o=Bf()("controls",{"controls--hidden":!this.props.visible});return c.createElement("div",{className:o,ref:this.controlsContainer},c.createElement("div",{className:"controls__background"}),c.createElement("div",{className:"controls__part controls__part--page-controls"},c.createElement(sh,{abortCurrentInteraction:this.props.isAdOverlayVisible,currentPageSliderPosition:this.props.currentPageSliderPosition,currentPageNumbers:this.props.currentPageNumbers,pageCount:this.props.pageCount,pageSliderOnChangeStart:this.handlePageSliderOnChangeStart,pageSliderOnChange:this.handlePageSliderOnChange,pageSliderOnChangeEnd:this.handlePageSliderOnChangeEnd,segments:this.props.pageSegments,resultMarkers:this.props.resultMarkers})),this.props.zoomFeature&&c.createElement("div",{className:"controls__part controls__part--zoom-controls"},c.createElement(gy,{currentZoomLevel:this.props.zoomLevel,dispatch:this.props.dispatch,featureTracker:this.props.featureTracker,segments:this.props.zoomSegments,trackOnceMixpanel:this.props.trackOnceMixpanel,zoomSliderOnChangeStart:this.handleZoomSliderOnChangeStart,zoomSliderOnChange:this.handleZoomSliderOnChange,zoomSliderOnChangeEnd:this.handleZoomSliderOnChangeEnd})),t&&c.createElement("div",{className:"controls__part"},t),c.createElement("div",{className:"controls__part"},c.createElement(gm,{featureTracker:this.props.featureTracker,trackOnceMixpanel:this.props.trackOnceMixpanel})),this.props.largeViewState!==Em&&!this.props.fullscreenEnabled&&c.createElement("div",{className:"controls__part"},c.createElement(rm,{featureTracker:this.props.featureTracker,trackOnceMixpanel:this.props.trackOnceMixpanel,largeViewPromoted:this.props.largeViewPromoted,largeViewEngaged:this.props.largeViewState===Om,handleClick:function(){e.props.dispatch(vc())}})),r&&c.createElement("div",{className:"controls__part controls__part--fullscreen-controls"},r))}}]),r}(c.Component);$m(Km,"displayName","Controls");var Ym=function(e){return{showIssuuBranding:Ms(e),canvasApi:e.canvasApi,isAdOverlayVisible:Gu(e),currentPageNumbers:Ts(e).join("-"),currentPageSliderPosition:Os(e),featureTracker:e.featureTracker,fullscreenEnabled:ws(e),fullscreenIsSupported:e.fullscreen.supported,issuuBrandingFeature:ds(e),issuuLinkTrackingQuery:Fs(e),pageCount:Fo(e).pageCount,pageSegments:wm(e),resultMarkers:Mi(e),fullscreenFeature:vs(e),zoomFeature:ps(e),zoomLevel:e.reader.zoomLevel,zoomSegments:bm(e),largeViewPromoted:e.reader.largeViewPromoted,largeViewState:e.reader.largeViewState,mainHost:xm(e).main}},Xm=$n(Ym,void 0,void 0,{pure:!1})(Km);function Zm(e){return(Zm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qm(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ev(e,t,r){return t&&Qm(e.prototype,t),r&&Qm(e,r),e}function tv(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rv(e,t)}function rv(e,t){return(rv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function nv(e){var t=av();return function(){var r,n=sv(e);if(t){var o=sv(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ov(this,r)}}function ov(e,t){return!t||"object"!==Zm(t)&&"function"!=typeof t?iv(e):t}function iv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function av(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function sv(e){return(sv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function uv(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var cv=function(e){tv(r,e);var t=nv(r);function r(){return Jm(this,r),t.apply(this,arguments)}return ev(r,[{key:"onClick",value:function(){this.props.toggleShareDropdown("SHARE"),this.props.featureTracker.usage(ny.BUTTON_SHARE),this.props.dispatch(Th())}},{key:"render",value:function(){var e=this;return c.createElement("div",{className:"header-controls__share-toggle",onClick:function(){return e.onClick()}},"Share")}}]),r}(c.Component);uv(cv,"displayName","ShareButton");r(345);function lv(e,t){return yv(e)||hv(e,t)||pv(e,t)||fv()}function fv(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function pv(e,t){if(e){if("string"==typeof e)return dv(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?dv(e,t):void 0}}function dv(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hv(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}function yv(e){if(Array.isArray(e))return e}function mv(e,t,r){var n={width:t,height:r,left:(screen.width-t)/2,top:(screen.height-r)/2},o=Object.entries(n).map((function(e){var t=lv(e,2),r=t[0],n=t[1];return"".concat(r,"=").concat(n)})).join(",");window.open(e,"_blank",o)}function vv(e,t){return function(r){var n=encodeURIComponent("I found this great publication on issuu.com"),o=encodeURIComponent("Hi,\n\nI found this publication on issuu.com which seems totally made for you.\n\n".concat(e,":\n").concat(t,"\n\nCheck it out and let me know what you think.\n\n- Me")),i="mailto:?subject=".concat(n,"&body=").concat(o);window.open(i,"_top")}}function gv(e){return function(t){mv("https://www.facebook.com/sharer.php?u=".concat(encodeURIComponent(e)),575,300)}}function _v(e,t){return function(r){var n={url:encodeURIComponent(t),text:encodeURIComponent(e),via:"issuu"},o=Object.entries(n).map((function(e){var t=lv(e,2),r=t[0],n=t[1];return"".concat(r,"=").concat(n)})).join("&");mv("https://twitter.com/intent/tweet?".concat(o),550,420)}}function bv(e,t,r){return function(n){var o={url:encodeURIComponent(e),media:encodeURIComponent(t),description:encodeURIComponent(r)},i=Object.entries(o).map((function(e){var t=lv(e,2),r=t[0],n=t[1];return"".concat(r,"=").concat(n)})).join("&");mv("https://pinterest.com/pin/create/button/?".concat(i),750,500)}}var wv=r(263),Ev=r.n(wv);function Ov(e){return(Ov="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xv(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function kv(e,t,r){return t&&xv(e.prototype,t),r&&xv(e,r),e}function Sv(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pv(e,t)}function Pv(e,t){return(Pv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Cv(e){var t=jv();return function(){var r,n=Iv(e);if(t){var o=Iv(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Av(this,r)}}function Av(e,t){return!t||"object"!==Ov(t)&&"function"!=typeof t?Rv(e):t}function Rv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jv(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Iv(e){return(Iv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Dv(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Mv=function(e){Sv(r,e);var t=Cv(r);function r(e){var n;return Tv(this,r),Dv(Rv(n=t.call(this,e)),"onSuccess",(function(){n.setState({copied:!0}),setTimeout((function(){n.setState({copied:!1})}),2e3),void 0!==n.props.onCopied&&n.props.onCopied()})),Dv(Rv(n),"onError",(function(){var e="".concat(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl","+C");window.prompt("Press ".concat(e," to copy"),n.props.copyText)})),n.state={copied:!1},n}return kv(r,[{key:"render",value:function(){return c.createElement(Ev.a,{className:"share-dropdown__copy-button",onSuccess:this.onSuccess,onError:this.onError,"data-clipboard-text":this.props.copyText},c.createElement(c.Fragment,null,!this.state.copied&&this.props.children,this.state.copied&&this.props.successText))}}]),r}(c.Component),Lv='\n  <svg width="17" height="18" viewBox="0 0 17 18" xmlns="http://www.w3.org/2000/svg">\n    <path class="icon" d="M16.082.34H.964c-.518 0-.938.42-.938.94v15.116c0 .518.42.938.938.938h8.14v-6.58H6.887V8.188h2.215V6.296c0-2.195 1.34-3.39 3.298-3.39.94 0 1.745.07 1.98.1v2.295h-1.358c-1.064 0-1.27.507-1.27 1.25v1.637h2.54l-.332 2.563h-2.21v6.58h4.332c.518 0 .938-.42.938-.937V1.28c0-.52-.42-.94-.938-.94" fill-rule="evenodd"></path>\n  </svg>\n',Nv='\n  <svg width="21" height="18" viewBox="0 0 21 18" xmlns="http://www.w3.org/2000/svg">\n    <g fill="none" fill-rule="evenodd">\n      <path d="M-11.12-12.286h42.24v42.24h-42.24z"/>\n      <path class="icon" d="M0 15.526c1.757 1.122 3.886 1.683 6.39 1.683 1.22 0 2.39-.162 3.506-.483 1.116-.322 2.106-.774 2.97-1.358.853-.572 1.622-1.238 2.31-2 .686-.76 1.247-1.577 1.683-2.45.904-1.816 1.356-3.64 1.356-5.47v-.542c.812-.584 1.502-1.3 2.07-2.145-.818.36-1.618.58-2.397.66.89-.526 1.502-1.29 1.832-2.294-.852.49-1.727.826-2.625 1.003-.403-.413-.87-.733-1.397-.96-.528-.226-1.083-.34-1.664-.34-1.15 0-2.128.403-2.937 1.206-.81.803-1.214 1.776-1.214 2.917 0 .374.03.692.09.955C8.27 5.82 6.68 5.407 5.2 4.672S2.457 2.937 1.407 1.67C1.03 2.313.842 2.983.842 3.678c0 .695.165 1.345.495 1.948.33.604.786 1.096 1.367 1.477-.667-.02-1.294-.19-1.882-.512v.05c0 .99.315 1.867.946 2.628.63.76 1.428 1.236 2.392 1.426-.396.1-.766.148-1.11.148-.217 0-.475-.026-.772-.08.264.835.755 1.52 1.47 2.058.718.538 1.518.81 2.403.817-1.63 1.305-3.35 1.958-5.16 1.958-.376 0-.706-.023-.99-.07z"/>\n    </g>\n  </svg>\n',Bv='\n  <svg width="18" height="19" viewBox="0 0 18 19" xmlns="http://www.w3.org/2000/svg">\n    <g fill="none" fill-rule="evenodd">\n      <path d="M-11.695-11.286h42.24v42.24h-42.24z"/>\n      <path class="icon" d="M8.898.796C4.028.796.078 4.72.078 9.558c0 3.588 2.172 6.67 5.28 8.025-.025-.612-.005-1.347.153-2.012l1.136-4.773s-.282-.56-.282-1.387c0-1.298.758-2.268 1.7-2.268.803 0 1.19.6 1.19 1.316 0 .8-.513 2-.778 3.11-.22.928.47 1.686 1.392 1.686 1.67 0 2.796-2.132 2.796-4.658 0-1.92-1.302-3.357-3.67-3.357-2.675 0-4.34 1.98-4.34 4.194 0 .764.225 1.302.58 1.72.163.19.186.267.127.487-.04.162-.14.55-.18.704-.058.222-.238.302-.44.22-1.233-.5-1.806-1.84-1.806-3.348 0-2.49 2.112-5.473 6.303-5.473 3.367 0 5.583 2.42 5.583 5.02 0 3.436-1.923 6.004-4.76 6.004-.95 0-1.846-.51-2.153-1.092 0 0-.512 2.02-.62 2.408-.188.676-.554 1.35-.888 1.877.792.233 1.63.36 2.498.36 4.87 0 8.82-3.923 8.82-8.762 0-4.84-3.95-8.762-8.82-8.762z"/>\n    </g>\n  </svg>\n',Fv='\n  <svg width="20" height="15" viewBox="0 0 20 15" xmlns="http://www.w3.org/2000/svg">\n    <g fill="none" fill-rule="evenodd">\n      <path d="M-11.336-15.286h42.24v42.24h-42.24z"/>\n      <path class="icon" d="M.845 12.877c0 .315.112.583.336.806.225.222.495.333.812.333h16.05c.317 0 .587-.11.81-.333.225-.223.337-.49.337-.806V3.534l-9.173 6.834L.845 3.534v9.343zm0-11.39l9.172 6.834 9.172-6.833c0-.314-.113-.582-.337-.805-.224-.222-.494-.334-.81-.334H1.992c-.318 0-.588.112-.812.334-.223.223-.335.49-.335.805z"/>\n    </g>\n  </svg>\n';function Uv(e){return(Uv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zv(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Hv(e,t,r){return t&&zv(e.prototype,t),r&&zv(e,r),e}function Vv(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gv(e,t)}function Gv(e,t){return(Gv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qv(e){var t=Yv();return function(){var r,n=Xv(e);if(t){var o=Xv(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return $v(this,r)}}function $v(e,t){return!t||"object"!==Uv(t)&&"function"!=typeof t?Kv(e):t}function Kv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yv(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Xv(e){return(Xv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Zv(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Jv=function(e){Vv(r,e);var t=qv(r);function r(e){var n;return Wv(this,r),Zv(Kv(n=t.call(this,e)),"shareDropdownInput",void 0),Zv(Kv(n),"onShareOnEmail",(function(){n.props.featureTracker.usage(ny.SHARE_EMAIL),n.props.trackOnceMixpanel("reader3_interaction_share_email"),n.props.dispatch(vv(n.props.documentTitle,n.props.documentUrl)),n.props.dispatch(Th())})),Zv(Kv(n),"onShareOnFacebook",(function(){n.props.featureTracker.usage(ny.SHARE_FACEBOOK),n.props.trackOnceMixpanel("reader3_interaction_share_facebook"),n.props.dispatch(gv(n.props.documentUrl)),n.props.dispatch(Th())})),Zv(Kv(n),"onShareOnTwitter",(function(){n.props.featureTracker.usage(ny.SHARE_TWITTER),n.props.trackOnceMixpanel("reader3_interaction_share_twitter"),n.props.dispatch(_v(n.props.documentTitle,n.props.documentUrl)),n.props.dispatch(Th())})),Zv(Kv(n),"onShareOnPinterest",(function(){n.props.featureTracker.usage(ny.SHARE_PINTEREST),n.props.trackOnceMixpanel("reader3_interaction_share_pinterest"),n.props.dispatch(bv(n.props.documentUrl,n.props.coverImageUrl,n.props.documentTitle)),n.props.dispatch(Th())})),Zv(Kv(n),"onCopy",(function(){n.props.trackOnceMixpanel("reader3_interaction_share_copy")})),Zv(Kv(n),"onDimmerClick",(function(){n.props.toggleShareDropdown("SHARE")})),Zv(Kv(n),"makeHTMLContentAccessible",(function(e,t){return"".concat(e,'<span class="hidden-accessible-text">').concat(t,"</span>")})),n.shareDropdownInput=c.createRef(),n}return Hv(r,[{key:"componentDidUpdate",value:function(){var e=this.shareDropdownInput.current;e&&this.props.visible&&(e.setSelectionRange(0,e.value.length),this.props.featureTracker.opportunity(ny.SHARE_EMAIL),this.props.featureTracker.opportunity(ny.SHARE_FACEBOOK),this.props.featureTracker.opportunity(ny.SHARE_TWITTER),this.props.featureTracker.opportunity(ny.SHARE_PINTEREST))}},{key:"render",value:function(){var e=this.props,t=e.documentUrl,r=e.shouldShowPublisherPreviewMessage;return c.createElement("div",{className:"share-dropdown share-dropdown--blurred"},c.createElement("div",{className:"share-dropdown__dimmer",onClick:this.onDimmerClick}),!r&&c.createElement("div",{className:"share-dropdown__inner"},c.createElement("div",{className:"share-dropdown__social-buttons"},c.createElement("a",{className:"share-dropdown__social-button share-dropdown__social-button--facebook",onClick:this.onShareOnFacebook,dangerouslySetInnerHTML:{__html:this.makeHTMLContentAccessible(Lv,"Share publication on Facebook")},href:"#","data-tooltip":"Facebook"}),c.createElement("a",{className:"share-dropdown__social-button share-dropdown__social-button--twitter",onClick:this.onShareOnTwitter,dangerouslySetInnerHTML:{__html:this.makeHTMLContentAccessible(Nv,"Share publication on Twitter")},href:"#","data-tooltip":"Twitter"}),c.createElement("a",{className:"share-dropdown__social-button share-dropdown__social-button--pinterest",onClick:this.onShareOnPinterest,dangerouslySetInnerHTML:{__html:this.makeHTMLContentAccessible(Bv,"Share publication on Pinterest")},href:"#","data-tooltip":"Pinterest"}),c.createElement("a",{className:"share-dropdown__social-button share-dropdown__social-button--mailto",onClick:this.onShareOnEmail,dangerouslySetInnerHTML:{__html:this.makeHTMLContentAccessible(Fv,"Share publication on E-mail")},href:"#","data-tooltip":"E-mail"})),c.createElement("div",{className:"share-dropdown__direct-link"},c.createElement("input",{className:"share-dropdown__input",readOnly:!0,"aria-label":"document url",type:"text",value:t,ref:this.shareDropdownInput}),c.createElement(Mv,{successText:"COPIED!",copyText:t,onCopied:this.onCopy},"COPY"))),r&&c.createElement("div",{className:"share-dropdown__inner"},c.createElement("p",{className:"share_dropdownn__publisher_preview_message"},"You are looking at a preview. Please use a real version to test this functionality.")))}}]),r}(c.Component);Zv(Jv,"displayName","ShareDropdown");var Qv='d="M7.593 13.866c.07.072.153.13.247.165.08.04.16.06.26.06l.01.005c.18 0 .36-.08.5-.223l4.037-4.016c.282-.253.282-.688 0-.967-.258-.277-.697-.277-.978 0L8.8 11.723V.732C8.8.357 8.48.04 8.1.04 7.72.04 7.4.356 7.4.73v10.992L4.52 8.885c-.26-.277-.7-.277-.98 0-.28.258-.28.693 0 .97l4.053 4.01zm6.398 3.228L2 17.1c-2.02 0-1.24-1.356.02-1.356l11.975-.005c1.26 0 2.024 1.36.005 1.36l-.01-.006z" fill="#F2F2F2" fill-rule="evenodd"',eg='<svg width="16" height="18" viewBox="-2 0 20 18" xmlns="http://www.w3.org/2000/svg">\n  <path class="shadow" '.concat(Qv,'></path>\n  <path class="icon" ').concat(Qv,"></path>\n</svg>"),tg=function(e){var t,r,n=e.downloadButtonStatus,o=e.onDownloadButtonClick,i=Bf()("header-controls__button","header-controls__download",{"is-visible":!0,"is-loading":"DOWNLOAD_LOADING"===n,"is-failure":"DOWNLOAD_FAILURE"===n,spinner:"DOWNLOAD_LOADING"===n});switch(n){case"DOWNLOAD_LOADING":t=uf,r="Downloading";break;case"DOWNLOAD_FAILURE":t=p,r="Failed to download";break;default:t=eg,r="Download"}return l.a.createElement("div",{className:"header-controls__item"},l.a.createElement("div",{className:"header-controls__download--tooltip header-controls__download-protected--tooltip","data-tooltip":r},l.a.createElement("div",{className:i,onClick:o,dangerouslySetInnerHTML:{__html:t}})))},rg=jo((function(e){return e.features.controls}),(function(e){for(var t=0;t<e.length;t++)if("FEATURE_DOWNLOAD_PROTECTED"===e[t].type)return e[t]})),ng=jo((function(e){return e.features.controls}),(function(e){for(var t=0;t<e.length;t++)if("FEATURE_DOWNLOAD"===e[t].type)return e[t]})),og=jo(ng,(function(e){return e.metadata.downloadable}),Vs,Ka,rg,Ia,(function(e,t,r,n,o,i){return t&&!n&&!(!(i&&!(!e||r))&&!o)}));function ig(e,t){e({type:t}),window.setTimeout((function(){e({type:"DOWNLOAD_READY"})}),2e3)}function ag(){return function(e,t){var r=t(),n=Ya(r);if(n){var o=r.config.origins.api,i="".concat(o,"/call/reader/api/purchased-download/").concat(n);return window.open(i,"_top"),ig(e,"DOWNLOAD_SUCCESS")}return ig(e,"DOWNLOAD_FAILURE")}}function sg(){return function(e,t){var r=t(),n=r.config.origins.api,o=Fo(r).documentId,i="".concat(n,"/query?action=issuu.document.download&documentId=").concat(o,"&format=json");e({type:"DOWNLOAD_LOADING"}),fetch(i).then((function(e){return e.json()})).then((function(t){window.open(t.rsp._content.redirect.url,"_top"),ig(e,"DOWNLOAD_SUCCESS")})).catch((function(){ig(e,"DOWNLOAD_FAILURE")}))}}function ug(){return function(e,t){var r=t();return"DOWNLOAD_READY"===r.download.status?(e(Th()),r.featureTracker.usage(ny.BUTTON_DOWNLOAD),rg(r)?e(ag()):e(sg())):e(Th())}}var cg=function(e){return{downloadButtonStatus:e.download.status}},lg=function(e,t){var r=t.onClick;return{onDownloadButtonClick:function(){$r(ug,e)(),r&&r()}}},fg=$n(cg,lg,void 0,{pure:!0})(tg),pg="READ_MORE_LOAD_SUCCESS",dg="READ_MORE_LOAD_FAILURE",hg="SHOW_MORE_DROPDOWN",yg="CLOSE_MORE_DROPDOWN";function mg(){return{type:pg}}function vg(){return{type:dg}}function gg(){return{type:hg}}function _g(){return{type:yg}}function bg(e){return function(t,r){if(e){var n=r(),o=Fo(n);e.load(n.config.origins.api,o.publicationId,o.username,Ca(n),Aa(n)).then((function(e){e&&t(mg())})).catch((function(){t(vg())}))}}}var wg={loaded:!1,exitedFullscreen:!1,forceOverlay:!1};function Eg(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wg,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pg:return Object.assign({},e,{loaded:!0});case hg:return Object.assign({},e,{forceOverlay:!1});case yg:return Object.assign({},e,{exitedFullscreen:!1});case Hl.ENTER_FULLSCREEN:var r=t.fullscreenMethod===Ll;return r?e:Object.assign({},e,{exitedFullscreen:!0,forceOverlay:!0});case Hl.EXIT_FULLSCREEN:return Object.assign({},e,{exitedFullscreen:!0,forceOverlay:!0});case"EMBED_PREVIEW":return Object.assign({},wg);default:return e}}}var Og="TOGGLE_DROPDOWN";function Tg(e){return{type:Og,dropdown:e}}function xg(e){return(xg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sg(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Pg(e,t,r){return t&&Sg(e.prototype,t),r&&Sg(e,r),e}function Cg(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ag(e,t)}function Ag(e,t){return(Ag=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Rg(e){var t=Dg();return function(){var r,n=Mg(e);if(t){var o=Mg(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return jg(this,r)}}function jg(e,t){return!t||"object"!==xg(t)&&"function"!=typeof t?Ig(e):t}function Ig(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dg(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Mg(e){return(Mg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Lg(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ng=function(e){Cg(r,e);var t=Rg(r);function r(e){var n;return kg(this,r),Lg(Ig(n=t.call(this,e)),"inputHandler",void 0),Lg(Ig(n),"headerControlsContainer",void 0),Lg(Ig(n),"onMoreToggleClick",(function(){n.props.readMoreDropdownVisible?n.props.dispatch(_g()):n.props.readMorePlugin&&(n.props.readMorePlugin.clearButtonUnreadCount(),n.props.dispatch(gg()),n.props.featureTracker.usage(ny.BUTTON_MORE)),n.props.trackOnceMixpanel("reader3_interaction_read_more"),n.props.dispatch(Th())})),Lg(Ig(n),"onNavigationLinkClick",(function(){if(n.props.navigationLinkFeature){var e=n.props.navigationLinkFeature.url;n.props.dispatch(Th()),n.props.featureTracker.usage(ny.NAVIGATION_LINK),window.open(e,"_self")}})),Lg(Ig(n),"toggleShareDropdown",(function(e){n.props.dispatch(Tg(e)),n.props.trackOnceMixpanel("reader3_interaction_share_menu_open")})),Lg(Ig(n),"onDownload",(function(){n.props.trackOnceMixpanel("reader3_interaction_download")})),Lg(Ig(n),"trackOpportunities",(function(){n.props.shouldRenderReadMoreButton&&n.props.featureTracker.opportunity(ny.BUTTON_MORE),n.props.shouldRenderShareButton&&n.props.featureTracker.opportunity(ny.BUTTON_SHARE),n.props.shouldRenderDownloadButton&&n.props.featureTracker.opportunity(ny.BUTTON_DOWNLOAD),n.props.navigationLinkFeature&&n.props.featureTracker.opportunity(ny.NAVIGATION_LINK)})),n.headerControlsContainer=c.createRef(),n}return Pg(r,[{key:"componentDidMount",value:function(){var e=this,t=this.headerControlsContainer.current;this.inputHandler=new Dd(t,{onMouseEnter:function(t){e.props.isVisible&&e.props.dispatch(wc(!0))},onMouseLeave:function(t){e.props.dispatch(wc(!1))}}),this.trackOpportunities()}},{key:"componentDidUpdate",value:function(e){this.trackOpportunities()}},{key:"render",value:function(){var e=Bf()("header-controls",{"is-visible":this.props.isVisible}),t=Bf()("header-controls__share-dropdown-wrapper",{"is-visible":this.props.shareDropdownVisible}),r=Bf()({"is-visible":!ta.isMobile()});return c.createElement("div",{ref:this.headerControlsContainer,className:e},c.createElement("div",{className:"header-controls__background"}),c.createElement("div",{className:"header-controls__items"},this.props.navigationLinkFeature&&c.createElement("div",{className:"header-controls__item"},c.createElement("div",{className:"header-controls__navigation-link",onClick:this.onNavigationLinkClick},c.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.navigationLinkFeature.icon}}),this.props.navigationLinkFeature.text&&c.createElement("span",{className:r},this.props.navigationLinkFeature.text))),this.props.shouldRenderDownloadButton&&c.createElement(fg,{onClick:this.onDownload}),c.createElement("div",{className:"header-controls__item header-controls__item--spacer"}),this.props.shouldRenderReadMoreButton&&c.createElement("div",{className:Bf()("header-controls__item",{"header-controls__item--centered":ta.isMobile()&&this.props.readMoreButtonCentered})},c.createElement("div",{className:Bf()("header-controls__more-toggle",{"header-controls__more-toggle--activated":this.props.readMoreDropdownVisible}),onClick:this.onMoreToggleClick},c.createElement("span",{className:"header-controls__more-toggle-text-wrapper"},"Read More",this.props.readMoreButtonUnreadCount>0&&c.createElement("div",{className:"header-controls__morecount"},this.props.readMoreButtonUnreadCount)))),this.props.shouldRenderShareButton&&c.createElement("div",{className:"header-controls__item"},c.createElement(cv,{dispatch:this.props.dispatch,featureTracker:this.props.featureTracker,toggleShareDropdown:this.toggleShareDropdown}),c.createElement("div",{className:t},c.createElement(Jv,{dispatch:this.props.dispatch,documentTitle:this.props.documentTitle,documentUrl:this.props.documentUrl,coverImageUrl:this.props.coverImageUrl,featureTracker:this.props.featureTracker,trackOnceMixpanel:this.props.trackOnceMixpanel,toggleShareDropdown:this.toggleShareDropdown,visible:this.props.shareDropdownVisible,shouldShowPublisherPreviewMessage:this.props.shareShouldShowPublisherPreviewMessage})))))}}]),r}(c.Component);Lg(Ng,"displayName","HeaderControls");var Bg=jo((function(e){return e.readMorePlugin}),(function(e){return e.readmore.loaded}),Is,(function(e,t,r){return!(!e||!t||r===Za)})),Fg=function(e){var t=e.readMorePlugin;return t&&t.getButtonUnreadCount()||0},Ug=jo(Bg,(function(e){return e.readMorePlugin}),Vs,ws,Ca,Aa,(function(e,t,r,n,o,i){return!(!e||r||!t)&&t.shouldRenderButton(o,i,n)})),Wg=(jo(Bg,(function(e){return e.readMorePlugin}),Ca,Aa,(function(e,t,r,n){return e&&t&&t.shouldRenderExitFullscreenOverlay(r,n)})),jo(Bg,(function(e){return e.readMorePlugin}),(function(e){return e.readmore.forceOverlay}),(function(e){return e.size.width}),(function(e){return e.size.height}),(function(e,t,r,n,o){if(e&&t){var i=n<o,a=!i,s=ra();return r||t.shouldAlwaysBeOverlay()||i&&n<=414*s||a&&n<=736*s}return!1}))),zg=jo(ys,(function(e){return!(!e||!e.showPublisherPreviewMessage)})),Hg=jo(Fo,xa,Vs,ws,zg,ys,(function(e,t,r,n,o,i){var a=e.username,s=e.documentName;return!(!i||i.customizedToNotShow&&t||r||i.hideWhenNotInFullscreen&&!n||!(o||a&&s))})),Vg=jo((function(e){return e.headerControls}),(function(e){return"SHARE"===e.visibleDropdown})),Gg=function(e){return{coverImageUrl:Fo(e).coverUri,documentTitle:Fo(e).title,documentUrl:Ws(e),featureTracker:e.featureTracker,navigationLinkFeature:hs(e),readMorePlugin:e.readMorePlugin,shouldRenderDownloadButton:og(e),shouldRenderReadMoreButton:Ug(e),shouldRenderShareButton:Hg(e),readMoreButtonCentered:!Ka(e)&&window.innerWidth<window.innerHeight,readMoreButtonUnreadCount:Fg(e),isVisible:Rs(e)&&(Ug(e)||Hg(e)||og(e)||!!hs(e)),readMoreDropdownVisible:Hs(e),shareDropdownVisible:Vg(e),shareShouldShowPublisherPreviewMessage:zg(e)}},qg=$n(Gg,void 0,void 0,{pure:!0})(Ng),$g=(r(141),r(83),r(348),1e-6),Kg="undefined"!=typeof Float32Array?Float32Array:Array,Yg=Math.random;Math.PI;function Xg(){var e=new Kg(6);return Kg!=Float32Array&&(e[1]=0,e[2]=0,e[4]=0,e[5]=0),e[0]=1,e[3]=1,e}function Zg(e){var t=new Kg(6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function Jg(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function Qg(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function e_(e,t,r,n,o,i){var a=new Kg(6);return a[0]=e,a[1]=t,a[2]=r,a[3]=n,a[4]=o,a[5]=i,a}function t_(e,t,r,n,o,i,a){return e[0]=t,e[1]=r,e[2]=n,e[3]=o,e[4]=i,e[5]=a,e}function r_(e,t){var r=t[0],n=t[1],o=t[2],i=t[3],a=t[4],s=t[5],u=r*i-n*o;return u?(u=1/u,e[0]=i*u,e[1]=-n*u,e[2]=-o*u,e[3]=r*u,e[4]=(o*s-i*a)*u,e[5]=(n*a-r*s)*u,e):null}function n_(e){return e[0]*e[3]-e[1]*e[2]}function o_(e,t,r){var n=t[0],o=t[1],i=t[2],a=t[3],s=t[4],u=t[5],c=r[0],l=r[1],f=r[2],p=r[3],d=r[4],h=r[5];return e[0]=n*c+i*l,e[1]=o*c+a*l,e[2]=n*f+i*p,e[3]=o*f+a*p,e[4]=n*d+i*h+s,e[5]=o*d+a*h+u,e}function i_(e,t,r){var n=t[0],o=t[1],i=t[2],a=t[3],s=t[4],u=t[5],c=Math.sin(r),l=Math.cos(r);return e[0]=n*l+i*c,e[1]=o*l+a*c,e[2]=n*-c+i*l,e[3]=o*-c+a*l,e[4]=s,e[5]=u,e}function a_(e,t,r){var n=t[0],o=t[1],i=t[2],a=t[3],s=t[4],u=t[5],c=r[0],l=r[1];return e[0]=n*c,e[1]=o*c,e[2]=i*l,e[3]=a*l,e[4]=s,e[5]=u,e}function s_(e,t,r){var n=t[0],o=t[1],i=t[2],a=t[3],s=t[4],u=t[5],c=r[0],l=r[1];return e[0]=n,e[1]=o,e[2]=i,e[3]=a,e[4]=n*c+i*l+s,e[5]=o*c+a*l+u,e}function u_(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=-r,e[3]=n,e[4]=0,e[5]=0,e}function c_(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e[4]=0,e[5]=0,e}function l_(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0],e[5]=t[1],e}function f_(e){return"mat2d("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+")"}function p_(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],1)}function d_(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e}function h_(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e}function y_(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e}function m_(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e[4]=t[4]+r[4]*n,e[5]=t[5]+r[5]*n,e}function v_(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]}function g_(e,t){var r=e[0],n=e[1],o=e[2],i=e[3],a=e[4],s=e[5],u=t[0],c=t[1],l=t[2],f=t[3],p=t[4],d=t[5];return Math.abs(r-u)<=$g*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(n-c)<=$g*Math.max(1,Math.abs(n),Math.abs(c))&&Math.abs(o-l)<=$g*Math.max(1,Math.abs(o),Math.abs(l))&&Math.abs(i-f)<=$g*Math.max(1,Math.abs(i),Math.abs(f))&&Math.abs(a-p)<=$g*Math.max(1,Math.abs(a),Math.abs(p))&&Math.abs(s-d)<=$g*Math.max(1,Math.abs(s),Math.abs(d))}Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});var __=o_,b_=h_;function w_(){var e=new Kg(9);return Kg!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function E_(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function O_(e){var t=new Kg(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function T_(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function x_(e,t,r,n,o,i,a,s,u){var c=new Kg(9);return c[0]=e,c[1]=t,c[2]=r,c[3]=n,c[4]=o,c[5]=i,c[6]=a,c[7]=s,c[8]=u,c}function k_(e,t,r,n,o,i,a,s,u,c){return e[0]=t,e[1]=r,e[2]=n,e[3]=o,e[4]=i,e[5]=a,e[6]=s,e[7]=u,e[8]=c,e}function S_(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function P_(e,t){if(e===t){var r=t[1],n=t[2],o=t[5];e[1]=t[3],e[2]=t[6],e[3]=r,e[5]=t[7],e[6]=n,e[7]=o}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e}function C_(e,t){var r=t[0],n=t[1],o=t[2],i=t[3],a=t[4],s=t[5],u=t[6],c=t[7],l=t[8],f=l*a-s*c,p=-l*i+s*u,d=c*i-a*u,h=r*f+n*p+o*d;return h?(h=1/h,e[0]=f*h,e[1]=(-l*n+o*c)*h,e[2]=(s*n-o*a)*h,e[3]=p*h,e[4]=(l*r-o*u)*h,e[5]=(-s*r+o*i)*h,e[6]=d*h,e[7]=(-c*r+n*u)*h,e[8]=(a*r-n*i)*h,e):null}function A_(e,t){var r=t[0],n=t[1],o=t[2],i=t[3],a=t[4],s=t[5],u=t[6],c=t[7],l=t[8];return e[0]=a*l-s*c,e[1]=o*c-n*l,e[2]=n*s-o*a,e[3]=s*u-i*l,e[4]=r*l-o*u,e[5]=o*i-r*s,e[6]=i*c-a*u,e[7]=n*u-r*c,e[8]=r*a-n*i,e}function R_(e){var t=e[0],r=e[1],n=e[2],o=e[3],i=e[4],a=e[5],s=e[6],u=e[7],c=e[8];return t*(c*i-a*u)+r*(-c*o+a*s)+n*(u*o-i*s)}function j_(e,t,r){var n=t[0],o=t[1],i=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=t[8],p=r[0],d=r[1],h=r[2],y=r[3],m=r[4],v=r[5],g=r[6],_=r[7],b=r[8];return e[0]=p*n+d*a+h*c,e[1]=p*o+d*s+h*l,e[2]=p*i+d*u+h*f,e[3]=y*n+m*a+v*c,e[4]=y*o+m*s+v*l,e[5]=y*i+m*u+v*f,e[6]=g*n+_*a+b*c,e[7]=g*o+_*s+b*l,e[8]=g*i+_*u+b*f,e}function I_(e,t,r){var n=t[0],o=t[1],i=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=t[8],p=r[0],d=r[1];return e[0]=n,e[1]=o,e[2]=i,e[3]=a,e[4]=s,e[5]=u,e[6]=p*n+d*a+c,e[7]=p*o+d*s+l,e[8]=p*i+d*u+f,e}function D_(e,t,r){var n=t[0],o=t[1],i=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=t[8],p=Math.sin(r),d=Math.cos(r);return e[0]=d*n+p*a,e[1]=d*o+p*s,e[2]=d*i+p*u,e[3]=d*a-p*n,e[4]=d*s-p*o,e[5]=d*u-p*i,e[6]=c,e[7]=l,e[8]=f,e}function M_(e,t,r){var n=r[0],o=r[1];return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=o*t[3],e[4]=o*t[4],e[5]=o*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function L_(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e}function N_(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=0,e[3]=-r,e[4]=n,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function B_(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function F_(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e}function U_(e,t){var r=t[0],n=t[1],o=t[2],i=t[3],a=r+r,s=n+n,u=o+o,c=r*a,l=n*a,f=n*s,p=o*a,d=o*s,h=o*u,y=i*a,m=i*s,v=i*u;return e[0]=1-f-h,e[3]=l-v,e[6]=p+m,e[1]=l+v,e[4]=1-c-h,e[7]=d-y,e[2]=p-m,e[5]=d+y,e[8]=1-c-f,e}function W_(e,t){var r=t[0],n=t[1],o=t[2],i=t[3],a=t[4],s=t[5],u=t[6],c=t[7],l=t[8],f=t[9],p=t[10],d=t[11],h=t[12],y=t[13],m=t[14],v=t[15],g=r*s-n*a,_=r*u-o*a,b=r*c-i*a,w=n*u-o*s,E=n*c-i*s,O=o*c-i*u,T=l*y-f*h,x=l*m-p*h,k=l*v-d*h,S=f*m-p*y,P=f*v-d*y,C=p*v-d*m,A=g*C-_*P+b*S+w*k-E*x+O*T;return A?(A=1/A,e[0]=(s*C-u*P+c*S)*A,e[1]=(u*k-a*C-c*x)*A,e[2]=(a*P-s*k+c*T)*A,e[3]=(o*P-n*C-i*S)*A,e[4]=(r*C-o*k+i*x)*A,e[5]=(n*k-r*P-i*T)*A,e[6]=(y*O-m*E+v*w)*A,e[7]=(m*b-h*O-v*_)*A,e[8]=(h*E-y*b+v*g)*A,e):null}function z_(e,t,r){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/r,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}function H_(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"}function V_(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])}function G_(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e[8]=t[8]+r[8],e}function q_(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e[6]=t[6]-r[6],e[7]=t[7]-r[7],e[8]=t[8]-r[8],e}function $_(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*r,e}function K_(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e[4]=t[4]+r[4]*n,e[5]=t[5]+r[5]*n,e[6]=t[6]+r[6]*n,e[7]=t[7]+r[7]*n,e[8]=t[8]+r[8]*n,e}function Y_(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]}function X_(e,t){var r=e[0],n=e[1],o=e[2],i=e[3],a=e[4],s=e[5],u=e[6],c=e[7],l=e[8],f=t[0],p=t[1],d=t[2],h=t[3],y=t[4],m=t[5],v=t[6],g=t[7],_=t[8];return Math.abs(r-f)<=$g*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(n-p)<=$g*Math.max(1,Math.abs(n),Math.abs(p))&&Math.abs(o-d)<=$g*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(i-h)<=$g*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(a-y)<=$g*Math.max(1,Math.abs(a),Math.abs(y))&&Math.abs(s-m)<=$g*Math.max(1,Math.abs(s),Math.abs(m))&&Math.abs(u-v)<=$g*Math.max(1,Math.abs(u),Math.abs(v))&&Math.abs(c-g)<=$g*Math.max(1,Math.abs(c),Math.abs(g))&&Math.abs(l-_)<=$g*Math.max(1,Math.abs(l),Math.abs(_))}var Z_=j_,J_=q_;function Q_(){var e=new Kg(2);return Kg!=Float32Array&&(e[0]=0,e[1]=0),e}function eb(e){var t=new Kg(2);return t[0]=e[0],t[1]=e[1],t}function tb(e,t){var r=new Kg(2);return r[0]=e,r[1]=t,r}function rb(e,t){return e[0]=t[0],e[1]=t[1],e}function nb(e,t,r){return e[0]=t,e[1]=r,e}function ob(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e}function ib(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e}function ab(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e}function sb(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e}function ub(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e}function cb(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e}function lb(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e}function fb(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e}function pb(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e}function db(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e}function hb(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e}function yb(e,t){var r=t[0]-e[0],n=t[1]-e[1];return Math.hypot(r,n)}function mb(e,t){var r=t[0]-e[0],n=t[1]-e[1];return r*r+n*n}function vb(e){var t=e[0],r=e[1];return Math.hypot(t,r)}function gb(e){var t=e[0],r=e[1];return t*t+r*r}function _b(e,t){return e[0]=-t[0],e[1]=-t[1],e}function bb(e,t){return e[0]=1/t[0],e[1]=1/t[1],e}function wb(e,t){var r=t[0],n=t[1],o=r*r+n*n;return o>0&&(o=1/Math.sqrt(o)),e[0]=t[0]*o,e[1]=t[1]*o,e}function Eb(e,t){return e[0]*t[0]+e[1]*t[1]}function Ob(e,t,r){var n=t[0]*r[1]-t[1]*r[0];return e[0]=e[1]=0,e[2]=n,e}function Tb(e,t,r,n){var o=t[0],i=t[1];return e[0]=o+n*(r[0]-o),e[1]=i+n*(r[1]-i),e}function xb(e,t){t=t||1;var r=2*Yg()*Math.PI;return e[0]=Math.cos(r)*t,e[1]=Math.sin(r)*t,e}function kb(e,t,r){var n=t[0],o=t[1];return e[0]=r[0]*n+r[2]*o,e[1]=r[1]*n+r[3]*o,e}function Sb(e,t,r){var n=t[0],o=t[1];return e[0]=r[0]*n+r[2]*o+r[4],e[1]=r[1]*n+r[3]*o+r[5],e}function Pb(e,t,r){var n=t[0],o=t[1];return e[0]=r[0]*n+r[3]*o+r[6],e[1]=r[1]*n+r[4]*o+r[7],e}function Cb(e,t,r){var n=t[0],o=t[1];return e[0]=r[0]*n+r[4]*o+r[12],e[1]=r[1]*n+r[5]*o+r[13],e}function Ab(e,t,r,n){var o=t[0]-r[0],i=t[1]-r[1],a=Math.sin(n),s=Math.cos(n);return e[0]=o*s-i*a+r[0],e[1]=o*a+i*s+r[1],e}function Rb(e,t){var r=e[0],n=e[1],o=t[0],i=t[1],a=Math.sqrt(r*r+n*n)*Math.sqrt(o*o+i*i),s=a&&(r*o+n*i)/a;return Math.acos(Math.min(Math.max(s,-1),1))}function jb(e){return e[0]=0,e[1]=0,e}function Ib(e){return"vec2("+e[0]+", "+e[1]+")"}function Db(e,t){return e[0]===t[0]&&e[1]===t[1]}function Mb(e,t){var r=e[0],n=e[1],o=t[0],i=t[1];return Math.abs(r-o)<=$g*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(n-i)<=$g*Math.max(1,Math.abs(n),Math.abs(i))}var Lb,Nb=vb,Bb=ib,Fb=ab,Ub=sb,Wb=yb,zb=mb,Hb=gb,Vb=(Lb=Q_(),function(e,t,r,n,o,i){var a,s;for(t||(t=2),r||(r=0),s=n?Math.min(n*t+r,e.length):e.length,a=r;a<s;a+=t)Lb[0]=e[a],Lb[1]=e[a+1],o(Lb,Lb,i),e[a]=Lb[0],e[a+1]=Lb[1];return e});function Gb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function $b(e,t,r){return t&&qb(e.prototype,t),r&&qb(e,r),e}function Kb(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Yb=i.create(),Xb=i.create();function Zb(e){return e}var Jb=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;Gb(this,e),Kb(this,"matrix",void 0),this.matrix=t||n.create()}return $b(e,[{key:"inverse",value:function(){var t=n.create();return n.invert(t,this.matrix),new e(t)}},{key:"isIdentityMatrix",value:function(){return 1===this.matrix[0]&&0===this.matrix[1]&&0===this.matrix[2]&&1===this.matrix[3]&&0===this.matrix[4]&&0===this.matrix[5]}},{key:"isEqualWith",value:function(e){for(var t=0;t<this.matrix.length;t++)if(this.matrix[t]!==e.matrix[t])return!1;return!0}},{key:"multiply",value:function(t){var r=n.create();return n.multiply(r,this.matrix,t.matrix),new e(r)}},{key:"mReset",value:function(){return n.identity(this.matrix),this}},{key:"mMultiply",value:function(e){return n.multiply(this.matrix,this.matrix,e.matrix),this}},{key:"mTranslate",value:function(e,t){var r=n.create();return n.translate(r,this.matrix,i.fromValues(e,t)),this.matrix=r,this}},{key:"mScale",value:function(e){var t=n.create();return n.scale(t,this.matrix,i.fromValues(e,e)),this.matrix=t,this}},{key:"mSet",value:function(e,t,r,n,o,i){return this.matrix[0]=e,this.matrix[1]=t,this.matrix[2]=r,this.matrix[3]=n,this.matrix[4]=o,this.matrix[5]=i,this}},{key:"mSetMatrix",value:function(e){return this.mSet(e[0],e[1],e[2],e[3],e[4],e[5])}},{key:"transformPoint",value:function(e,t){var r=i.create();return i.transformMat2d(r,i.fromValues(e,t),this.matrix),Array.from(r).map(Zb)}},{key:"transformRect",value:function(e){i.transformMat2d(Yb,i.set(Yb,e.x,e.y),this.matrix),i.transformMat2d(Xb,i.set(Xb,e.x+e.width,e.y+e.height),this.matrix);var t=Math.min(Yb[0],Xb[0]),r=Math.max(Yb[0],Xb[0]),n=Math.min(Yb[1],Xb[1]),o=Math.max(Yb[1],Xb[1]);return e.x=t,e.y=n,e.width=r-t,e.height=o-n,e}},{key:"transformCanvasCtx",value:function(e){e.transform(this.matrix[0],this.matrix[1],this.matrix[2],this.matrix[3],this.matrix[4],this.matrix[5])}}]),e}();function Qb(e,t){var r=e.x,n=e.x+e.width,o=t.x,i=t.x+t.width,a=e.y,s=e.y+e.height,u=t.y,c=t.y+t.height,l=Math.max(0,Math.min(n,i)-Math.max(r,o))*Math.max(0,Math.min(s,c)-Math.max(a,u));return l>0?l/(t.width*t.height):0}function ew(e,t,r){return e>=r.x&&e<r.x+r.width&&t>=r.y&&t<r.y+r.height}function tw(e,t,r,n){return r/e<=n/t?r/e:n/t}function rw(e){return(rw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ow(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nw(Object(r),!0).forEach((function(t){Ew(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nw(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function iw(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&aw(e,t)}function aw(e,t){return(aw=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function sw(e){var t=lw();return function(){var r,n=fw(e);if(t){var o=fw(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return uw(this,r)}}function uw(e,t){return!t||"object"!==rw(t)&&"function"!=typeof t?cw(e):t}function cw(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lw(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function fw(e){return(fw=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pw(e){return yw(e)||hw(e)||vw(e)||dw()}function dw(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function hw(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function yw(e){if(Array.isArray(e))return gw(e)}function mw(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=vw(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function vw(e,t){if(e){if("string"==typeof e)return gw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?gw(e,t):void 0}}function gw(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ww(e,t,r){return t&&bw(e.prototype,t),r&&bw(e,r),e}function Ew(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ow={_pool:[],created:0,get:function(e,t,r,n){var o=this._pool.pop();return o?(o.x=e,o.y=t,o.width=r,o.height=n,o):(this.created++,{x:e,y:t,width:r,height:n})},release:function(e){this._pool.push(e)},unreleasedCount:function(){return this.created-this._pool.length}},Tw=function(){function e(t,r){_w(this,e),Ew(this,"props",void 0),Ew(this,"parent",void 0),Ew(this,"_pendingRedraw",!1),Ew(this,"children",[]),Ew(this,"_transform",void 0),Ew(this,"__store__",void 0),Ew(this,"owner",void 0),this.props=t,this.parent=r}return ww(e,[{key:"getChildTree",value:function(){return[]}},{key:"requestRedraw",value:function(){this.root._pendingRedraw=!0}},{key:"getChildrenToTraverse",value:function(){return this.children}},{key:"getVisibleChildren",value:function(){var t=Ow.get(0,0,this.width,this.height),r=[];return e.traverse(this,(function(e,n,o,i){return 0===i||(Qb(t,n)&&e.isVisible&&r.push(e),!1)}),this.getViewportCTM()),Ow.release(t),r}},{key:"getVisibleDescendants",value:function(){var t=Ow.get(0,0,this.width,this.height),r=[];return e.traverse(this,(function(e,n,o,i){return 0===i||Qb(t,n)&&e.isVisible&&r.push(e),!0}),this.getViewportCTM()),Ow.release(t),r}},{key:"overlaps",value:function(e){var t=this.bbox,r=Qb(e,t);return Ow.release(t),r}},{key:"shouldComponentUpdate",value:function(e){if(this.props===e)return!1;var t=Object.keys(this.props),r=Object.keys(e);if(t.length!==r.length)return!0;for(var n=0;n<t.length;n++){var o=t[n];if(this.props[o]instanceof Jb&&e[o]instanceof Jb&&!this.props[o].isEqualWith(e[o]))return!0;if(this.props[o]!==e[o])return!0}return!1}},{key:"getViewportCTM",value:function(){var e=this.transform;return this.parent&&(e=this.parent.getViewportCTM().multiply(e)),e}},{key:"componentDidMount",value:function(){}},{key:"componentWillUpdate",value:function(e){}},{key:"componentDidUpdate",value:function(e){}},{key:"componentWillUnmount",value:function(){}},{key:"appendWebglOps",value:function(e,t,r){}},{key:"beforeDraw",value:function(e){}},{key:"draw",value:function(e,t){}},{key:"afterDraw",value:function(e){}},{key:"getCustomCursor",value:function(){return!1}},{key:"forceUpdate",value:function(){e.updateProps(this,this.props,!0)}},{key:"root",get:function(){for(var e=this;e.parent;)e=e.parent;return e}},{key:"inAnimation",get:function(){return!!this.parent&&this.parent.inAnimation}},{key:"hasPendingRedraw",get:function(){return this.root._pendingRedraw}},{key:"transform",get:function(){return this._transform||(this._transform=this.props.transform||new Jb),this._transform}},{key:"viewportBBox",get:function(){return this.getViewportCTM().transformRect(Ow.get(0,0,this.width,this.height))}},{key:"bbox",get:function(){return this.transform.transformRect(Ow.get(0,0,this.width,this.height))}},{key:"width",get:function(){return this.props.width||0}},{key:"height",get:function(){return this.props.height||0}},{key:"zOrder",get:function(){return 0}},{key:"isVisible",get:function(){return!0}},{key:"displayName",get:function(){return Object.getPrototypeOf(this).constructor.name}}],[{key:"updateProps",value:function(t,r,n){var o={type:Object.getPrototypeOf(t).constructor,props:r};e.buildTree(o,t,t,null,n)}},{key:"buildTree",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(!t&&r)return r;var s=t.type,u=t.props;if(r){if(s.prototype!==Object.getPrototypeOf(r))throw new Error("Unsupported update. Trying to replace "+Object.getPrototypeOf(r).constructor.name+" with "+s.prototype.constructor.name);var c=Object.assign({},r.props,u),l=i||r.shouldComponentUpdate(c);l&&r.componentWillUpdate(c);var f=r.props;if(r.props=c,l){var p=r.getChildTree(!0),d=r.children||[];p.forEach((function(t,r){e.buildTree(t,d[r],n,null,i,a+1)})),r.componentDidUpdate(f),r.requestRedraw()}return r}var h=new s(u,o);return h.owner=n,h.children=h.getChildTree().map((function(t){return e.buildTree(t,r,h,h,i,a+1)})),h.componentDidMount(),h}},{key:"createElement",value:function(e,t){return{type:e,props:t}}},{key:"traverse",value:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Jb,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=n.transformRect(Ow.get(0,0,t.width,t.height));if(r(t,i,n,o)){var a=t.getChildrenToTraverse();if(a&&a.length){var s,u=a.slice(0).sort((function(e,t){return e.zOrder-t.zOrder})),c=mw(u);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=n.matrix[0],p=n.matrix[1],d=n.matrix[2],h=n.matrix[3],y=n.matrix[4],m=n.matrix[5];n.mMultiply(l.transform);var v=n.transformRect(Ow.get(0,0,l.width,l.height));Qb(i,v)&&e.traverse(l,r,n,o+1),n.mSet(f,p,d,h,y,m),Ow.release(v)}}catch(e){c.e(e)}finally{c.f()}}Ow.release(i)}else Ow.release(i)}},{key:"drawWebgl",value:function(t,r,n){var o=r.gl;if(o){var i={width:o.drawingBufferWidth,height:o.drawingBufferHeight},a=[];e.drawTree(t,n,null,(function(e,t){e.appendWebglOps(a,t,i)})),o.clearColor(0,0,0,0),o.clearStencil(0),o.clear(o.COLOR_BUFFER_BIT|o.DEPTH_BUFFER_BIT|o.STENCIL_BUFFER_BIT),a.forEach((function(e){var t,n,o,i,a,s,u,c;switch(e.type){case"tooltip-operation":(t=r.linkTooltip).draw.apply(t,pw(e.args));break;case"link-operation":(n=r.link).draw.apply(n,pw(e.args));break;case"shadow-operation":(o=r.shadowDraw).draw.apply(o,[r.shadow.depthMapTexture].concat(pw(e.args)));break;case"bending-page-operation":(i=r.bendingPage).draw.apply(i,pw(e.args));break;case"fill-bending-page-operation":(a=r.bendingPage).fill.apply(a,pw(e.args));break;case"depth-map-operation":(s=r.shadow).computeDepthMap.apply(s,pw(e.args));break;case"highlight-operation":(u=r.highlights).draw.apply(u,pw(e.args));break;case"highlight-flash-operation":(c=r.highlights).drawSelected.apply(c,pw(e.args));break;default:return zc(e,"Unknown 3d operation")}}))}}},{key:"draw2d",value:function(t,r,n){r.clearRect(n.x,n.y,n.width,n.height),e.drawTree(t,n,null,(function(e,t){e.draw(r,t)}))}},{key:"drawTree",value:function(t,r,n,o){if(t._pendingRedraw&&(t._pendingRedraw=!1),t.isVisible){var i=n?new Float32Array(n.matrix):null;n?n.mMultiply(t.transform):n=(new Jb).mMultiply(t.getViewportCTM());var a=n.transformRect(Ow.get(0,0,t.width,t.height));if(Qb(r,a)){t.beforeDraw(a),o(t,a);var s=t.getChildrenToTraverse();s&&s.length&&s.slice(0).sort((function(e,t){return e.zOrder-t.zOrder})).forEach((function(t){return e.drawTree(t,r,n,o)})),t.afterDraw(a)}Ow.release(a),i&&n.mSetMatrix(i)}}},{key:"connect",value:function(t,r){return function(n){iw(i,n);var o=sw(i);function i(e,n){var a;_w(this,i);var s=e.store||(null==n?void 0:n.root).__store__;if(!s)throw new Error("Cannot connect ".concat(t.toString(),": Cannot get store!"));var u=s.getState();return Ew(cw(a=o.call(this,ow(ow({},e),{},{dispatch:s.dispatch},r(u)),n)),"_unsubscribe",void 0),a}return ww(i,[{key:"componentDidMount",value:function(){var n=this,o=this.root.__store__;if(!o)throw new Error("Root component has no store, cannot connect");this._unsubscribe=o.subscribe((function(){var t=o.getState(),i=Object.assign({dispatch:o.dispatch},n.props,r(t));e.updateProps(n,i)})),t.prototype.componentDidMount.call(this)}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe(),t.prototype.componentWillUnmount.call(this)}},{key:"displayName",get:function(){return"Connected".concat(t.name)}}]),i}(t)}},{key:"unmountTree",value:function(t){if(t.children){var r,n=mw(t.children);try{for(n.s();!(r=n.n()).done;){var o=r.value;e.unmountTree(o)}}catch(e){n.e(e)}finally{n.f()}}t.componentWillUnmount()}}]),e}();Ew(Tw,"RectPool",Ow),Ew(Tw,"lastTick",0);r(349);var xw="SET_CANVAS_API";function kw(e){return{type:xw,api:e}}var Sw={getVisibleComponents:function(){return[]},getRenderedViews:function(e){return[]},getReadMode:function(){return"DOUBLE_PAGE_SPREAD"},getPageComponent:function(e){return null},goToPage:function(e){},goToSpread:function(e){},jumpToPage:function(e){},jumpToSpread:function(e){},setSnapping:function(e){},jumpToPositionByPercent:function(e){},zoomCurrentView:function(e){},getPosition:function(){},setPosition:function(e){}};function Pw(){return kw(Sw)}function Cw(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sw,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case xw:return Object.assign({},e,t.api);default:return e}}}function Aw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Rw(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Aw(Object(r),!0).forEach((function(t){jw(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Aw(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function jw(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Iw="WEBGL_ERROR",Dw="ENABLE_WEBGL",Mw="DISABLE_WEBGL",Lw="SET_MAX_DRAWING_BUFFER_WIDTH",Nw="SET_MAX_DRAWING_BUFFER_HEIGHT";function Bw(){return{type:Iw}}function Fw(){return{type:Dw}}function Uw(){return{type:Mw}}function Ww(e){return{type:Lw,width:e}}function zw(e){return{type:Nw,height:e}}var Hw=function(e){return{supportsWebGL:e,maxDrawingBufferWidth:6e3,maxDrawingBufferHeight:6e3,forceTo2D:!0}};function Vw(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hw(e),r=arguments.length>1?arguments[1]:void 0;switch(r.type){case Iw:return Rw(Rw({},t),{},{supportsWebGL:!1});case Dw:return Rw(Rw({},t),{},{forceTo2D:!1});case Mw:return Rw(Rw({},t),{},{forceTo2D:!0});case Lw:return Rw(Rw({},t),{},{maxDrawingBufferWidth:r.width});case Nw:return Rw(Rw({},t),{},{maxDrawingBufferHeight:r.height});default:return t}}}var Gw=jo((function(e){return e.canvasContext}),(function(e){return e.size}),(function(e,t){return!(!e.supportsWebGL||e.forceTo2D)&&(e.maxDrawingBufferWidth>=t.width&&e.maxDrawingBufferHeight>=t.height)}));function qw(e){return"openUrl"===e.type&&"video"===e.urlType}function $w(e){return"openUrl"===e.type&&"video"===e.urlType&&!!e.inlineData}function Kw(e){return"openUrl"===e.type&&"video"===e.urlType&&!!e.inlineData&&e.inlineData.isExplicit}function Yw(e){return"openUrl"===e.type&&"shopping"===e.urlType}var Xw=jo(gs,Ds,vi,Gu,(function(e,t,r,n){return!!e&&(e.allowOnSmallReaders||!t)&&!r&&!n}));function Zw(e,t){var r=[];return e.forEach((function(e){e.links.forEach((function(n){if($w(n)){var o=n;o.videoService===t&&r.push({link:o,pageWidth:e.width,pageHeight:e.height})}}))})),r}var Jw=function(e){return e.links.loaded},Qw=jo(qa,(function(e){return Zw(e,"youtube")})),eE=jo(qa,(function(e){return Zw(e,"vimeo")}));r(50),r(350);function tE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rE(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function nE(e,t,r){return t&&rE(e.prototype,t),r&&rE(e,r),e}function oE(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var iE=1,aE=1e3/60,sE=1/aE,uE=.1/aE,cE=6/aE,lE=.11,fE=Math.ceil(250/aE)*aE,pE=100,dE="EASING_OUT",hE="EASING_IN_OUT",yE="EASING_OUT_EXPO",mE=function(e){return Math.pow(e-1,3)+1},vE=function(e){var t=2*e;return t<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)},gE=function(e){return 1-Math.pow(2,-10*e)};function _E(e,t,r){var n=Math.max(1,r);return{x:-t.x/n*.6+.4*e.x,y:-t.y/n*.6+.4*e.y}}function bE(e){return Math.sqrt(e.x*e.x+e.y*e.y)}function wE(e,t,r,n,o,i,a){return{top:Math.max(Math.min(e,a-o/r),0),left:Math.max(Math.min(t,i-n/r),0),zoom:Math.max(Math.min(r,ts),es)}}function EE(e,t,r){for(var n=0,o=e.x,i=e.y,a=0,s=0;Math.sqrt(o*o+i*i)>t;)n+=aE,a+=(o*=r)*aE,s+=(i*=r)*aE;return{duration:n,distanceX:a,distanceY:s}}var OE=function(){function e(t,r,n,o,i,a,s){tE(this,e),oE(this,"top",void 0),oE(this,"left",void 0),oE(this,"zoom",void 0),oE(this,"width",void 0),oE(this,"height",void 0),oE(this,"contentWidth",void 0),oE(this,"contentHeight",void 0),oE(this,"snap",void 0),oE(this,"snapFunction",void 0),oE(this,"scrollingX",void 0),oE(this,"scrollingY",void 0),oE(this,"_lastUpdate",void 0),oE(this,"_isMoving",void 0),oE(this,"_lastTouchPosition",void 0),oE(this,"_initialZoomLevel",void 0),oE(this,"_lastTouchTime",void 0),oE(this,"_velocity",void 0),oE(this,"_animate",void 0),oE(this,"_isDragging",void 0),oE(this,"_lastMoveTs",void 0),oE(this,"_animation",void 0),this.top=t,this.left=r,this.zoom=n,this.width=o,this.height=i,this.contentWidth=a,this.contentHeight=s,this.snap=!1,this.snapFunction=function(e,t,r){return{top:e,left:t,zoom:r}},this.scrollingX=!0,this.scrollingY=!0,this._lastUpdate={left:r,top:t,zoom:n},this._isMoving=!1,this._lastTouchPosition={x:0,y:0},this._initialZoomLevel=1,this._lastTouchTime=0,this._velocity={x:0,y:0},this._animate=!1,this._isDragging=!1,this._lastMoveTs=0}return nE(e,[{key:"touchStart",value:function(e,t,r){this._lastTouchPosition.x=e,this._lastTouchPosition.y=t,this._initialZoomLevel=this.zoom,this._lastTouchTime=r,this._velocity={x:0,y:0},this._animate=!1,this._animation&&this._animation.deferred&&this._animation.deferred.resolve()}},{key:"touchMove",value:function(e,t,r,n){var o=this._lastTouchPosition,i=r-this._lastTouchTime,a=this.top,s=this.left,u=this.zoom;if(n){var c=this.zoom;(u=Math.max(Math.min(n*this._initialZoomLevel,ts),es))!==c&&(s+=e/c-e/u,a+=t/c-t/u)}var l={x:(e-o.x)/u,y:(t-o.y)/u},f=_E(this._velocity,l,i);Math.abs(f.y/f.x)>=2&&(l.x=0),Math.abs(f.x/f.y)>=2&&(l.y=0),this.scrollingX||1!==u||(l.x=0),this.scrollingY||1!==u||(l.y=0),((s-=l.x*iE)>this.contentWidth-this.width/u||s<0)&&(s+=.8*l.x*iE),((a-=l.y*iE)>this.contentHeight-this.height/u||a<0)&&(a+=.8*l.y*iE);var p=_E(this._velocity,l,i);this._isDragging=!0,this._isMoving=!0,this.left=s,this.top=a,this.zoom=u,this._velocity=p,this._lastTouchPosition.x=e,this._lastTouchPosition.y=t,this._lastTouchTime=r}},{key:"touchEnd",value:function(e,t){var r=this._velocity,n=(this.snap?cE:sE)/this.zoom;if(this._isDragging=!1,bE(r)>n){var o=this.zoom,i=EE(r,(this.snap?cE:uE)/o,1-lE/o),a=i.duration,s=i.distanceX,u=i.distanceY,c=this.left+s,l=this.top+u,f=this.snap?this.snapFunction(l,c,o):wE(l,c,o,this.width,this.height,this.contentWidth,this.contentHeight),p=Math.sqrt(Math.pow(s,2)+Math.pow(u,2)),d=a*(Math.sqrt(Math.pow(l-f.top,2)+Math.pow(c-f.left,2))+p)/p;this.animateToPosition(f.top,f.left,f.zoom,t,d,yE)}else this.animateToPosition(this.top,this.left,this.zoom,t,fE)}},{key:"scrollTo",value:function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:fE;return this.animateToPosition(e,t,r||this.zoom,n,o)}},{key:"jumpTo",value:function(e,t,r){var n=wE(e,t,r||this.zoom,this.width,this.height,this.contentWidth,this.contentHeight);if(this.snap){var o=this.snapFunction(n.top,n.left,n.zoom);this.top=o.top,this.left=o.left,this.zoom=o.zoom}else this.top=n.top,this.left=n.left,this.zoom=n.zoom}},{key:"setSnap",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(t&&(this.snapFunction=t),e&&!this.snap){if(!this.snapFunction)throw new Error("Cannot snap without snap function!");if(this.snap=e,r)n&&this.animateToPosition(this.top,this.left,this.zoom,n,fE);else{var o=this.snapFunction(this.top,this.left,this.zoom);this.top=o.top,this.left=o.left,this.zoom=o.zoom}}else this.snap=e}},{key:"setScrolling",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.scrollingX=e,this.scrollingY=t}},{key:"resize",value:function(e,t,r,n,o,i,a){if(this.top=e,this.left=t,this.zoom=r,this.width=n,this.height=o,this.contentWidth=i,this.contentHeight=a,this.snap){var s=this.snapFunction(e,t,r);this.top=s.top,this.left=s.left,this.zoom=s.zoom}}},{key:"isSnapped",value:function(){if(!this.snapFunction)return!0;var e=this.snapFunction(this.top,this.left,this.zoom),t=Math.abs(e.left-this.left)<1&&Math.abs(e.top-this.top)<1&&Math.abs(e.zoom-this.zoom)<.2;return t}},{key:"update",value:function(e){var t=this._animate;if(this._animate&&this._animation){var r=this._animation,n=r.start,o=r.end,i=r.startTime,a=r.duration,s=r.easing,u=r.deferred,c=o.left-n.left,l=o.top-n.top,f=Math.min(e-i,a),p=Math.max(f/a,0);p<1&&p>0&&(s===dE?p=mE(p):s===hE?p=vE(p):s===yE&&(p=gE(p)));var d=n.left+c*p,h=n.top+l*p,y=this.width/o.zoom-this.width/n.zoom,m=this.width/n.zoom+y*p,v=this.width/m;this.left=d,this.top=h,this.zoom=v,this._animate=f<a,this._animate||u.resolve()}this._lastUpdate.left===this.left&&this._lastUpdate.top===this.top&&this._lastUpdate.zoom===this.zoom||(this._lastMoveTs=e),this._isMoving=t||this._isDragging&&e-this._lastMoveTs<pE,this._lastUpdate.left=this.left,this._lastUpdate.top=this.top,this._lastUpdate.zoom=this.zoom}},{key:"getHorizontalPositionInPercent",value:function(){var e=Math.max(Math.min(100*this.left/(this.contentWidth-this.width),100),0);return Number.isFinite(e)?e:0}},{key:"animateToPosition",value:function(e,t,r,n,o,i){var a=wE(e,t,r,this.width,this.height,this.contentWidth,this.contentHeight),s=a.top,u=a.left,c=a.zoom;if(this.snap){var l=this.snapFunction(s,u,c);s=l.top,u=l.left,c=l.zoom}if(u===this.left&&s===this.top&&c===this.zoom)return this._animate=!1,Promise.resolve();var f={resolve:function(){},promise:Promise.resolve()};return f.promise=new Promise((function(e){f.resolve=e})),this._animation={startTime:n,easing:i||(this._animate?dE:hE),duration:o,start:{top:this.top,left:this.left,zoom:this.zoom},end:{top:s,left:u,zoom:c},deferred:f},this._animate=!0,f.promise}},{key:"isDragging",get:function(){return this._isDragging}},{key:"isAnimating",get:function(){return this._animate}},{key:"isMoving",get:function(){return this._isMoving||this._animate}}]),e}(),TE={w:24,h:24,d:[function(e,t){e.save(),t.stack++,e.strokeStyle="rgba(0,0,0,0)",e.fillStyle="#9AA8A9",e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4,e.translate(0,0),e.translate(0,0),e.translate(0,0),e.scale(1,1),e.translate(0,0),e.save(),t.stack++,e.save(),t.stack++,e.translate(7,7),e.save(),t.stack++,e.beginPath(),e.moveTo(6.777879,6.845484),e.bezierCurveTo(5.790032,7.833332,4.188142,7.833223,3.200156,6.845237),e.bezierCurveTo(2.21224,5.85732,2.21224,4.255678,3.200156,3.267761),e.bezierCurveTo(4.188224,2.279694,5.789619,2.279748,6.777632,3.267761),e.bezierCurveTo(7.765715,4.255844,7.765877,5.857486,6.777879,6.845484),e.lineTo(8.24994,8.317545),e.bezierCurveTo(10.051001,6.516484,10.050705,3.596713,8.249693,1.795701),e.bezierCurveTo(6.448705,-.005287,3.529182,-.005386,1.728095,1.795701),e.bezierCurveTo(-.072818,3.596614,-.072818,6.516385,1.728095,8.317298),e.bezierCurveTo(3.529034,10.118236,6.449051,10.118434,8.24994,8.317545),e.lineTo(6.777879,6.845484),e.lineTo(6.777879,6.845484),e.closePath(),e.fill(),e.stroke(),e.restore(),t.stack--,e.restore(),t.stack--,e.save(),t.stack++,e.fillStyle="rgba(154, 168, 169, 0.5)",e.beginPath(),e.moveTo(12,23),e.bezierCurveTo(18.075132,23,23,18.075132,23,12),e.bezierCurveTo(23,5.924868,18.075132,1,12,1),e.bezierCurveTo(5.924868,1,1,5.924868,1,12),e.bezierCurveTo(1,18.075132,5.924868,23,12,23),e.closePath(),e.moveTo(12,20.025024),e.bezierCurveTo(16.432099,20.025024,20.025024,16.432099,20.025024,12),e.bezierCurveTo(20.025024,7.567901,16.432099,3.974976,12,3.974976),e.bezierCurveTo(7.567901,3.974976,3.974976,7.567901,3.974976,12),e.bezierCurveTo(3.974976,16.432099,7.567901,20.025024,12,20.025024),e.closePath(),e.fill("evenodd"),e.stroke(),e.restore(),t.stack--,e.save(),t.stack++,e.fillStyle="#9AA8A9",e.beginPath(),e.moveTo(3.977469,12.202011),e.bezierCurveTo(3.880403,13.366651,2.944759,13.653612,2.481445,13.656799),e.bezierCurveTo(1.992432,13.660164,1,13.117421,1,12),e.bezierCurveTo(1,5.924868,5.924868,1,12,1),e.bezierCurveTo(18.075132,1,23,5.924868,23,12),e.bezierCurveTo(23,13.127857,22.037891,13.51123,21.543091,13.51123),e.bezierCurveTo(21.048291,13.511231,20.045776,13.203328,20.045776,12),e.bezierCurveTo(20.045776,11.948528,20.038295,11.898609,20.023654,11.850214),e.bezierCurveTo(19.943791,7.487233,16.382062,3.974976,12,3.974976),e.bezierCurveTo(7.567901,3.974976,3.974976,7.567901,3.974976,12),e.bezierCurveTo(3.974976,12.067535,3.97581,12.134875,3.977469,12.202011),e.closePath(),e.fill(),e.stroke(),e.restore(),t.stack--,e.restore(),t.stack--,e.restore(),t.stack--}],i:{}},xE={draw:function(e,t,r,n){var o=ra();e.save(),e.translate(t,r),e.scale(o,o),e.rotate(n/230),e.translate(-TE.w/2,-TE.h/2),TE.d[0](e,{stack:0}),e.restore()}},kE=r(264),SE=r.n(kE);function PE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CE(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function AE(e,t,r){return t&&CE(e.prototype,t),r&&CE(e,r),e}function RE(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var jE=function(){function e(t,r,n){PE(this,e),RE(this,"start",void 0),RE(this,"duration",void 0),RE(this,"options",void 0),this.start=t,this.duration=r,this.options=Object.assign({easing:e.LINEAR,clipStart:!0,clipEnd:!0,reverse:!1},n||{})}return AE(e,null,[{key:"LINEAR",value:function(e,t,r,n){return r*e/n+t}},{key:"EASE_IN_CUBIC",value:function(e,t,r,n){return r*(e/=n)*e*e+t}},{key:"EASE_OUT_CUBIC",value:function(e,t,r,n){return e/=n,r*(--e*e*e+1)+t}},{key:"EASE_IN_OUT_CUBIC",value:function(e,t,r,n){return(e/=n/2)<1?r/2*e*e*e+t:r/2*((e-=2)*e*e+2)+t}},{key:"MATERIAL",value:function(e,t,r,n){return SE()(.4,0,.2,1)(e=(e/n-t)/(r-t))}},{key:"calc",value:function(t,r,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.LINEAR;return o(t-r,0,1,n)}}]),AE(e,[{key:"reset",value:function(e){return this.start=e,this}},{key:"isRunning",value:function(e){return e>=this.start&&e<=this.start+this.duration}},{key:"isWaitingToRun",value:function(e){return e<this.start}},{key:"value",value:function(t){var r=e.calc(t,this.start,this.duration,this.options.easing);return this.options.clipStart&&r<0?r=0:this.options.clipEnd&&r>1&&(r=1),this.options.reverse&&(r=1-r),r}}]),e}(),IE={w:36,h:36,d:[function(e,t){e.save(),t.stack++,e.strokeStyle="rgba(0,0,0,0)",e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4,e.translate(0,0),e.translate(0,0),e.translate(0,0),e.scale(1,1),e.translate(0,0),e.save(),t.stack++,e.fillStyle="rgba(0,0,0,0)",e.strokeStyle="rgba(0,0,0,0)",e.lineWidth=1,e.save(),t.stack++,e.fillStyle="#F2F2F2",e.strokeStyle="rgba(0,0,0,0)",e.lineWidth=1,e.save(),t.stack++,e.fillStyle="#F2F2F2",e.strokeStyle="rgba(0,0,0,0)",e.lineWidth=1,e.translate(8,10),e.save(),t.stack++,e.fillStyle="#F2F2F2",e.strokeStyle="rgba(0,0,0,0)",e.lineWidth=1,e.beginPath(),e.moveTo(16.683499,11.621507),e.bezierCurveTo(15.72267,11.621507,14.892862,12.262398,14.630817,13.116921),e.lineTo(7.861335,13.116921),e.bezierCurveTo(7.59929,12.347851,6.987853,11.792411,6.158046,11.664233),e.lineTo(6.027023,10.766984),e.lineTo(17.513307,9.228843),e.bezierCurveTo(17.819025,9.186117,18.08107,8.929761,18.08107,8.587952),e.lineTo(18.08107,2.520841),e.bezierCurveTo(18.08107,2.179032,17.775351,1.87995,17.425959,1.87995),e.lineTo(4.760475,1.87995),e.lineTo(4.585779,.55544),e.bezierCurveTo(4.542105,.256357,4.28006,0,3.930667,0),e.lineTo(.655111,0),e.bezierCurveTo(.305719,0,0,.299083,0,.640892),e.bezierCurveTo(0,.982701,.305719,1.281784,.655111,1.281784),e.lineTo(3.31923,1.281784),e.lineTo(4.891497,11.792411),e.bezierCurveTo(4.149038,12.13422,3.624949,12.860564,3.624949,13.715087),e.bezierCurveTo(3.624949,14.911418,4.585779,15.851393,5.808653,15.851393),e.bezierCurveTo(6.769483,15.851393,7.59929,15.210501,7.861335,14.355979),e.lineTo(14.587143,14.355979),e.bezierCurveTo(14.849188,15.210501,15.678995,15.851393,16.639825,15.851393),e.bezierCurveTo(17.8627,15.851393,18.823529,14.911418,18.823529,13.715087),e.bezierCurveTo(18.823529,12.518755,17.8627,11.621507,16.683499,11.621507),e.lineTo(16.683499,11.621507),e.closePath(),e.moveTo(16.770848,3.161733),e.lineTo(16.770848,8.032512),e.lineTo(5.896001,9.442474),e.lineTo(4.978845,3.119007),e.lineTo(16.770848,3.161733),e.lineTo(16.770848,3.161733),e.closePath(),e.moveTo(5.808653,14.612336),e.bezierCurveTo(5.328238,14.612336,4.935171,14.2278,4.935171,13.757813),e.bezierCurveTo(4.935171,13.287826,5.328238,12.90329,5.808653,12.90329),e.bezierCurveTo(6.289068,12.90329,6.682135,13.287826,6.682135,13.757813),e.bezierCurveTo(6.682135,14.2278,6.289068,14.612336,5.808653,14.612336),e.lineTo(5.808653,14.612336),e.closePath(),e.moveTo(16.683499,14.612336),e.bezierCurveTo(16.203084,14.612336,15.810018,14.2278,15.810018,13.757813),e.bezierCurveTo(15.810018,13.287826,16.203084,12.90329,16.683499,12.90329),e.bezierCurveTo(17.163914,12.90329,17.556981,13.287826,17.556981,13.757813),e.bezierCurveTo(17.556981,14.2278,17.163914,14.612336,16.683499,14.612336),e.lineTo(16.683499,14.612336),e.closePath(),e.fill(),e.stroke(),e.restore(),t.stack--,e.restore(),t.stack--,e.restore(),t.stack--,e.restore(),t.stack--,e.restore(),t.stack--}],i:{}},DE={draw:function(e,t,r,n){var o=1.8*n;e.save(),e.beginPath(),e.arc(t,r,n,0,2*Math.PI),e.fill(),e.translate(t-o/2,r-o/2),e.scale(o/IE.w,o/IE.h),IE.d[0](e,{stack:0}),e.restore()}},ME={w:36,h:36,d:[function(e,t){e.save(),t.stack++,e.strokeStyle="rgba(0,0,0,0)",e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4,e.translate(0,0),e.translate(0,0),e.translate(0,0),e.scale(1,1),e.translate(0,0),e.save(),t.stack++,e.fillStyle="rgba(0,0,0,0)",e.strokeStyle="rgba(0,0,0,0)",e.lineWidth=1,e.save(),t.stack++,e.fillStyle="#F2F2F2",e.strokeStyle="#F2F2F2",e.lineWidth=2,e.save(),t.stack++,e.fillStyle="#F2F2F2",e.strokeStyle="#F2F2F2",e.lineWidth=2,e.beginPath(),e.moveTo(12.340871,10.014123),e.bezierCurveTo(12.438705,9.987436,12.545844,9.99788,12.638453,10.051348),e.lineTo(25.723194,17.605827),e.bezierCurveTo(25.744171,17.617938,25.76355,17.631794,25.781276,17.647113),e.bezierCurveTo(25.850585,17.681197,25.910658,17.735014,25.951029,17.804939),e.bezierCurveTo(26.061419,17.99614,25.995389,18.240929,25.808595,18.348775),e.lineTo(12.645177,25.948678),e.bezierCurveTo(12.576466,25.988348,12.500235,26.004075,12.425883,25.999113),e.bezierCurveTo(12.41723,25.999695,12.408519,25.99999,12.399759,25.99999),e.bezierCurveTo(12.178978,25.99999,12,25.820411,12,25.604721),e.lineTo(12,10.404915),e.bezierCurveTo(12,10.206904,12.152566,10.0429,12.340871,10.014123),e.lineTo(12.340871,10.014123),e.closePath(),e.fill(),e.stroke(),e.restore(),t.stack--,e.restore(),t.stack--,e.restore(),t.stack--,e.restore(),t.stack--}],i:{}},LE={draw:function(e,t,r,n){var o=1.8*n;e.save(),e.beginPath(),e.arc(t,r,n,0,2*Math.PI),e.fill(),e.translate(t-o/2,r-o/2),e.scale(o/ME.w,o/ME.h),ME.d[0](e,{stack:0}),e.restore()}};function NE(e){return(NE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function BE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FE(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function UE(e,t,r){return t&&FE(e.prototype,t),r&&FE(e,r),e}function WE(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zE(e,t)}function zE(e,t){return(zE=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function HE(e){var t=qE();return function(){var r,n=$E(e);if(t){var o=$E(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return VE(this,r)}}function VE(e,t){return!t||"object"!==NE(t)&&"function"!=typeof t?GE(e):t}function GE(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qE(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function $E(e){return($E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function KE(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var YE,XE=100,ZE=100,JE=1e3,QE=800,eO=function(e){WE(r,e);var t=HE(r);function r(){var e;BE(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return KE(GE(e=t.call.apply(t,[this].concat(o))),"_isHovered",!1),KE(GE(e),"_hoverAnimation",new jE(Number.MAX_VALUE,XE)),KE(GE(e),"_initialFlashAnimation",new jE(Number.MAX_VALUE,QE)),KE(GE(e),"_toggleAnimation",new jE(Number.MAX_VALUE,ZE)),KE(GE(e),"_initialFlashTimeoutId",void 0),e}return UE(r,[{key:"componentDidUpdate",value:function(e){var t=this;this.props.arrivedAtSpreadTick&&!e.arrivedAtSpreadTick?this._initialFlashTimeoutId=window.setTimeout((function(){t._initialFlashTimeoutId=void 0,t._initialFlashAnimation.reset(Tw.lastTick),t.requestRedraw()}),JE):!this.props.arrivedAtSpreadTick&&e.arrivedAtSpreadTick&&(window.clearTimeout(this._initialFlashTimeoutId),this._initialFlashTimeoutId=void 0),this.props.isToggledOn&&!e.isToggledOn&&(this._toggleAnimation.options.reverse=!1,this._toggleAnimation.reset(Tw.lastTick)),!this.props.isToggledOn&&e.isToggledOn&&(this._toggleAnimation.options.reverse=!0,this._toggleAnimation.reset(Tw.lastTick)),this.props.isToggledOn&&!e.isToggledOn&&this.props.arrivedAtSpreadTick&&this._trackOpportunity()}},{key:"onMouseEnter",value:function(e){this._hoverAnimation.reset(Tw.lastTick),this._hoverAnimation.options.reverse=!1,this._isHovered=!0,this.props.showLinkToolTip(this),this.requestRedraw(),this.props.isToggledOn||this._trackOpportunity()}},{key:"onMouseLeave",value:function(e){var t=Tw.lastTick,r=this._hoverAnimation.value(t);this._hoverAnimation.reset(t-(1-r)*XE),this._hoverAnimation.options.reverse=!0,this._isHovered=!1,this.props.hideLinkToolTip(),this.requestRedraw()}},{key:"onSingleTap",value:function(e,t){return this._trackUsage(),this.props.dispatch(il(this.model)),!0}},{key:"isAnimating",value:function(){var e=Tw.lastTick;return this._initialFlashAnimation.isRunning(e)||this._toggleAnimation.isRunning(e)||this._hoverAnimation.isRunning(e)}},{key:"hoverOpacity",value:function(){var e=Tw.lastTick;return this._hoverAnimation.isRunning(e)?this._hoverAnimation.value(e):this._isHovered?1:0}},{key:"initialFlashOpacity",value:function(){if(this.parent&&this.parent.parent.getZoom()>1)return 0;var e=Tw.lastTick;if(this._initialFlashAnimation.isRunning(e)){var t=this._initialFlashAnimation.value(e);return t<.2?t/.2:t<.5?1:1-2*(t-.5)}return 0}},{key:"linkToggleOpacity",value:function(){var e=Tw.lastTick;return this._toggleAnimation.isRunning(e)?this._toggleAnimation.value(e):this.props.isToggledOn?1:0}},{key:"calculateOpacityForDrawing",value:function(){return this.shouldRenderVideoThumb()?0:Math.max(this.initialFlashOpacity(),this.linkToggleOpacity(),this.hoverOpacity())}},{key:"shouldRenderVideoThumb",value:function(){return $w(this.model)}},{key:"getCustomCursor",value:function(){return!!this._isHovered&&"pointer"}},{key:"_trackOpportunity",value:function(){this.props.featureTracker.opportunity(ny.PUBLICATION_LINK),qw(this.model)&&this.props.featureTracker.opportunity(ny.PUBLICATION_VIDEO_LINK)}},{key:"_trackUsage",value:function(){this.props.featureTracker.usage(ny.PUBLICATION_LINK),qw(this.model)&&this.props.featureTracker.usage(ny.PUBLICATION_VIDEO_LINK)}},{key:"draw",value:function(e,t){e.save(),e.beginPath();var r=this.calculateOpacityForDrawing();e.rect(t.x+.5,t.y+.5,t.width-1,t.height-1),e.strokeStyle="rgba(118, 165, 204, ".concat(r,")"),e.fillStyle="rgba(118, 165, 204, ".concat(.5*r,")"),e.fill(),e.stroke();var n=20*ra();t.width>50&&t.height>50&&(Yw(this.model)&&(e.globalAlpha=r,e.fillStyle="rgba(0, 0, 0, 0.7)",DE.draw(e,t.x+t.width/2,t.y+t.height/2,n)),qw(this.model)&&(e.globalAlpha=r,e.fillStyle="rgba(0, 0, 0, 0.7)",LE.draw(e,t.x+t.width/2,t.y+t.height/2,n))),e.restore()}},{key:"appendWebglOps",value:function(e,t,r){var n=this.calculateOpacityForDrawing();n>0&&e.push({type:"link-operation",args:[this.model,n,Object.assign({},t)]})}},{key:"afterDraw",value:function(e){this.isAnimating()&&this.requestRedraw()}},{key:"displayName",get:function(){return"Link"}},{key:"model",get:function(){return this.props.model}},{key:"width",get:function(){return this.model.width}},{key:"height",get:function(){return this.model.height}},{key:"transform",get:function(){return this._transform||(this._transform=new Jb,this._transform.mTranslate(this.model.x,this.model.y)),this._transform}},{key:"isVisible",get:function(){return!!this.props.arrivedAtSpreadTick&&(!!this.shouldRenderVideoThumb()||(!!this.props.isToggledOn||(!!this._isHovered||!!this.isAnimating())))}}]),r}(Tw),tO=0,rO=1;function nO(e,t,r){var n=Math.max(e.x,0),o=Math.min(e.x+e.width,t),i=Math.max(e.y,0),a=Math.min(e.y+e.height,r);return{x:Math.min(n,t),y:Math.min(i,r),width:Math.max(0,o-n),height:Math.max(0,a-i)}}function oO(e,t){var r=Math.floor(e.width),n=t===tO?Math.floor(e.x+e.width+.001)-r:Math.floor(e.x),o=Math.floor(e.height);return{x:n,y:Math.floor(e.y),width:r,height:o}}function iO(e){return Math.max(Math.min(e,1),0)}function aO(e,t,r){return(t-e)*iO(r)+e}function sO(e,t,r){var n=iO(r);return(t-e)*(1-Math.pow(2,-10*n))+e}function uO(e,t,r){var n=iO(r);return(t-e)*Math.pow(2,10*(n-1))+e}function cO(e,t,r){var n=iO(r);return(t-e)*n*n+e}function lO(e,t,r){var n=iO(r);return(t-e)*n*(2-n)+e}function fO(e,t,r){var n=e.createShader(r);if(e.shaderSource(n,t),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS)&&!e.isContextLost()){var o=r===e.FRAGMENT_SHADER?"fragment":"vertex",i=e.getShaderInfoLog(n)||"",a=(e.getSupportedExtensions()||[]).join(",");throw new Error("Cannot compile ".concat(o," shader: ").concat(i,"\n[").concat(a,"]"))}return n}function pO(e,t){if(e.linkProgram(t),!e.getProgramParameter(t,e.LINK_STATUS)&&!e.isContextLost()){var r=e.getProgramInfoLog(t)||"",n=(e.getSupportedExtensions()||[]).join(",");throw new Error("Cannot link shaderprogram: ".concat(r,"\n[").concat(n,"]"))}}function dO(e,t){for(var r=new Set,n=0;n<e;n++){var o=t(n);o&&r.add(o.name)}return r}function hO(e,t,r){var n=fO(e,t,e.VERTEX_SHADER),o=fO(e,r,e.FRAGMENT_SHADER),i=e.createProgram();e.attachShader(i,n),e.attachShader(i,o),pO(e,i);for(var a=dO(e.getProgramParameter(i,e.ACTIVE_UNIFORMS),(function(t){return e.getActiveUniform(i,t)})),s=dO(e.getProgramParameter(i,e.ACTIVE_ATTRIBUTES),(function(t){return e.getActiveAttrib(i,t)})),u={id:i,bind:function(){if(YE!==u){YE&&YE.unbind(),YE=u,e.useProgram(u.id);for(var t=0,r=Array.from(s);t<r.length;t++){var n=r[t];e.enableVertexAttribArray(u[n])}}},unbind:function(){for(var t=0,r=Array.from(s);t<r.length;t++){var n=r[t];e.disableVertexAttribArray(u[n])}},destroy:function(){YE&&YE===u&&(YE.unbind(),YE=null),e.detachShader(i,n),e.deleteShader(n),e.detachShader(i,o),e.deleteShader(o),e.deleteProgram(i)}},c=0,l=Array.from(s);c<l.length;c++){var f=l[c];u[f]=e.getAttribLocation(i,f)}for(var p=0,d=Array.from(a);p<d.length;p++){var h=d[p];u[h]=e.getUniformLocation(i,h)}return u}var yO=r(265),mO=r.n(yO),vO=r(266),gO=r.n(vO),_O=r(267),bO=r.n(_O),wO=r(268),EO=r.n(wO);function OO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function xO(e,t,r){return t&&TO(e.prototype,t),r&&TO(e,r),e}function kO(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var SO=new Float32Array([1,1,0,.5]),PO=new Float32Array([0,0,0,.3]);function CO(e){return{min:{x:Math.min(e.p1.x,e.p2.x,e.p3.x,e.p4.x),y:Math.min(e.p1.y,e.p2.y,e.p3.y,e.p4.y)},max:{x:Math.max(e.p1.x,e.p2.x,e.p3.x,e.p4.x),y:Math.max(e.p1.y,e.p2.y,e.p3.y,e.p4.y)}}}function AO(e){var t=new Float32Array(6*e.length*2);return e.forEach((function(e,r){t[12*r+0]=e.p1.x,t[12*r+1]=e.p1.y,t[12*r+2]=e.p3.x,t[12*r+3]=e.p3.y,t[12*r+4]=e.p2.x,t[12*r+5]=e.p2.y,t[12*r+6]=e.p2.x,t[12*r+7]=e.p2.y,t[12*r+8]=e.p3.x,t[12*r+9]=e.p3.y,t[12*r+10]=e.p4.x,t[12*r+11]=e.p4.y})),t}function RO(e){var t=new Float32Array(6*e.length*2);return e.forEach((function(e,r){var n=CO(e),o=function(e){return(e-n.min.x)/(n.max.x-n.min.x)},i=function(e){return(n.max.y-e)/(n.max.y-n.min.y)};t[12*r+0]=o(e.p1.x),t[12*r+1]=i(e.p1.y),t[12*r+2]=o(e.p3.x),t[12*r+3]=i(e.p3.y),t[12*r+4]=o(e.p2.x),t[12*r+5]=i(e.p2.y),t[12*r+6]=o(e.p2.x),t[12*r+7]=i(e.p2.y),t[12*r+8]=o(e.p3.x),t[12*r+9]=i(e.p3.y),t[12*r+10]=o(e.p4.x),t[12*r+11]=i(e.p4.y)})),t}var jO,IO=(jO=o.create(),function(e,t){var r=2/e,n=2/t;return o.set(jO,r,0,0,0,-n,0,-1,1,1)}),DO=function(){var e=i.create(),t=o.create();return function(r,n,a){return o.translate(t,r,i.set(e,a.x,a.y)),o.scale(t,t,i.set(e,n,n)),o.translate(t,t,i.set(e,-a.x,-a.y)),t}}(),MO=function(){function e(t){OO(this,e),kO(this,"gl",void 0),kO(this,"verticeBuffer",void 0),kO(this,"texCoordBuffer",void 0),kO(this,"shader",void 0),kO(this,"selectedShader",void 0),kO(this,"emptyTexture",void 0),this.gl=t,this.shader=hO(t,gO.a,mO.a),this.selectedShader=hO(t,EO.a,bO.a),this.verticeBuffer=t.createBuffer(),this.texCoordBuffer=t.createBuffer(),this.emptyTexture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.emptyTexture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array([255,255,255,255])),t.bindTexture(t.TEXTURE_2D,null)}return xO(e,[{key:"draw",value:function(e,t){var r=this.gl,n=this.shader,o=this.verticeBuffer;r.disable(r.DEPTH_TEST),r.disable(r.CULL_FACE),r.enable(r.STENCIL_TEST),n.bind(),r.bindBuffer(r.ARRAY_BUFFER,o),r.vertexAttribPointer(n.a_vertex,2,r.FLOAT,!1,0,0),r.uniformMatrix3fv(n.u_displayMatrix,!1,IO(r.drawingBufferWidth,r.drawingBufferHeight)),t.length&&(r.stencilFunc(r.NEVER,1,1),r.stencilOp(r.REPLACE,r.KEEP,r.KEEP),r.bufferData(r.ARRAY_BUFFER,AO(t),r.DYNAMIC_DRAW),r.drawArrays(r.TRIANGLES,0,6*t.length)),r.enable(r.BLEND),r.uniform4fv(n.u_color,PO),r.stencilFunc(r.NOTEQUAL,1,1),r.blendFuncSeparate(r.SRC_ALPHA,r.ONE_MINUS_SRC_ALPHA,r.ZERO,r.ONE),r.blendEquation(r.FUNC_ADD);var i={p1:{x:e.x,y:e.y},p2:{x:e.x+e.width,y:e.y},p3:{x:e.x,y:e.y+e.height},p4:{x:e.x+e.width,y:e.y+e.height}};r.bufferData(r.ARRAY_BUFFER,AO([i]),r.DYNAMIC_DRAW),r.drawArrays(r.TRIANGLES,0,6),r.disable(r.BLEND),r.disable(r.STENCIL_TEST),r.enable(r.CULL_FACE),r.enable(r.DEPTH_TEST)}},{key:"drawSelected",value:function(e,t,r,n){var o=this.gl,i=this.shader,a=this.selectedShader,s=this.verticeBuffer,u=this.texCoordBuffer;if(o.disable(o.DEPTH_TEST),o.disable(o.CULL_FACE),o.bindBuffer(o.ARRAY_BUFFER,s),o.bufferData(o.ARRAY_BUFFER,AO(e),o.DYNAMIC_DRAW),o.bindBuffer(o.ARRAY_BUFFER,null),n>1){a.bind();var c=DO(IO(o.drawingBufferWidth,o.drawingBufferHeight),n,r);o.uniformMatrix3fv(a.u_displayMatrix,!1,c),o.bindBuffer(o.ARRAY_BUFFER,s),o.vertexAttribPointer(a.a_vertex,2,o.FLOAT,!1,0,0),o.bindBuffer(o.ARRAY_BUFFER,u),o.bufferData(o.ARRAY_BUFFER,RO(e),o.DYNAMIC_DRAW),o.vertexAttribPointer(a.a_texCoord,2,o.FLOAT,!1,0,0),o.activeTexture(o.TEXTURE0),o.uniform1i(a.u_texture,0),o.uniform4fv(a.u_color,SO);for(var l=0;l<e.length;l++){var f=t[l];o.bindTexture(o.TEXTURE_2D,f&&"texture"in f?f.texture:this.emptyTexture),o.drawArrays(o.TRIANGLES,6*l,6)}}else o.enable(o.BLEND),i.bind(),o.blendFuncSeparate(o.SRC_ALPHA,o.ONE_MINUS_SRC_ALPHA,o.ZERO,o.ONE),o.blendEquation(o.FUNC_ADD),o.bindBuffer(o.ARRAY_BUFFER,s),o.vertexAttribPointer(i.a_vertex,2,o.FLOAT,!1,0,0),o.uniform4fv(i.u_color,SO),o.drawArrays(o.TRIANGLES,0,6*e.length),o.disable(o.BLEND);o.enable(o.CULL_FACE),o.enable(o.DEPTH_TEST)}},{key:"destroy",value:function(){var e=this.gl;e.deleteBuffer(this.verticeBuffer),e.deleteBuffer(this.texCoordBuffer),e.deleteTexture(this.emptyTexture),this.shader.destroy(),this.selectedShader.destroy()}}]),e}();function LO(e){return(LO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function NO(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=BO(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function BO(e,t){if(e){if("string"==typeof e)return FO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?FO(e,t):void 0}}function FO(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function UO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function zO(e,t,r){return t&&WO(e.prototype,t),r&&WO(e,r),e}function HO(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&VO(e,t)}function VO(e,t){return(VO=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function GO(e){var t=KO();return function(){var r,n=YO(e);if(t){var o=YO(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return qO(this,r)}}function qO(e,t){return!t||"object"!==LO(t)&&"function"!=typeof t?$O(e):t}function $O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KO(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function YO(e){return(YO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function XO(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ZO=500,JO=40;function QO(e,t,r){var n=i.create(),o=i.create();return i.set(n,t,r),i.transformMat2d(o,n,e),{x:o[0],y:o[1]}}function eT(e,t){var r=n.create();return n.multiply(r,t,e.matrix),{p1:QO(r,e.x,e.y),p2:QO(r,e.x+e.width,e.y),p3:QO(r,e.x,e.y+e.height),p4:QO(r,e.x+e.width,e.y+e.height)}}var tT=function(e){HO(r,e);var t=GO(r);function r(e,n){var o;return UO(this,r),XO($O(o=t.call(this,e,n)),"_transform",void 0),XO($O(o),"_lastActionTick",void 0),o._lastActionTick=0,o}return zO(r,[{key:"componentDidUpdate",value:function(e){sf()(e.selectedResult,this.props.selectedResult)||(this._lastActionTick=this.props.selectedResult?Tw.lastTick:0)}},{key:"isAnimating",value:function(e){return e-ZO<this._lastActionTick}},{key:"draw",value:function(e,t){var r=oO(t,this.props.pageType),n=this.getViewportCTM().matrix;if(e.save(),this.selectedResult){e.fillStyle="rgba(255, 255, 0, 0.5)";var o,i=NO(this.selectedResult);try{for(i.s();!(o=i.n()).done;){var a=o.value,s=a.matrix;e.setTransform(n[0],n[1],n[2],n[3],n[4],n[5]),e.transform(s[0],s[1],s[2],s[3],s[4],s[5]),e.fillRect(a.x,a.y,a.width,a.height)}}catch(e){i.e(e)}finally{i.f()}}var u,c=NO(this.results);try{for(c.s();!(u=c.n()).done;){var l,f=NO(u.value);try{for(f.s();!(l=f.n()).done;){var p=l.value;e.beginPath(),e.setTransform(1,0,0,1,0,0),e.rect(r.x,r.y,r.width,r.height);var d=p.matrix;e.setTransform(n[0],n[1],n[2],n[3],n[4],n[5]),e.transform(d[0],d[1],d[2],d[3],d[4],d[5]),e.rect(p.x,p.y,p.width,p.height),e.clip("evenodd")}}catch(e){f.e(e)}finally{f.f()}}}catch(e){c.e(e)}finally{c.f()}e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0.3)",e.fillRect(r.x,r.y,r.width,r.height),e.restore()}},{key:"appendWebglOps",value:function(e,t,r){var n,o,i=oO(t,this.props.pageType),a=this.getViewportCTM().matrix,s=this.transform.matrix,u=(null===(n=this.model)||void 0===n?void 0:n.pageNumber)||0,c=[],l=NO(this.results);try{for(l.s();!(o=l.n()).done;){var f,p=NO(o.value);try{for(p.s();!(f=p.n()).done;){var d=f.value;c.push(eT(d,a))}}catch(e){p.e(e)}finally{p.f()}}}catch(e){l.e(e)}finally{l.f()}var h=this.selectedResult,y=[],m=[];if(h){var v,g=NO(h);try{for(g.s();!(v=g.n()).done;){var _=v.value,b=eT(_,a),w=CO(b);if(y.push(b),this.isAnimating(Tw.lastTick)){var E=CO(eT(_,s)),O=null;if(E.max.x-E.min.x>=1&&E.max.y-E.min.y>=1){var T=(w.max.x-w.min.x+JO)/(E.max.x-E.min.x);O=this.props.renderManager.generateSurfacesUncached([T,0,0,T,E.min.x*T*-1,E.min.y*T*-1],(E.max.x-E.min.x)*T,(E.max.y-E.min.y)*T,u)}m.push(O)}}}catch(e){g.e(e)}finally{g.f()}}if(e.push({type:"highlight-operation",args:[i,c]}),y.length){var x=y.reduce((function(e,t){var r=CO(t);return e.left=Math.min(r.min.x,e.left),e.top=Math.min(r.min.y,e.top),e.right=Math.max(r.max.x,e.right),e.bottom=Math.max(r.max.y,e.bottom),e}),{left:1/0,top:1/0,right:-1/0,bottom:-1/0}),k=Math.max(x.right-x.left,x.bottom-x.top),S=(Tw.lastTick-this._lastActionTick)/ZO,P=S<.5?(k+lO(0,JO,2*S))/k:(k+cO(JO,0,2*(S-.5)))/k,C={x:(x.left+x.right)/2,y:(x.top+x.bottom)/2};e.push({type:"highlight-flash-operation",args:[y,m,C,P]})}}},{key:"afterDraw",value:function(e){this.isAnimating(Tw.lastTick)&&this.requestRedraw()}},{key:"isVisible",get:function(){return!!this.model&&vi(this.root.__store__.getState())}},{key:"width",get:function(){return this.model?this.model.width:0}},{key:"height",get:function(){return this.model?this.model.height:0}},{key:"results",get:function(){return this.props.results}},{key:"selectedResult",get:function(){return this.props.selectedResult}},{key:"model",get:function(){return this.props.model}},{key:"transform",get:function(){return this._transform||(this._transform=new Jb),this.width&&this.height&&this.parent&&this._transform.mSet(this.parent.width/this.width,0,0,this.parent.height/this.height,0,0),this._transform}}]),r}(Tw);function rT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function oT(e,t,r){return t&&nT(e.prototype,t),r&&nT(e,r),e}function iT(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var aT={_pool:[],get:function(){return this._pool.length?this._pool.pop():document.createElement("canvas")},release:function(e){this._pool.push(e)}},sT=/Chrom(e|ium)/.test(navigator.userAgent),uT=function(){function e(t,r){rT(this,e),iT(this,"hintMaxWidth",void 0),iT(this,"hintMaxHeight",void 0),this.hintMaxWidth=t,this.hintMaxHeight=r}return oT(e,[{key:"_initState",value:function(e,t,r,n){var o=e?e.ctx:null;if(!o||o.canvas.width!==t||o.canvas.height!==r){var i=o?o.canvas:aT.get();i.width=t,i.height=r,o=i.getContext("2d",{alpha:!n})}return{ctx:o}}},{key:"draw",value:regeneratorRuntime.mark((function e(t,r,n,o,i,a){var s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=this._initState(t,o,i,a),e.delegateYield(Object(Io.e)(s.ctx,n,r,sT),"t0",2);case 2:return e.abrupt("return",s);case 3:case"end":return e.stop()}}),e,this)}))},{key:"drawImage",value:function(e,t,r,n){var o=this._initState(e,r,n,!0);return o.ctx.drawImage(t,0,0,r,n),o}},{key:"release",value:function(e){var t=e.ctx.canvas,r=function(){t.width=0,t.height=0,aT.release(t)};sT?r():Be().rIC(r)}},{key:"getSurface",value:function(e){return e.ctx.canvas}}]),e}(),cT=function(){function e(t){rT(this,e),iT(this,"gl",void 0),iT(this,"maxTextureSize",void 0),this.gl=t,this.maxTextureSize=t.getParameter(t.MAX_TEXTURE_SIZE)}return oT(e,[{key:"draw",value:function(e,t,r,n){var o=this.gl,i=t.width,a=t.height;if(i>this.maxTextureSize||a>this.maxTextureSize)throw new Error("Requested creation of too large texture of size ".concat(i,"x").concat(a,". maxTextureSize: ").concat(this.maxTextureSize));var s=e?e.texture:o.createTexture();return o.pixelStorei(o.UNPACK_FLIP_Y_WEBGL,!0),o.bindTexture(o.TEXTURE_2D,s),e&&e.width===i&&e.height===a||o.texImage2D(o.TEXTURE_2D,0,o.RGBA,i,a,0,o.RGBA,o.UNSIGNED_BYTE,null),o.texSubImage2D(o.TEXTURE_2D,0,0,0,o.RGBA,o.UNSIGNED_BYTE,t),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.LINEAR),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.NEAREST),o.bindTexture(o.TEXTURE_2D,null),{texture:s,width:i,height:a,imgWidth:r,imgHeight:n}}},{key:"release",value:function(e){var t=this.gl,r=e.texture;Be().rIC((function(){t.deleteTexture(r)}))}},{key:"getSurface",value:function(e){return e}}]),e}();function lT(e){return new Promise((function(t,r){if("None"===e.split("/").reverse()[0])return r(new TypeError("url incorrect"));var n=new Image;n.crossOrigin="Anonymous",n.onload=function(){"function"==typeof createImageBitmap?createImageBitmap(n).then((function(e){return t(e)})):t(n)},n.onerror=function(){return r(new TypeError("Could not load image"))},n.src=e}))}function fT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function dT(e,t,r){return t&&pT(e.prototype,t),r&&pT(e,r),e}function hT(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yT(e){return(yT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var mT=6,vT=0;function gT(e,t){return e.layersInfo&&"object"===yT(e.layersInfo)?Object(Io.d)({url:e.layersInfo.uri,pageNumber:e.pageNumber,version:e.layersInfo.version,loadStatsTracker:t}):Object(Io.c)({url:e.imageUri,pageNumber:e.pageNumber,width:e.width,height:e.height,loadStatsTracker:t})}function _T(e,t){return gT(e,t).catch((function(r){if(e.layersInfo)return r&&r.skipTracking||t.onLoaderError(),t.onLayersImageFallback(),e.layersInfo=void 0,_T(e,t);throw r}))}function bT(e,t,r){switch(t.state){case"NOT_LOADED":return vT<mT&&(vT++,t.state="LOADING",_T(e,r).then((function(e){t.state="LOADED",t.data=e,vT--}),(function(){vT--}))),null;case"LOADING":return null;case"LOADED":var n=t.data;return(null==n?void 0:n.images.some((function(e){return 0===e.width||0===e.height})))?(delete t.data,t.state="NOT_LOADED",bT(e,t,r)):t.data||null;default:return zc(t.state)}}function wT(e,t){if("NOT_LOADED"===t.state){t.state="LOADING";var r=e.inlineData;if(r)lT("new-links"===At()?r.thumbnail:"https://".concat(r.thumbnail)).then((function(e){t.state="LOADED",t.data=e}),(function(){}))}return t.data}var ET=function(){function e(t,r){fT(this,e),hT(this,"pageModels",void 0),hT(this,"loadStatsTracker",void 0),hT(this,"pageDatas",void 0),hT(this,"videoDatas",{}),this.pageModels=t,this.loadStatsTracker=r,this.pageDatas=new Array(t.length)}return dT(e,[{key:"_getPageData",value:function(e){return this.pageDatas[e-1]||(this.pageDatas[e-1]={state:"NOT_LOADED"}),this.pageDatas[e-1]}},{key:"getPageModel",value:function(e){return this.pageModels[e-1]}},{key:"getPageLayers",value:function(e){return bT(this.getPageModel(e),this._getPageData(e),this.loadStatsTracker)}},{key:"isPageReady",value:function(e){return"LOADED"===this._getPageData(e).state}},{key:"_getVideoData",value:function(e){var t="".concat(e.page.pageNumber,"_").concat(e.id);return this.videoDatas[t]||(this.videoDatas[t]={state:"NOT_LOADED"}),this.videoDatas[t]}},{key:"getVideoThumb",value:function(e){return wT(e,this._getVideoData(e))}},{key:"getVideoThumbs",value:function(e){var t=this;this.getPageModel(e).links.forEach((function(e){$w(e)&&t.getVideoThumb(e)}))}},{key:"setActivePages",value:function(e,t){var r=this;e.forEach((function(e){r.getPageLayers(e),r.getVideoThumbs(e)}));for(var n=[],o="SINGLE_PAGE_SPREAD"===t?1:2,i=e[0]-o,a=e[e.length-1]+o;a>=i;a--)a>0&&a<=this.pageModels.length&&(this.getPageLayers(a),this.getVideoThumbs(a),n.push(a));return this.pageDatas.forEach((function(e,t){e&&"LOADED"===e.state&&!n.includes(t+1)&&(delete e.data,e.state="NOT_LOADED")})),Object.keys(this.videoDatas).forEach((function(e){var t=r.videoDatas[e],o=parseInt(e,10);"LOADED"!==t.state||n.includes(o)||(delete t.data,t.state="NOT_LOADED")})),n}}]),e}();function OT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function xT(e,t,r){return t&&TT(e.prototype,t),r&&TT(e,r),e}function kT(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ST=10,PT=50,CT=3,AT=0,RT=1,jT=2,IT=3;function DT(e,t,r){var n=Math.round(e[0]*r.width),o=Math.round(t[0]*r.width),i=Math.round(e[3]*r.height),a=Math.round(t[3]*r.height);return n-o==0&&i-a==0}function MT(e,t,r){return e[4]===t[4]&&e[5]===t[5]&&DT(e,t,r)}function LT(e,t){return e.map((function(e,r){var n=t[r],o="src_px"in e&&(e.src_px.x<0||e.src_px.width<=0||e.src_px.x+e.src_px.width>n.width_px),i="src_px"in e&&(e.src_px.y<0||e.src_px.height<=0||e.src_px.y+e.src_px.height>n.height_px),a=e.dest_px.width<=0,s=e.dest_px.height<=0;return o||i||a||s})).filter((function(e){return!!e}))}var NT=function(){function e(t){var r=t.useWebGL,n=t.ctx,o=t.hintMaxWidth,i=t.hintMaxHeight,a=t.pageModels,s=t.loadStatsTracker,u=t.renderManager;OT(this,e),kT(this,"draw2D",void 0),kT(this,"drawWebGL",void 0),kT(this,"loadingManager",void 0),kT(this,"loadStatsTracker",void 0),kT(this,"resources",[]),r&&n&&(this.drawWebGL=new cT(n)),this.draw2D=new uT(o,i),this.loadStatsTracker=s,u?(this.loadingManager=u.loadingManager,this.loadingManager.pageModels=a,this._reuseData(u)):(this.loadingManager=new ET(a,s),this.resources=new Array(a.length))}return xT(e,[{key:"_getResource",value:function(e){return this.resources[e-1]||(this.resources[e-1]={hires:void 0,preview:void 0,videoThumbs:[]}),this.resources[e-1]}},{key:"generateSurfacesUncached",value:function(e,t,r,n){var o=this.loadingManager.getPageLayers(n);if(!o)return null;var i=this.loadingManager.getPageModel(n);e[0]*=i.width/o.width,e[3]*=i.height/o.height;var a={generator:this.draw2D.draw(null,o,e,t,r,!0),state2D:null,stateWebGL:null,skipCount:0,matrix:e,width_px:t,height_px:r};return this._traditionalRendering(a,this.loadStatsTracker.uncachedFontRenderingTracker()),a.stateWebGL||a.state2D}},{key:"generateSurfaces",value:function(e,t,r,n,o,i,a,s){var u=this.loadingManager.getPageLayers(i);if(!u)return{done:!1,ops:[]};var c=this.loadingManager.getPageModel(i);return e[0]*=c.width/u.width,e[3]*=c.height/u.height,a?this.generateAnimatingSurfaces(e,t,n,o,i,u,s):this.generateStaticSurfaces(e,t,r,n,o,i,u,s)}},{key:"generateStaticSurfaces",value:function(e,t,r,n,o,i,a,s){var u=this._getResource(i),c=[],l=u.preview,f=u.hires,p=r.width,d=r.height;if(l||(l=this._generatePreview(n,o,a),u.preview=l),!f||f.width_px!==p||f.height_px!==d||!MT(e,f.matrix,a)){f&&this._releaseWebGLTexture(f);var h=f?f.state2D:null;(f={generator:this.draw2D.draw(h,a,e,p,d,!0),state2D:null,stateWebGL:null,skipCount:0,matrix:e,width_px:p,height_px:d}).generator.next(),u.hires=f}this._traditionalRendering(f,this.loadStatsTracker.hiresFontRenderingTracker()),this._incrementalRendering(l,!1,s);var y=this._getSurface(l),m=this._generateHiresSurface(f);if(m)c.push(m);else{var v=this._generatePreviewSurface(l,t.width,t.height);v&&c.push(v)}return{done:!(!m||!y),ops:c}}},{key:"generateAnimatingSurfaces",value:function(e,t,r,n,o,i,a){var s=this._getResource(o),u=[],c=[],l=s.preview,f=s.hires,p=t.width,d=t.height;l||(l=this._generatePreview(r,n,i),s.preview=l),this._incrementalRendering(l,!0,a);var h=this._generatePreviewSurface(l,p,d);if(h&&(u.push(h),c.push(l)),f&&DT(f.matrix,e,i)){var y=this._generateHiresSurface(f);y&&(u.push(y),c.push(f))}var m=LT(u,c);return m.length&&this.loadStatsTracker.onOpsValidationError(m.length),{done:!!h,ops:u}}},{key:"_reuseData",value:function(e){this.resources=e.resources,this.drawWebGL||e.resources.forEach((function(t){t&&(t.hires&&e._releaseWebGLTexture(t.hires),t.preview&&e._releaseWebGLTexture(t.preview),t.videoThumbs.forEach((function(t){e._releaseWebGLTexture(t)})))}))}},{key:"isPageReady",value:function(e){return this.loadingManager.isPageReady(e)}},{key:"generateVideoThumbSurfaces",value:function(e,t,r){var n=this,o=this._getResource(e),i=this.loadingManager.getPageModel(e),a=t.width/i.width,s=t.height/i.height,u={ops:[],done:!0};return i.links.forEach((function(e){if($w(e)&&!Kw(e)){var t=e,i=n.loadingManager.getVideoThumb(t);if(!i)return void(u.done=!1);var c=o.videoThumbs.find((function(t){return t.id===e.id}));c||(c={width_px:i.width,id:e.id,height_px:i.height,state2D:null,stateWebGL:null},o.videoThumbs.push(c));var l=n._generateVideoThumbSurface(c,i,r);if(!l)return void(u.done=!1);var f=c.width_px/(e.width*a),p=c.height_px/(e.height*s);if("youtube"===t.videoService){var d=Math.min(f,p),h=d*e.width*a,y=d*e.height*s;u.ops.push({surface:l,type:jT,src_px:{x:(c.width_px-h)/2,y:(c.height_px-y)/2,width:h,height:y},dest_px:{x:e.x*a,y:e.y*s,width:e.width*a,height:e.height*s}})}else if("vimeo"===t.videoService){var m=Math.max(f,p),v=c.width_px/m,g=c.height_px/m;u.ops.push({type:IT,dest_px:{x:e.x*a,y:e.y*s,width:e.width*a,height:e.height*s}},{surface:l,type:jT,src_px:{x:0,y:0,width:c.width_px,height:c.height_px},dest_px:{x:e.x*a+(e.width*a-v)/2,y:e.y*s+(e.height*s-g)/2,width:v,height:g}})}}})),u}},{key:"_generateVideoThumbSurface",value:function(e,t,r){var n=e.width_px,o=e.height_px,i=e.state2D;if(!i){if(r+ST-Ne()()<0)return null;i=this.draw2D.drawImage(null,t,n,o),e.state2D=i}var a=this.draw2D.getSurface(i),s=this.drawWebGL;if(s){var u=e.stateWebGL;return u||(u=s.draw(null,a,n,o),e.stateWebGL=u),s.getSurface(u)}return a}},{key:"_getSurface",value:function(e){return this.drawWebGL&&e.stateWebGL?this.drawWebGL.getSurface(e.stateWebGL):!this.drawWebGL&&e.state2D?this.draw2D.getSurface(e.state2D):null}},{key:"_traditionalRendering",value:function(e,t){if(e){if(!e.state2D){t.start();for(var r=e.generator.next(PT);!r.done;)r=e.generator.next(PT);e.state2D=r.value,t.end()}if(this.drawWebGL&&!e.stateWebGL&&e.state2D){var n=this.drawWebGL,o=this.draw2D.getSurface(e.state2D),i=o.width,a=o.height;e.stateWebGL=n.draw(e.stateWebGL,o,i,a)}}}},{key:"_incrementalRendering",value:function(e,t,r){if(e){var n=e.skipCount<CT,o=r+(t&&n?ST:PT)-Ne()();if(o<0&&n)e.skipCount++;else if(e.skipCount=0,e.state2D){if(this.drawWebGL&&!e.stateWebGL){var i=this.drawWebGL,a=this.draw2D.getSurface(e.state2D),s=a.width,u=a.height;e.stateWebGL=i.draw(e.stateWebGL,a,s,u)}}else{var c=e.generator.next(o);c.done&&(e.state2D=c.value)}}}},{key:"_generateHiresSurface",value:function(e){if(!e)return null;var t=e.width_px,r=e.height_px,n=this._getSurface(e);return t>0&&r>0&&n?{surface:n,type:AT,src_px:{x:0,y:0,width:t,height:r},dest_px:{x:-e.matrix[4],y:-e.matrix[5],width:t,height:r}}:null}},{key:"_generatePreviewSurface",value:function(e,t,r){if(!e)return null;var n=this._getSurface(e);return n?{surface:n,type:RT,src_px:{x:0,y:0,width:e.width_px,height:e.height_px},dest_px:{x:0,y:0,width:t,height:r}}:null}},{key:"_generatePreview",value:function(e,t,r){var n=[e/r.width,0,0,t/r.height,0,0],o={generator:this.draw2D.draw(null,r,n,e,t,!1),state2D:null,stateWebGL:null,skipCount:0,matrix:n,width_px:e,height_px:t};return o.generator.next(),o}},{key:"setActivePages",value:function(e,t){var r=this,n=this.loadingManager.setActivePages(e,t);this.resources.forEach((function(e,t){e&&!n.includes(t+1)&&r._releaseResource(e)}))}},{key:"_releaseWebGLTexture",value:function(e){this.drawWebGL&&e.stateWebGL&&(this.drawWebGL.release(e.stateWebGL),e.stateWebGL=null)}},{key:"_releaseResource",value:function(e){var t=this,r=e.hires,n=e.preview;r&&(r.state2D&&this.draw2D.release(r.state2D),this._releaseWebGLTexture(r)),n&&(n.state2D&&this.draw2D.release(n.state2D),this._releaseWebGLTexture(n)),e.hires=void 0,e.preview=void 0,e.videoThumbs.forEach((function(e){e.state2D&&t.draw2D.release(e.state2D),t._releaseWebGLTexture(e)})),e.videoThumbs.length=0}},{key:"release",value:function(){var e=this;this.resources.forEach((function(t){t&&e._releaseResource(t)})),this.resources=[]}}]),e}();function BT(e){return(BT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function FT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function UT(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?FT(Object(r),!0).forEach((function(t){ix(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FT(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function WT(e){return GT(e)||VT(e)||HT(e)||zT()}function zT(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function HT(e,t){if(e){if("string"==typeof e)return qT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?qT(e,t):void 0}}function VT(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function GT(e){if(Array.isArray(e))return qT(e)}function qT(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function YT(e,t,r){return t&&KT(e.prototype,t),r&&KT(e,r),e}function XT(e,t,r){return(XT="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=ZT(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function ZT(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ox(e)););return e}function JT(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&QT(e,t)}function QT(e,t){return(QT=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ex(e){var t=nx();return function(){var r,n=ox(e);if(t){var o=ox(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return tx(this,r)}}function tx(e,t){return!t||"object"!==BT(t)&&"function"!=typeof t?rx(e):t}function rx(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nx(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function ox(e){return(ox=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ix(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ax=function(e){JT(r,e);var t=ex(r);function r(){var e;$T(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return ix(rx(e=t.call.apply(t,[this].concat(o))),"position",{x:0,y:0,width:0,height:0}),ix(rx(e),"unzoomedWidthInHWPx",0),ix(rx(e),"unzoomedHeightInHWPx",0),ix(rx(e),"onDoubleTap",(function(t,r){return e.props.onDoubleTap(t,r,rx(e))})),e}return YT(r,[{key:"componentDidMount",value:function(){this.updateUnzoomedSizes()}},{key:"componentDidUpdate",value:function(e){this.props.transform.isEqualWith(e.transform)||this.updateUnzoomedSizes()}},{key:"updateUnzoomedSizes",value:function(){var e=this.transform.transformRect(Tw.RectPool.get(0,0,this.width,this.height));this.unzoomedWidthInHWPx=Math.floor(e.width),this.unzoomedHeightInHWPx=Math.floor(e.height),Tw.RectPool.release(e)}},{key:"shouldRenderVideoThumb",value:function(){return this.model.links.some((function(e){return $w(e)}))}},{key:"getChildrenToTraverse",value:function(){if(!this.props.mayRenderLinks){var e=XT(ox(r.prototype),"getChildrenToTraverse",this).call(this);return e?e.filter((function(e){return!(e instanceof eO)})):[]}return XT(ox(r.prototype),"getChildrenToTraverse",this).call(this)}},{key:"getChildTree",value:function(){var e=this;return[Tw.createElement(tT,{model:this.props.isPaywalled?null:this.model.textInfoPage,results:this.props.isPaywalled?[]:this.model.findResults,selectedResult:this.props.isPaywalled?null:this.model.selectedFindResult,renderManager:this.props.renderManager,pageType:this.pageType})].concat(this.model.links.map((function(t){return Tw.createElement(eO,{arrivedAtSpreadTick:e.props.mayRenderLinks?e.props.arrivedAtSpreadTick:0,dispatch:e.props.dispatch,featureTracker:e.props.featureTracker,hideLinkToolTip:e.props.hideLinkToolTip,isToggledOn:e.props.isLinksToggledOn,model:t,showLinkToolTip:e.props.showLinkToolTip})})))}},{key:"getOperations",value:function(e,t,r){var n=oO(e,this.pageType),o=nO(n,t,r);if(this.updatePagePosition(n),0===o.width||0===o.height)return{done:!0,ops:[]};var i=[n.width/this.props.model.width,0,0,n.height/this.props.model.height,Math.min(0,n.x),Math.min(0,n.y)];try{var a=this.props.renderManager.generateSurfaces(i,n,o,this.unzoomedWidthInHWPx,this.unzoomedHeightInHWPx,this.pageNumber,this.inAnimation,Tw.lastTick);if(this.shouldRenderVideoThumb()){var s,u=this.props.renderManager.generateVideoThumbSurfaces(this.pageNumber,n,Tw.lastTick);if(0!==a.ops.length)(s=a.ops).push.apply(s,WT(u.ops)),a.done=a.done&&u.done}return a}catch(e){var c={matrix:i,cappedWidth:o.width,cappedHeight:o.height,unzoomedWidthInHWPx:this.unzoomedWidthInHWPx,unzoomedHeightInHWPx:this.unzoomedHeightInHWPx,pageNumber:this.pageNumber,inAnimation:this.inAnimation};throw e.sentry_extra=UT(UT({},e.sentry_extra),{},{renderOps:c}),e}}},{key:"draw",value:function(e,t){var r=oO(t,this.pageType),n=this.getOperations(t,e.canvas.width,e.canvas.height),o=n.ops,i=n.done;o.forEach((function(t){if(t.type===IT)return e.fillStyle="black",void e.fillRect(t.dest_px.x+r.x,t.dest_px.y+r.y,t.dest_px.width,t.dest_px.height);if(!(t.src_px.width<=0||t.src_px.height<=0))try{e.drawImage(t.surface,t.src_px.x,t.src_px.y,t.src_px.width,t.src_px.height,t.dest_px.x+r.x,t.dest_px.y+r.y,t.dest_px.width,t.dest_px.height)}catch(e){var n={src_px:t.src_px,dest_px:t.dest_px,width:t.surface.width,height:t.surface.height};throw e.sentry_extra=UT(UT({},e.sentry_extra),{},{renderImage:n}),e}})),i||0!==o.length||(e.fillStyle="#f2f2f2",e.fillRect(t.x,t.y,t.width,t.height),xE.draw(e,t.x+t.width/2,t.y+t.height/2,Tw.lastTick)),i||this.requestRedraw()}},{key:"updatePagePosition",value:function(e){this.position.x=e.x,this.position.y=e.y,this.position.width=e.width,this.position.height=e.height}},{key:"displayName",get:function(){return"Page"}},{key:"width",get:function(){return this.props.model.width}},{key:"height",get:function(){return this.props.model.height}},{key:"model",get:function(){return this.props.model}},{key:"pageType",get:function(){return this.props.pageType}},{key:"pageNumber",get:function(){return this.props.model.pageNumber}},{key:"transform",get:function(){return this.props.transform}}]),r}(Tw);function sx(e){return(sx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ux(e){return fx(e)||lx(e)||yx(e)||cx()}function cx(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function lx(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function fx(e){if(Array.isArray(e))return mx(e)}function px(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=yx(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function dx(e,t){return gx(e)||vx(e,t)||yx(e,t)||hx()}function hx(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function yx(e,t){if(e){if("string"==typeof e)return mx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?mx(e,t):void 0}}function mx(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vx(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}function gx(e){if(Array.isArray(e))return e}function _x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bx(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function wx(e,t,r){return t&&bx(e.prototype,t),r&&bx(e,r),e}function Ex(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ox(e,t)}function Ox(e,t){return(Ox=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Tx(e){var t=Sx();return function(){var r,n=Px(e);if(t){var o=Px(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return xx(this,r)}}function xx(e,t){return!t||"object"!==sx(t)&&"function"!=typeof t?kx(e):t}function kx(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sx(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Px(e){return(Px=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Cx(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ax=function(e){Ex(r,e);var t=Tx(r);function r(){var e;_x(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return Cx(kx(e=t.call.apply(t,[this].concat(o))),"borders",void 0),Cx(kx(e),"_arrivedAtTick",0),Cx(kx(e),"spreadSnapFunction",(function(t,r,n){var o;if(!e.borders)throw new Error("borders should be defined");if(n>1){var i,a=e.width/n,s=e.height/n;i=e.borders.right-e.borders.left<a?e.borders.left-(a-(e.borders.right-e.borders.left))/2:Math.max(Math.min(r,e.borders.right-a),e.borders.left),o={top:e.borders.bottom-e.borders.top<s?e.borders.top-(s-(e.borders.bottom-e.borders.top))/2:Math.max(Math.min(t,e.borders.bottom-s),e.borders.top),left:i,zoom:n}}else o={top:0,left:0,zoom:1};return o})),Cx(kx(e),"onPageDoubleTap",(function(t,n,o){var i=e.props.smartnavAsset;if(r.scroller.zoom>1||!i)return!1;var a=dx(o.getViewportCTM().inverse().transformPoint(t,n),2),s=a[0],u=a[1],c=o.getViewportCTM().matrix[0],l=ts*c/window.devicePixelRatio,f=ke(i,{width:e.props.viewportWidth/window.devicePixelRatio,height:e.props.viewportHeight/window.devicePixelRatio,minEffectiveFontSize:6,maxEffectiveFontSize:100,maxZoom:l,verticalSnapThreshold:0,padding:{top:36,right:36,bottom:36,left:36}},(function(e){var t=e.x,r=e.y,n=dx((new Jb).mScale(1/window.devicePixelRatio).multiply(o.getViewportCTM()).transformPoint(t,r),2);return{x:n[0],y:n[1]}}),o.props.model.pageNumber,{x:s,y:u});if(f){e.props.dispatch(Ah());var p=dx(o.transform.transformPoint(f.semiBox.left,f.semiBox.top),2),d=p[0],h=p[1],y=dx(o.transform.transformPoint(f.semiBox.right,f.semiBox.top),1)[0],m=e.props,v=m.xMargin,g=m.yMargin,_=m.viewportWidth/(y-d),b=Tw.lastTick;return r.scroller.scrollTo(h+g/_,d+v/_,_,b).then((function(){e.props.trackOnceMixpanel("reader3_interaction_double_tap",{smartzoom:!0,action:"ZOOM_IN"}),e.props.dispatch(jh())})),e.requestRedraw(),!0}return!1})),e}return wx(r,[{key:"componentWillUpdate",value:function(e){(!this.props.isCurrentSpread&&e.isCurrentSpread||this.props.isCurrentSpread&&0===this._arrivedAtTick)&&(this._arrivedAtTick=this.isAllPagesLoaded()&&e.isSnapped?Tw.lastTick:0),e.isCurrentSpread||(this._arrivedAtTick=0)}},{key:"componentDidMount",value:function(){this.props.isCurrentSpread&&(r.scroller.resize(r.scroller.top,r.scroller.left,r.scroller.zoom,this.width,this.height,this.width,this.height),r.scroller.setSnap(!0,this.spreadSnapFunction,!1))}},{key:"componentDidUpdate",value:function(e){if(this.props.width!==e.width||this.props.height!==e.height){var t=this.getCenter(),n=r.scroller.zoom,o=t.x*this.width,i=t.y*this.height,a=o-this.width/r.scroller.zoom/2,s=i-this.height/r.scroller.zoom/2;r.scroller.resize(s,a,n,this.width,this.height,this.width,this.height)}this.props.isCurrentSpread&&!e.isCurrentSpread&&r.scroller.setSnap(!0,this.spreadSnapFunction,!1)}},{key:"onGestureStart",value:function(e,t,n,o){return r.scroller.touchStart(e,t,o),r._zoomBeforeStart=r.scroller.zoom,r._positionBeforeStart={left:r.scroller.left,top:r.scroller.top},r.scroller.zoom>1}},{key:"onGestureChange",value:function(e,t,n,o,i,a){return(1===r.scroller.zoom&&"ZOOM_IN"===a||r.scroller.zoom>1)&&(r.scroller.touchMove(e,t,o,i),this.requestRedraw(),!0)}},{key:"onGestureEnd",value:function(e){return r.scroller.touchEnd(e,Tw.lastTick),r.scroller.isMoving&&this.requestRedraw(),r.scroller.zoom!==r._zoomBeforeStart?(this.props.trackOnceMixpanel("reader3_interaction_finger_zoom",{action:r.scroller.zoom>r._zoomBeforeStart?"ZOOM_IN":"ZOOM_OUT"}),this.props.featureTracker.usage(ny.GESTURE_PINCH_ZOOM)):r.scroller.top===r._positionBeforeStart.top&&r.scroller.left===r._positionBeforeStart.left||this.props.trackOnceMixpanel("reader3_interaction_pan"),r.scroller.zoom>1}},{key:"onDoubleTap",value:function(e,t){var n=this;this.props.dispatch(Ah());var o=Tw.lastTick;if(r.scroller.zoom>1)r.scroller.scrollTo(0,0,1,o).then((function(){n.props.trackOnceMixpanel("reader3_interaction_double_tap",{smartzoom:!1,action:"ZOOM_OUT"}),n.props.dispatch(jh())}));else{this.props.featureTracker.usage(ny.DOUBLE_TAP_ZOOM);var i=this.getViewportCTM().inverse().transformPoint(e,t),a=i[0]-r.scroller.width/4,s=i[1]-r.scroller.height/4;r.scroller.scrollTo(s,a,2,o).then((function(){n.props.trackOnceMixpanel("reader3_interaction_double_tap",{smartzoom:!1,action:"ZOOM_IN"}),n.props.dispatch(jh())}))}return this.requestRedraw(),!0}},{key:"setZoom",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=r.scroller.top+r.scroller.height/r.scroller.zoom/2,o=r.scroller.left+r.scroller.width/r.scroller.zoom/2,i=n-r.scroller.height/e/2,a=o-r.scroller.width/e/2;t?r.scroller.scrollTo(i,a,e,Tw.lastTick):r.scroller.jumpTo(i,a,e),this.requestRedraw()}},{key:"getZoom",value:function(){return r.scroller.zoom}},{key:"getCenter",value:function(){var e=r.scroller.left+r.scroller.width/r.scroller.zoom/2,t=r.scroller.top+r.scroller.height/r.scroller.zoom/2;return{x:e/r.scroller.width,y:t/r.scroller.height}}},{key:"setCenter",value:function(e){var t=e.y-this.height/r.scroller.zoom/2,n=e.x-this.width/r.scroller.zoom/2,o=r.scroller.zoom,i=r.scroller.snapFunction(t,n,o);r.scroller.top=i.top,r.scroller.left=i.left}},{key:"isAllPagesLoaded",value:function(){var e,t=px(this.props.pageModels);try{for(t.s();!(e=t.n()).done;){var r=e.value;if(!this.props.renderManager.isPageReady(r.pageNumber))return!1}}catch(e){t.e(e)}finally{t.f()}return!0}},{key:"getChildTree",value:function(){var e=this.props.pageModels,t=this.props.width,r=this.props.height,n=e.map((function(e){return e.width})).reduce((function(e,t){return e+t}),0),o=Math.max.apply(Math,ux(e.map((function(e){return e.height})))),i=tw(1===e.length&&"DOUBLE_PAGE_SPREAD"===this.props.readMode?e[0].width:n,o,t,r),a=t/i,s=r/i,u=(a-n)/2,c=(s-o)/2;this.borders={top:c*i,right:t-u*i,bottom:r-c*i,left:u*i};var l=u,f=(s-e[0].height)/2,p=(new Jb).mScale(i).mTranslate(l,f),d=Tw.createElement(ax,{arrivedAtSpreadTick:this._arrivedAtTick,dispatch:this.props.dispatch,featureTracker:this.props.featureTracker,hideLinkToolTip:this.props.hideLinkToolTip,isLinksToggledOn:this.props.isLinksToggledOn,isPaywalled:this.props.paywalledPageStatus[0],mayRenderLinks:this.props.mayRenderLinks,model:e[0],pageType:tO,showLinkToolTip:this.props.showLinkToolTip,transform:p,renderManager:this.props.renderManager,onDoubleTap:this.onPageDoubleTap});if(2===e.length){l=u+e[0].width,f=(s-e[1].height)/2;var h=(new Jb).mScale(i).mTranslate(l,f);return[d,Tw.createElement(ax,{arrivedAtSpreadTick:this._arrivedAtTick,dispatch:this.props.dispatch,featureTracker:this.props.featureTracker,hideLinkToolTip:this.props.hideLinkToolTip,isLinksToggledOn:this.props.isLinksToggledOn,isPaywalled:this.props.paywalledPageStatus[1],mayRenderLinks:this.props.mayRenderLinks,model:e[1],pageType:rO,showLinkToolTip:this.props.showLinkToolTip,transform:h,renderManager:this.props.renderManager,onDoubleTap:this.onPageDoubleTap})]}return[d]}},{key:"afterDraw",value:function(e){var t=r.scroller.isAnimating||r.scroller.isDragging||r.scroller.isMoving;r.scroller.update(Tw.lastTick),(r.scroller.isAnimating||r.scroller.isDragging||r.scroller.isMoving||t)&&this.requestRedraw(),this.props.isCurrentSpread&&!this._arrivedAtTick&&this.isAllPagesLoaded()&&this.forceUpdate(),r._lastZoom!==r.scroller.zoom&&(r._lastZoom=r.scroller.zoom,this.props.dispatch(xc(r.scroller.zoom,r.scroller.isDragging)))}},{key:"zOrder",get:function(){return this.props.isCurrentSpread?1:0}},{key:"displayName",get:function(){return"Spread"}},{key:"transform",get:function(){return r._transform.mSetMatrix(this.props.transform.matrix).mScale(r.scroller.zoom).mTranslate(-r.scroller.left,-r.scroller.top),r._transform}},{key:"inAnimation",get:function(){return!!r.scroller.isMoving||!!this.parent&&this.parent.inAnimation}},{key:"unzoomedBBox",get:function(){return this.props.transform.transformRect(Tw.RectPool.get(0,0,this.width,this.height))}}]),r}(Tw);function Rx(e){return(Rx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jx(e){return Mx(e)||Dx(e)||Nx(e)||Ix()}function Ix(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Dx(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function Mx(e){if(Array.isArray(e))return Bx(e)}function Lx(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=Nx(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function Nx(e,t){if(e){if("string"==typeof e)return Bx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Bx(e,t):void 0}}function Bx(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Fx(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ux(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Wx(e,t,r){return t&&Ux(e.prototype,t),r&&Ux(e,r),e}function zx(e,t,r){return(zx="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=Hx(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function Hx(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Xx(e)););return e}function Vx(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gx(e,t)}function Gx(e,t){return(Gx=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qx(e){var t=Yx();return function(){var r,n=Xx(e);if(t){var o=Xx(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return $x(this,r)}}function $x(e,t){return!t||"object"!==Rx(t)&&"function"!=typeof t?Kx(e):t}function Kx(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yx(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Xx(e){return(Xx=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Zx(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Cx(Ax,"_transform",new Jb),Cx(Ax,"scroller",new OE(0,0,1,1,1,1,1)),Cx(Ax,"_lastZoom",1),Cx(Ax,"_zoomBeforeStart",1),Cx(Ax,"_positionBeforeStart",{top:0,left:0});var Jx=function(e){Vx(r,e);var t=qx(r);function r(e,n){var o;return Fx(this,r),Zx(Kx(o=t.call(this,e,n)),"_lastCenterSpreadIndex",-1),Zx(Kx(o),"_isSnapped",!0),Zx(Kx(o),"_scrollerMovedLastFrame",!1),Zx(Kx(o),"_lastVisiblePages",""),Zx(Kx(o),"_lastPositionInPercent",0),Zx(Kx(o),"_spreadIndexBeforeGestureStart",0),Zx(Kx(o),"scroller",void 0),Zx(Kx(o),"snapFunction",(function(e,t,r){var n=o.clampChildrenIndex(o.getSpreadIndexAt(t+o.props.viewportWidth/2)),i=o.children[n];if(!i)return{left:t,top:0,zoom:1};var a=i.unzoomedBBox,s=a.x-o.xMargin;return Tw.RectPool.release(a),{left:s,top:0,zoom:1}})),o.scroller=new OE(0,0,1,o.props.viewportWidth,o.props.viewportHeight,o.width,o.height),o}return Wx(r,[{key:"componentDidMount",value:function(){this.scroller.resize(0,0,1,this.props.viewportWidth,this.props.viewportHeight,this.width,this.height),this.scroller.setSnap(!0,this.snapFunction,!1);var e=this.clampChildrenIndex(this.props.currentSpreadIndex),t=this.children[e].unzoomedBBox;this.scroller.jumpTo(0,t.x-this.xMargin,1),Tw.RectPool.release(t),this.props.featureTracker.opportunity(ny.DOUBLE_TAP_ZOOM),this.props.featureTracker.opportunity(ny.GESTURE_PINCH_ZOOM),this.props.canChangePages&&this.props.featureTracker.opportunity(ny.GESTURE_DRAG_PAGES)}},{key:"componentDidUpdate",value:function(e){if(this.props.viewportWidth!==e.viewportWidth||this.props.viewportHeight!==e.viewportHeight){var t=this.children[this.props.currentSpreadIndex].unzoomedBBox,r=t.x-this.xMargin;this.scroller.resize(0,r,1,this.props.viewportWidth,this.props.viewportHeight,this.width,this.height),Tw.RectPool.release(t)}}},{key:"getChildrenToTraverse",value:function(){var e=this.getSpreadIndexAt(this.scroller.left),t=this.getSpreadIndexAt(this.scroller.left+this.props.viewportWidth-1);return this.children.slice(Math.max(e,0),Math.min(t,this.children.length-1)+1)}},{key:"clampChildrenIndex",value:function(e){return Math.max(Math.min(e,this.children.length-1),0)}},{key:"onGestureStart",value:function(e,t,r,n){return this._spreadIndexBeforeGestureStart=this.props.currentSpreadIndex,this.scroller.touchStart(e,t,n),1===r.length}},{key:"onGestureChange",value:function(e,t,r,n,o,i){return("SWIPE_LEFT"===i||"SWIPE_RIGHT"===i)&&1===r.length&&(this.scroller.touchMove(e,t,n,o),this.requestRedraw(),!0)}},{key:"onGestureEnd",value:function(e){return this.scroller.touchEnd(e,Tw.lastTick),this.props.currentSpreadIndex!==this._spreadIndexBeforeGestureStart&&this.props.featureTracker.usage(ny.GESTURE_DRAG_PAGES),this.scroller.isMoving&&this.requestRedraw(),!0}},{key:"onSingleTapConfirmed",value:function(e,t,r){var n=this.getCurrentSpread(),o=n.children[0].viewportBBox;if(n.children.length>1){var i=n.children[1].viewportBBox;o.width+=i.width,o.height=Math.max(o.height,i.height),o.y=Math.min(o.y,i.y)}if(t>o.y&&t<o.y+o.height){var a=this.children.indexOf(n);if(e<o.x)return this.goToSpread(a-1),!0;if(e>o.x+o.width)return this.goToSpread(a+1),!0}return!1}},{key:"getCurrentSpreadIndex",value:function(){return this.getSpreadIndexAt(this.scroller.left+this.props.viewportWidth/2)}},{key:"getCurrentSpread",value:function(){return this.children[this.getCurrentSpreadIndex()]}},{key:"getVisiblePageNumbers",value:function(){for(var e=[],t=Math.max(this.getSpreadIndexAt(this.scroller.left),0),r=this.getSpreadIndexAt(this.scroller.left+this.props.viewportWidth-1),n=Tw.RectPool.get(0,0,this.props.viewportWidth,this.props.viewportHeight),o=t;o<=r;o++){var i,a=Lx(this.children[o].children);try{for(a.s();!(i=a.n()).done;){var s=i.value,u=s.viewportBBox;Qb(n,u)&&e.push(s.model.pageNumber),Tw.RectPool.release(u)}}catch(e){a.e(e)}finally{a.f()}}return Tw.RectPool.release(n),e}},{key:"setSnapping",value:function(e){this.scroller.setSnap(e,null,!0,Tw.lastTick),this.requestRedraw()}},{key:"jumpToPositionByPercent",value:function(e){this.getCurrentSpread().setZoom(1),this.scroller.jumpTo(0,e*(this.width-this.props.viewportWidth)/100),this.requestRedraw()}},{key:"goToSpread",value:function(e){if(this.getCurrentSpreadIndex()!==e){this.getCurrentSpread().setZoom(1);var t=this.clampChildrenIndex(e),r=this.children[t].unzoomedBBox;this.scroller.scrollTo(0,r.x-this.xMargin,1,Tw.lastTick),Tw.RectPool.release(r),this.requestRedraw()}}},{key:"jumpToSpread",value:function(e){if(this.getCurrentSpreadIndex()!==e){this.getCurrentSpread().setZoom(1);var t=this.clampChildrenIndex(e),r=this.children[t].unzoomedBBox;this.scroller.jumpTo(0,r.x-this.xMargin,1),Tw.RectPool.release(r),this.requestRedraw()}}},{key:"getSpreadIndexAt",value:function(e){var t=Math.floor((e-this.xMargin)/(this.props.viewportWidth-this.xMargin-this.xOverlap));return Math.min(Math.max(t,0),this.children.length-1)}},{key:"getChildTree",value:function(){var e=this;return this.props.documentPageSpreadList.map((function(t,r){var n=(e.props.viewportWidth-e.xMargin-e.xOverlap)*r+e.xMargin,o=new Jb;return o.mTranslate(n,e.yMargin),Tw.createElement(Ax,{dispatch:e.props.dispatch,featureTracker:e.props.featureTracker,height:e.props.viewportHeight-2*e.yMargin,hideLinkToolTip:e.props.hideLinkToolTip,isCurrentSpread:r===e.props.currentSpreadIndex,isLinksToggledOn:e.props.isLinksToggledOn,isSnapped:e._isSnapped,mayRenderLinks:e.props.mayRenderLinks,trackOnceMixpanel:e.props.trackOnceMixpanel,pageModels:t.pages,paywalledPageStatus:t.pages.map((function(t){return e.props.paywalledPageNumbers.includes(t.pageNumber)})),readMode:e.props.readMode,showLinkToolTip:e.props.showLinkToolTip,transform:o,width:e.props.viewportWidth-2*e.xMargin,renderManager:e.props.renderManager,smartnavAsset:e.props.smartnavAsset,xMargin:e.xMargin,yMargin:e.yMargin,viewportWidth:e.props.viewportWidth,viewportHeight:e.props.viewportHeight})}))}},{key:"afterDraw",value:function(e){var t=this.scroller.isDragging||this.scroller.isAnimating||this.scroller.isMoving;this.scroller.update(Tw.lastTick);var r=this.scroller.isDragging||this.scroller.isAnimating||this.scroller.isMoving;(r||t)&&(this._isSnapped?(this._isSnapped=!1,this.forceUpdate()):this.requestRedraw()),r||!this.scroller.isSnapped()||this._isSnapped?this._isSnapped||this.requestRedraw():(this._isSnapped=!0,this.forceUpdate()),!this._scrollerMovedLastFrame&&r?this.props.onAnimationStart():this._scrollerMovedLastFrame&&!r&&this.props.onAnimationEnd(),this._scrollerMovedLastFrame=r;var n=this.getCurrentSpreadIndex();n!==this.props.currentSpreadIndex&&this.props.onSpreadChange(n);var o=this.getVisiblePageNumbers(),i=o.join()!==this._lastVisiblePages;this._lastVisiblePages=o.join();var a=-1===this._lastCenterSpreadIndex,s=this._lastCenterSpreadIndex!==n&&!a,u=this.children[n].children.map((function(e){return e.model.pageNumber})),c=this.props.currentPageNumber;if(s)c=u[0];else if(!o.includes(c)){var l=o.find((function(e){return u.includes(e)}));"number"==typeof l&&(c=l)}this._lastCenterSpreadIndex=n;var f=this.scroller.getHorizontalPositionInPercent(),p=f!==this._lastPositionInPercent;this._lastPositionInPercent=f;var d=this.scroller.isDragging;if((p||s||i)&&this.props.dispatch(Mo(o,n,c,u,f,p,s,i,d)),s||a){var h=Array.from(new Set([].concat(jx(o),jx(u))));this.props.renderManager.setActivePages(h,this.props.readMode)}}},{key:"width",get:function(){var e=this.children?this.children.length:0;return this.props.viewportWidth*e-(this.xMargin+this.xOverlap)*(e-1)}},{key:"height",get:function(){return this.props.viewportHeight}},{key:"transform",get:function(){return this._transform||(this._transform=new Jb),this._transform.mReset().mTranslate(-this.scroller.left,-this.scroller.top),this._transform}},{key:"inAnimation",get:function(){return!!this.scroller.isMoving||zx(Xx(r.prototype),"inAnimation",this)}},{key:"xMargin",get:function(){var e="DOUBLE_PAGE_SPREAD"===this.props.readMode?os:ss;return ra()*e}},{key:"yMargin",get:function(){var e=0;return e="DOUBLE_PAGE_SPREAD"===this.props.readMode?this.props.allowUIToOverlayCover?is:as:this.props.allowUIToOverlayCover?us:cs,ra()*e}},{key:"xOverlap",get:function(){return 0}}]),r}(Tw);function Qx(e){return!!(window.WebGLRenderingContext&&e instanceof WebGLRenderingContext)||!(!e||!e.hasOwnProperty("drawingBufferWidth"))}function ek(e){var t={failIfMajorPerformanceCaveat:!0,stencil:!0};try{var r=e.getContext("webgl",t);if(r)return r}catch(e){}try{var n=e.getContext("experimental-webgl",t);if(n)return n}catch(e){}return null}function tk(e){return(tk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rk(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nk(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ok(e,t,r){return t&&nk(e.prototype,t),r&&nk(e,r),e}function ik(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ak(e,t)}function ak(e,t){return(ak=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function sk(e){var t=lk();return function(){var r,n=fk(e);if(t){var o=fk(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return uk(this,r)}}function uk(e,t){return!t||"object"!==tk(t)&&"function"!=typeof t?ck(e):t}function ck(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lk(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function fk(e){return(fk=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pk(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var dk=15,hk=12,yk=20,mk="'Open Sans', Helvetica, Arial, Tahoma, Sans-serif",vk=12,gk="#4c4c4c",_k="#ffffff",bk=function(e){ik(r,e);var t=sk(r);function r(e,n){var o;return rk(this,r),pk(ck(o=t.call(this,e,n)),"_renderedText",""),pk(ck(o),"_textWidth",0),pk(ck(o),"gl",void 0),pk(ck(o),"_texture",null),pk(ck(o),"_alphaCanvas",void 0),Qx(o.root.props.ctx)&&(o.gl=o.root.props.ctx,o.initializeTexture()),o}return ok(r,[{key:"componentWillUnmount",value:function(){this.gl&&this._texture&&this.gl.deleteTexture(this._texture)}},{key:"initializeTexture",value:function(){if(this.gl){var e=this.gl;this._texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this._texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)}}},{key:"drawRoundRect",value:function(e,t,r,n,o,i){e.beginPath(),e.moveTo(t+i,r),e.lineTo(t+n-i,r),e.quadraticCurveTo(t+n,r,t+n,r+i),e.lineTo(t+n,r+o-i),e.quadraticCurveTo(t+n,r+o,t+n-i,r+o),e.lineTo(t+i,r+o),e.quadraticCurveTo(t,r+o,t,r+o-i),e.lineTo(t,r+i),e.quadraticCurveTo(t,r,t+i,r),e.closePath(),e.fill(),e.stroke()}},{key:"updateOffscreenCanvases",value:function(){var e=this._alphaCanvas||document.createElement("canvas"),t=e.getContext("2d",{alpha:!1});t.font="".concat(vk,"px ").concat(mk);var r=Math.ceil(t.measureText(this.text).width+hk),n=ra(),o=r*n,i=yk*n,a=4*n,s=3.5*n;e.width=o,e.height=i,t.fillStyle=gk,t.strokeStyle=gk,t.clearRect(0,0,o,i),this.drawRoundRect(t,0,0,o,i,a),t.fillStyle=_k,t.textBaseline="alphabetic",t.textAlign="center",t.font="".concat(n*vk,"px ").concat(mk),t.fillText(this.text,o/2,i/2+s),this._textWidth=r,this._renderedText=this.text,this._alphaCanvas=e}},{key:"updateTexture",value:function(){if(this.gl&&this._alphaCanvas){var e=this.gl,t=this._alphaCanvas;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,!1),e.bindTexture(e.TEXTURE_2D,this._texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t)}}},{key:"appendWebglOps",value:function(e,t,r){this._renderedText!==this.text&&(this.updateOffscreenCanvases(),this.updateTexture());var n=ra(),o=this._textWidth*n,i=yk*n,a=dk*n,s=this.props.link.viewportBBox,u={x:s.x+s.width/2-o/2,y:s.y+s.height+(a-i/2),width:o,height:i};e.push({type:"tooltip-operation",args:[this._texture,u,{x:0,y:0,width:1,height:1}]})}},{key:"draw",value:function(e,t){this._renderedText!==this.text&&this.updateOffscreenCanvases();var r=ra(),n=this._textWidth*r,o=yk*r,i=dk*r,a=this.props.link.viewportBBox,s=Math.round(a.x+a.width/2-n/2),u=Math.round(a.y+a.height+i-o/2);this._alphaCanvas&&e.drawImage(this._alphaCanvas,s,u,n,o)}},{key:"displayName",get:function(){return"LinkTooltip"}},{key:"width",get:function(){return this.props.link?this.props.link.width:0}},{key:"height",get:function(){return this.props.link?20:0}},{key:"isVisible",get:function(){return this.props.link&&this.props.link.isVisible}},{key:"model",get:function(){return this.props.link.model}},{key:"text",get:function(){return"gotoPage"===this.model.type?"Navigate to page ".concat(this.model.gotoPageNumber):"openUrl"===this.model.type?"".concat(this.model.url):""}}]),r}(Tw);r(352),r(354),r(355),r(357);function wk(e){var t=Math.sqrt(e.x*e.x+e.y*e.y+e.z*e.z);e.x/=t,e.y/=t,e.z/=t}function Ek(e,t,r,n,o,i,a){a.x+=i*t-o*r,a.y+=n*r-i*e,a.z+=o*e-n*t}function Ok(e,t,r,n,o){e<r-1&&o.push(n[t+0+3*r]-n[t+0],n[t+1+3*r]-n[t+1],n[t+2+3*r]-n[t+2])}function Tk(e,t,r,n,o){e>0&&o.push(n[t+0-3*r]-n[t+0],n[t+1-3*r]-n[t+1],n[t+2-3*r]-n[t+2])}function xk(e,t,r,n,o){e>0&&o.push(n[t+0-3]-n[t+0],n[t+1-3]-n[t+1],n[t+2-3]-n[t+2])}function kk(e,t,r,n,o){e<r-1&&o.push(n[t+0+3]-n[t+0],n[t+1+3]-n[t+1],n[t+2+3]-n[t+2])}function Sk(e,t,r,n,o,i,a){t===n-1?(xk(e,r,0,o,i),Tk(t,r,n,o,i),kk(e,r,n,o,i)):0===e?(Tk(t,r,n,o,i),kk(e,r,n,o,i),Ok(t,r,n,o,i)):0===t?(kk(e,r,n,o,i),Ok(t,r,n,o,i),xk(e,r,0,o,i)):e===n-1?(Ok(t,r,n,o,i),xk(e,r,0,o,i),Tk(t,r,n,o,i)):(Ok(t,r,n,o,i),xk(e,r,0,o,i),Tk(t,r,n,o,i),kk(e,r,n,o,i));for(var s=i.length/3,u=0;u<s-1;u++)Ek(i[3*u+0],i[3*u+1],i[3*u+2],i[3*(u+1)+0],i[3*(u+1)+1],i[3*(u+1)+2],a)}var Pk={x:0,y:0,z:0},Ck=[];function Ak(e,t,r,n){for(var o=Pk,i=Ck,a=0;a<e;a++)for(var s=0;s<e;s++){o.x=0,o.y=0,o.z=0,i.length=0;var u=a*e*3+3*s;Sk(s,a,u,e,t,i,o),wk(o),r[u+0]=o.x,r[u+1]=o.y,r[u+2]=o.z,n[u+0]=-o.x,n[u+1]=-o.y,n[u+2]=-o.z}}function Rk(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jk(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ik(e,t,r){return t&&jk(e.prototype,t),r&&jk(e,r),e}function Dk(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mk(e,t,r){var n=Math.sin(t),o=Math.cos(t),i=e.y-r,a=Math.sqrt(e.x*e.x+i*i),s=Math.asin(e.x/a)/n,u=a*n,c=Math.sin(s),l=Math.cos(s);e.x=u*c,e.y=a+r-u*(1-l)*n,e.z=u*(1-l)*o}function Lk(e,t,r){var n=Math.sqrt(1+(1-r)*(1-r))*Math.sin(t),o=e.x/n;e.x=n*Math.sin(o),e.z=n-n*Math.cos(o)}var Nk={x:0,y:0,z:0},Bk={x:0,y:0,z:0};function Fk(e,t,r,n){Nk.x=e.x,Nk.y=e.y,Nk.z=e.z,Bk.x=e.x,Bk.y=e.y,Bk.z=e.z;var o=Nk,i=Bk;n>0&&(o.y=1-o.y),Mk(o,t,r),n>0&&(o.y=1-o.y),Lk(i,t,r);var a=Math.abs(n);e.x=a*o.x+(1-a)*i.x,e.y=a*o.y+(1-a)*i.y,e.z=a*o.z+(1-a)*i.z}function Uk(e,t){var r=Math.sin(t),n=Math.cos(t),o=e.x*n-e.z*r,i=e.x*r+e.z*n;e.x=o,e.z=i}function Wk(e){return uO(0,1,e)*Math.PI}function zk(e){return sO(.5,.082,e)*Math.PI}function Hk(e){var t=.98,r=-8.1;return(e=Math.max(Math.min(e,1),0))<t?-6.8*Math.pow(e/t,20)-1.3:-391.9*Math.pow((e-t)/(1-t),6)+r}var Vk=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(Rk(this,e),Dk(this,"size",void 0),Dk(this,"minDepth",void 0),Dk(this,"indices",void 0),Dk(this,"vertices",void 0),Dk(this,"normals",void 0),Dk(this,"perspectiveCorrections",void 0),Dk(this,"textureCoords",void 0),Dk(this,"backFacingIndices",void 0),Dk(this,"backFacingNormals",void 0),Dk(this,"backFacingTextureCoords",void 0),Dk(this,"_point",{x:0,y:0,z:0}),t<2)throw new Error("size must be at least 2");this.minDepth=r;for(var n=[],o=[],i=[],a=[],s=[],u=[],c=[],l=[],f=0;f<t;f++)for(var p=f/(t-1),d=0;d<t;d++){var h=d/(t-1),y=this._tweakDepth(0);n.push(h,p,y),o.push(0,0,1),a.push(this._getPerspectiveCorrection(y)),s.push(h,p),u.push(0,0,-1),l.push(1-h,p)}for(var m=0;m<t-1;m++)for(var v=(m+0)*t,g=(m+1)*t,_=0;_<t-1;_++){var b=v+_,w=g+_;i.push(w,b,w+1),i.push(b,b+1,w+1),c.push(w+1,b+1,w),c.push(b+1,b,w)}this.size=t,this.indices=new Uint16Array(i),this.vertices=new Float32Array(n),this.normals=new Float32Array(o),this.perspectiveCorrections=new Float32Array(a),this.textureCoords=new Float32Array(s),this.backFacingIndices=new Uint16Array(c),this.backFacingNormals=new Float32Array(u),this.backFacingTextureCoords=new Float32Array(l)}return Ik(e,[{key:"_tweakDepth",value:function(e){return.8*Math.max(e,this.minDepth)}},{key:"_getPerspectiveCorrection",value:function(e){return 1+e/.8*-.2}},{key:"_bendPoint",value:function(e,t,r,n,o,i){Fk(e,t,r,o),Uk(e,n),e.x*=i?-1:1,e.z=this._tweakDepth(e.z)}},{key:"bend",value:function(e,t){for(var r=1/e<0,n=Math.abs(e),o=Wk(n),i=zk(n),a=Hk(n),s=this._point,u=0;u<this.size;u++)for(var c=0;c<this.size;c++){s.x=c/(this.size-1),s.y=u/(this.size-1),s.z=0,this._bendPoint(s,i,a,o,t,r);var l=u*this.size*3+3*c;this.vertices[l+0]=s.x,this.vertices[l+1]=s.y,this.vertices[l+2]=s.z,this.perspectiveCorrections[u*this.size+c]=this._getPerspectiveCorrection(s.z)}Ak(this.size,this.vertices,this.normals,this.backFacingNormals)}},{key:"calculateProgress",value:function(e,t,r,n,o){var i=e<t;if(i){if(r<=e)return-0;if(r>=t)return-1}else{if(r>=e)return 0;if(r<=t)return 1}for(var a=this._point,s=i?-.5:.5,u=0;u<16;u++){var c=Math.abs(s),l=Wk(c),f=zk(c),p=Hk(c);a.x=1,a.y=(o+1)/2,a.z=0,this._bendPoint(a,f,p,l,o,i);var d=a.x/this._getPerspectiveCorrection(a.z),h=n.x+n.width*d;if(Math.abs(h-r)<1)break;s+=Math.sign(h-r)/Math.pow(2,u+2)}return Math.max(Math.min(s,1),-1)}}]),e}();function Gk(e,t){var r=e[0].viewportBBox,n=t[0].viewportBBox;return{start:{bending:e[0],flat:null,bbox:r,edge:r.x+r.width},end:{bending:null,flat:t[0],bbox:n,edge:n.x}}}function qk(e,t){var r=e[0].viewportBBox,n=t[0].viewportBBox;return{start:{bending:null,flat:e[0],bbox:r,edge:r.x},end:{bending:t[0],flat:null,bbox:n,edge:n.x+n.width}}}function $k(e,t){var r=e[e.length-1].viewportBBox,n=t[0].viewportBBox;return{start:{bending:e[e.length-1],flat:e.length>1?e[0]:null,bbox:r,edge:r.x+r.width},end:{bending:t[0],flat:t.length>1?t[t.length-1]:null,bbox:Object.assign({},n,{x:n.x+n.width}),edge:n.x}}}function Kk(e,t){var r=e[0].viewportBBox,n=t[t.length-1].viewportBBox;return{start:{bending:e[0],flat:e.length>1?e[e.length-1]:null,bbox:Object.assign({},r,{x:r.x+r.width}),edge:r.x},end:{bending:t[t.length-1],flat:t.length>1?t[0]:null,bbox:n,edge:n.x+n.width}}}function Yk(e,t,r,n){return"SINGLE_PAGE_SPREAD"===r?n?qk(e,t):Gk(e,t):n?Kk(e,t):$k(e,t)}function Xk(e){return(Xk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zk(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=eS(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function Jk(e){return rS(e)||tS(e)||eS(e)||Qk()}function Qk(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function eS(e,t){if(e){if("string"==typeof e)return nS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?nS(e,t):void 0}}function tS(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function rS(e){if(Array.isArray(e))return nS(e)}function nS(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function oS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function aS(e,t,r){return t&&iS(e.prototype,t),r&&iS(e,r),e}function sS(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&uS(e,t)}function uS(e,t){return(uS=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function cS(e){var t=pS();return function(){var r,n=dS(e);if(t){var o=dS(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return lS(this,r)}}function lS(e,t){return!t||"object"!==Xk(t)&&"function"!=typeof t?fS(e):t}function fS(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pS(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function dS(e){return(dS=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hS(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var yS=.36,mS=0,vS=1e-4,gS=.001;function _S(e){return"SINGLE_PAGE_SPREAD"===e?200:400}function bS(e){var t=Math.abs(e);return t<.1?sO(0,1,10*t):t>.9?sO(0,1,10*(1-t)):1}var wS=function(e){sS(r,e);var t=cS(r);function r(e,n){var o;oS(this,r),hS(fS(o=t.call(this,e,n)),"animation",void 0),hS(fS(o),"_targetSpreadIndex",void 0),hS(fS(o),"_gesture",{startX:0,startY:0,endX:0,endY:0,velocity:0,timeStamp:0}),hS(fS(o),"_bendingMesh",new Vk(25,gS)),hS(fS(o),"_flatMesh",new Vk(2,mS)),hS(fS(o),"_isSnapped",!0),hS(fS(o),"_wasAnimatingLastFrame",!1),hS(fS(o),"_lastSpreadIndex",-1),hS(fS(o),"_lastPositionInPercent",0),hS(fS(o),"_lastVisiblePages",""),hS(fS(o),"_pendingTargetSpreadIndex",NaN),hS(fS(o),"_lightRatioEasing",bS),hS(fS(o),"_progressEasing",(function(e){return o.animation.value(e)})),hS(fS(o),"_justStartedAnimation",!1),o._targetSpreadIndex=o.props.currentSpreadIndex;var i="material"===e.experiment?{easing:jE.MATERIAL}:"cubic"===e.experiment?{easing:jE.EASE_IN_OUT_CUBIC}:void 0;return o.animation=new jE(Number.MAX_VALUE,_S(o.props.readMode),i),o}return aS(r,[{key:"componentDidMount",value:function(){this.props.featureTracker.opportunity(ny.DOUBLE_TAP_ZOOM),this.props.featureTracker.opportunity(ny.GESTURE_PINCH_ZOOM),this.props.canChangePages&&this.props.featureTracker.opportunity(ny.GESTURE_DRAG_PAGES)}},{key:"onGestureStart",value:function(e,t,r,n){return!this.props.disableGestures&&(this.animation.isRunning(Tw.lastTick)&&this.jumpToSpread(this._targetSpreadIndex),this._gesture={startX:e,startY:t,endX:e,endY:t,velocity:0,timeStamp:n},!0)}},{key:"onGestureChange",value:function(e,t,r,n,o,i){if(this.props.disableGestures)return!1;if(("SWIPE_LEFT"===i||"SWIPE_RIGHT"===i)&&1===r.length){var a=-(e-this._gesture.endX)/Math.max(1,n-this._gesture.timeStamp)*.6+.4*this._gesture.velocity;this._gesture.endX=e,this._gesture.endY=t,this._gesture.timeStamp=n,this._gesture.velocity=a;var s=this.getCurrentSpreadIndex(),u=this._getValidSpreadIndex(s+("SWIPE_LEFT"===i?1:-1));return s!==u&&this._tweakAnimation({duration:Number.MAX_VALUE,targetSpreadIndex:u}),!0}return!1}},{key:"onGestureEnd",value:function(e){if(this.props.disableGestures)return!1;if(this._isDraggingManually()){var t=this._getPageSetupForFlip(this.getCurrentSpreadIndex(),this._targetSpreadIndex),r=this._getProgressBasedOnFingerPosition(t.start.edge,t.end.edge),n=this._targetSpreadIndex>this.getCurrentSpreadIndex()?this._gesture.velocity>0:this._gesture.velocity<0,o=Math.abs(this._gesture.velocity),i=n&&(r>.6||o>yS),a=_S(this.props.readMode)*(.95-Math.atan(o)/Math.PI);return this._tweakAnimation({duration:a,startTime:Tw.lastTick-a*(i?r:1-r),reverse:!i}),i&&this.props.featureTracker.usage(ny.GESTURE_DRAG_PAGES),!0}return!1}},{key:"onSingleTapConfirmed",value:function(e,t,r){var n=this.getCurrentSpread(),o=n.children[0].viewportBBox;if(n.children.length>1){var i=n.children[1].viewportBBox;o.width+=i.width,o.height=Math.max(o.height,i.height),o.y=Math.min(o.y,i.y)}if(t>o.y&&t<o.y+o.height){var a=this.children.indexOf(n);if(e<o.x)return this.props.disableGestures?this.jumpToSpread(Math.max(a-1,0)):this.goToSpread(Math.max(a-1,0)),!0;if(e>o.x+o.width)return this.props.disableGestures?this.jumpToSpread(Math.min(a+1,this.children.length-1)):this.goToSpread(Math.min(a+1,this.children.length-1)),!0}return!1}},{key:"getCurrentSpreadIndex",value:function(){return this.props.currentSpreadIndex}},{key:"getCurrentSpread",value:function(){return this.children[this.getCurrentSpreadIndex()]}},{key:"getVisiblePageNumbers",value:function(){var e=[];if(this.getCurrentSpreadIndex()!==this._targetSpreadIndex){var t=Math.min(this.getCurrentSpreadIndex(),this._targetSpreadIndex),r=Math.max(this.getCurrentSpreadIndex(),this._targetSpreadIndex);e.push.apply(e,Jk(this.children[t].children.map((function(e){return e.model.pageNumber})))),e.push.apply(e,Jk(this.children[r].children.map((function(e){return e.model.pageNumber}))))}else{var n,o=Tw.RectPool.get(0,0,this.props.viewportWidth,this.props.viewportHeight),i=Zk(this.getCurrentSpread().children);try{for(i.s();!(n=i.n()).done;){var a=n.value,s=a.viewportBBox;Qb(o,s)&&e.push(a.model.pageNumber),Tw.RectPool.release(s)}}catch(e){i.e(e)}finally{i.f()}Tw.RectPool.release(o)}return e}},{key:"setSnapping",value:function(e){}},{key:"jumpToPositionByPercent",value:function(e){this.getCurrentSpread().setZoom(1),this.jumpToSpread(Math.round(e/100*(this.children.length-1)))}},{key:"goToSpread",value:function(e){var t=Tw.lastTick;this.animation.isRunning(t)?this._pendingTargetSpreadIndex=e:this._animateToSpread(e,t,_S(this.props.readMode))}},{key:"jumpToSpread",value:function(e){this._animateToSpread(e,Tw.lastTick,0)}},{key:"_getValidSpreadIndex",value:function(e){return Math.max(0,Math.min(this.children.length-1,e))}},{key:"_animateToSpread",value:function(e,t,r){this._targetSpreadIndex=this._getValidSpreadIndex(e),this.getCurrentSpreadIndex()!==this._targetSpreadIndex&&(this.getCurrentSpread().setZoom(1),this._tweakAnimation({startTime:t,duration:r}))}},{key:"_tweakAnimation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.animation.duration="number"==typeof e.duration?e.duration:_S(this.props.readMode),this._targetSpreadIndex=this._getValidSpreadIndex("number"==typeof e.targetSpreadIndex?e.targetSpreadIndex:this._targetSpreadIndex),this.animation.reset(e.startTime||0),this.animation.options.reverse=!!e.reverse,this._justStartedAnimation=!0,this.requestRedraw()}},{key:"getChildrenToTraverse",value:function(){var e=this.getCurrentSpreadIndex();return this.children.slice(e,e+1)}},{key:"getChildTree",value:function(){var e=this,t=this.xMargin,r=this.yMargin,n=new Jb;return n.mTranslate(t,r),this.props.documentPageSpreadList.map((function(o,i){return Tw.createElement(Ax,{dispatch:e.props.dispatch,featureTracker:e.props.featureTracker,height:e.props.viewportHeight-2*r,hideLinkToolTip:e.props.hideLinkToolTip,isCurrentSpread:i===e.props.currentSpreadIndex,isLinksToggledOn:e.props.isLinksToggledOn,isSnapped:e._isSnapped,mayRenderLinks:e.props.mayRenderLinks&&e._isSnapped,trackOnceMixpanel:e.props.trackOnceMixpanel,pageModels:o.pages,paywalledPageStatus:o.pages.map((function(t){return e.props.paywalledPageNumbers.includes(t.pageNumber)})),readMode:e.props.readMode,renderManager:e.props.renderManager,showLinkToolTip:e.props.showLinkToolTip,transform:n,width:e.props.viewportWidth-2*t,smartnavAsset:e.props.smartnavAsset,xMargin:e.xMargin,yMargin:e.yMargin,viewportWidth:e.props.viewportWidth,viewportHeight:e.props.viewportHeight})}))}},{key:"beforeDraw",value:function(e){!this._wasAnimatingLastFrame&&this.animation.isRunning(Tw.lastTick)&&this.props.onAnimationStart(),(!this.animation.isRunning(Tw.lastTick)&&(this._wasAnimatingLastFrame||this._justStartedAnimation)||0===this.animation.duration)&&(this.animation.options.reverse&&(this._targetSpreadIndex=this.getCurrentSpreadIndex()),this._targetSpreadIndex!==this.getCurrentSpreadIndex()&&this.props.onSpreadChange(this._targetSpreadIndex),isNaN(this._pendingTargetSpreadIndex)||(this.goToSpread(this._pendingTargetSpreadIndex),this._pendingTargetSpreadIndex=NaN))}},{key:"appendWebglOps",value:function(e,t,r){this.animation.isRunning(Tw.lastTick)?this._appendWebglOpsForFlipping(e,this.getCurrentSpreadIndex(),this._targetSpreadIndex,r):this._appendWebglOpsForPages(e,r),this._justStartedAnimation=!1}},{key:"afterDraw",value:function(e){this._wasAnimatingLastFrame&&!this.animation.isRunning(Tw.lastTick)&&this.props.onAnimationEnd();var t=this._isDraggingManually();this._wasAnimatingLastFrame=this.animation.isRunning(Tw.lastTick),this._wasAnimatingLastFrame&&!t&&this.requestRedraw();var r=this.getVisiblePageNumbers(),n=this.getCurrentSpreadIndex(),o=this.getCurrentSpread().children.map((function(e){return e.model.pageNumber})),i=n/Math.max(this.children.length-1,1)*100,a=this._lastPositionInPercent!==i,s=-1===this._lastSpreadIndex,u=this._lastSpreadIndex!==n&&!s,c=r.join()!==this._lastVisiblePages,l=this.props.currentPageNumber;if(u)l=o[0];else if(!r.includes(l)){var f=r.find((function(e){return o.includes(e)}));"number"==typeof f&&(l=f)}if(this._lastPositionInPercent=i,this._lastSpreadIndex=n,this._lastVisiblePages=r.join(),(a||u||c)&&this.props.dispatch(Mo(r,n,l,o,i,a,u,c,t)),this._wasAnimatingLastFrame===this._isSnapped&&(this._isSnapped=!this._wasAnimatingLastFrame,this._isSnapped||this.props.hideLinkToolTip(),this.forceUpdate()),u||s){var p=Array.from(new Set([].concat(Jk(r),Jk(o))));this.props.renderManager.setActivePages(p,this.props.readMode)}}},{key:"_appendWebglOpsForFlipping",value:function(e,t,r,n){var o=this,i=this._getPageSetupForFlip(t,r),a=r<t,s=this._getConicContribution(),u=this._getProgressBasedOnFingerPosition(i.start.edge,i.end.edge),c=oO(this._transformBBox(i.start.bbox,i.end.bbox,u),rO),l=this._bendingMesh.calculateProgress(i.start.edge,i.end.edge,this._getFingerPosition(i.start.edge,i.end.edge),c,s);this._bendingMesh.bend(l,s);var f=this._lightRatioEasing(u),p=i.start.bending?this._loadPreviewTextureInfos(i.start.bending,c,n).ops:[],d=i.end.bending?this._loadPreviewTextureInfos(i.end.bending,c,n).ops:[];if(p.some((function(e){return e&&(e.type===AT||e.type===RT)}))||(p=[null]),d.some((function(e){return e&&(e.type===AT||e.type===RT)}))||(d=[null]),p.forEach((function(t){t&&t.type===IT?e.push({type:"fill-bending-page-operation",args:[o._bendingMesh,t,c,f,a,!!i.start.bending,Tw.lastTick]}):e.push({type:"bending-page-operation",args:[o._bendingMesh,t,c,f,a,!!i.start.bending,Tw.lastTick]})})),d.forEach((function(t){t&&t.type===IT?e.push({type:"fill-bending-page-operation",args:[o._bendingMesh,t,c,f,!a,!!i.end.bending,Tw.lastTick]}):e.push({type:"bending-page-operation",args:[o._bendingMesh,t,c,f,!a,!!i.end.bending,Tw.lastTick]})})),e.push({type:"depth-map-operation",args:[this._bendingMesh,c]}),i.start.flat&&i.end.bending){var h=this._transformBBox(i.start.flat.viewportBBox,i.end.bending.viewportBBox,u);this._appendWebglOpsForPage(e,i.start.flat,h,n),e.push({type:"shadow-operation",args:[h,vS]})}if(i.start.bending&&i.end.flat){var y=this._transformBBox(i.start.bending.viewportBBox,i.end.flat.viewportBBox,u);this._appendWebglOpsForPage(e,i.end.flat,y,n),e.push({type:"shadow-operation",args:[y,vS]})}}},{key:"_transformBBox",value:function(e,t,r){var n=Math.abs(r);return{x:aO(e.x,t.x,n),y:aO(e.y,t.y,n),width:aO(e.width,t.width,n),height:aO(e.height,t.height,n)}}},{key:"_isDraggingManually",value:function(){return!(this.animation.duration!==Number.MAX_VALUE||!this._gesture)}},{key:"_getConicContribution",value:function(){if(this.animation.duration!==_S(this.props.readMode)&&this._gesture){var e=(this._gesture.endY-this._gesture.startY)/(this.height-this._gesture.startY);return Math.min(1,Math.max(-1,e))}return-.5}},{key:"_getFingerPosition",value:function(e,t){return this._isDraggingManually()?this._gesture.endX-this._gesture.startX+e:e+(t-e)*this._progressEasing(Tw.lastTick)}},{key:"_getProgressBasedOnFingerPosition",value:function(e,t){var r=this._getFingerPosition(e,t);return Math.min(1,Math.max(0,(r-e)/(t-e)))}},{key:"_getPageSetupForFlip",value:function(e,t){var r=t<e;return Yk(this.children[e].children,this.children[t].children,this.props.readMode,r)}},{key:"_appendWebglOpsForPages",value:function(e,t){var r=this;this.getCurrentSpread().children.forEach((function(n){r._appendWebglOpsForPage(e,n,n.viewportBBox,t)}))}},{key:"_appendWebglOpsForPage",value:function(e,t,r,n){var o=this;if(this.overlaps(r)){var i=oO(r,t.pageType),a=this._lightRatioEasing(0),s=this._loadTextureInfos(t,r,n),u=s.done,c=s.ops;c.forEach((function(t){t.type===IT?e.push({type:"fill-bending-page-operation",args:[o._flatMesh,t,i,a,!1,!0,Tw.lastTick]}):e.push({type:"bending-page-operation",args:[o._flatMesh,t,i,a,!1,!0,Tw.lastTick]})})),u||0!==c.length||e.push({type:"bending-page-operation",args:[this._flatMesh,null,i,a,!1,!0,Tw.lastTick]}),u||this.requestRedraw()}}},{key:"_loadPreviewTextureInfos",value:function(e,t,r){var n=this._loadTextureInfos(e,t,r);return n.ops=n.ops.filter((function(e){return e.type!==AT})),n}},{key:"_loadTextureInfos",value:function(e,t,r){return e.getOperations(t,r.width,r.height)}},{key:"width",get:function(){return this.props.viewportWidth}},{key:"height",get:function(){return this.props.viewportHeight}},{key:"xMargin",get:function(){var e=os;return ra()*e}},{key:"yMargin",get:function(){var e=this.props.allowUIToOverlayCover?is:as;return ra()*e}}]),r}(Tw);function ES(e){return(ES="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function OS(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=TS(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function TS(e,t){if(e){if("string"==typeof e)return xS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?xS(e,t):void 0}}function xS(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function PS(e,t,r){return t&&SS(e.prototype,t),r&&SS(e,r),e}function CS(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&AS(e,t)}function AS(e,t){return(AS=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function RS(e){var t=DS();return function(){var r,n=MS(e);if(t){var o=MS(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return jS(this,r)}}function jS(e,t){return!t||"object"!==ES(t)&&"function"!=typeof t?IS(e):t}function IS(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DS(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function MS(e){return(MS=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function LS(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var NS=function(e){CS(r,e);var t=RS(r);function r(e,n){var o;return kS(this,r),LS(IS(o=t.call(this,e,n)),"_currentSpreadIndex",void 0),LS(IS(o),"spreadAnimator",void 0),LS(IS(o),"_isLinkToggledOn",!1),LS(IS(o),"_showTooltip",null),LS(IS(o),"_frameCountAtAnimationStart",-1),LS(IS(o),"_interactionStartTime",-1),LS(IS(o),"_inAnimation",!1),LS(IS(o),"onSpreadChange",(function(e){o._currentSpreadIndex=e,o._isLinkToggledOn=!1,o.forceUpdate()})),LS(IS(o),"onAnimationStart",(function(){o._frameCountAtAnimationStart=o.frameCount,o._interactionStartTime=Tw.lastTick,o._inAnimation=!0})),LS(IS(o),"onAnimationEnd",(function(){if(o._inAnimation=!1,o._frameCountAtAnimationStart>=0&&o._interactionStartTime>=0){var e=Tw.lastTick-o._interactionStartTime,t=e/(1e3/60)-(o.frameCount-o._frameCountAtAnimationStart);t>0&&o.props.metrics.onFrameDrop({droppedFrames:t,duration:e,webgl:o.props.usePageFlip})}})),LS(IS(o),"showLinkToolTip",(function(e){o._showTooltip!==e&&(o._showTooltip=e,o.forceUpdate())})),LS(IS(o),"hideLinkToolTip",(function(){o._showTooltip&&(o._showTooltip=null,o.forceUpdate())})),o.__store__=e.store,o._currentSpreadIndex=Wo(e.readMode,e.currentPageNumber),o}return PS(r,[{key:"componentDidMount",value:function(){var e=this;this.spreadAnimator=this.children[0];var t={getVisibleComponents:function(){return e.getVisibleDescendants()},getRenderedViews:function(t){return e.getRenderedViews(t)},getReadMode:function(){return e.props.readMode},getPageComponent:function(t){var r,n=Wo(e.props.readMode,t),o=null===(r=e.spreadAnimator)||void 0===r?void 0:r.children[n];return o.children[0].pageNumber===t?o.children[0]:o.children[1]},goToPage:function(e){t.goToSpread(Wo(t.getReadMode(),e))},goToSpread:function(t){if(e.props.findIsVisible&&e.spreadAnimator)e.spreadAnimator.jumpToSpread(t);else{var r=e.owner;e.props.usePageFlip||e.props.dispatch(Fw()),setTimeout((function(){r.canvasObjectTree&&r.canvasObjectTree.spreadAnimator.goToSpread(t)}),0)}},jumpToPage:function(e){t.jumpToSpread(Wo(t.getReadMode(),e))},jumpToSpread:function(t){var r;return null===(r=e.spreadAnimator)||void 0===r?void 0:r.jumpToSpread(t)},setSnapping:function(t){var r;return null===(r=e.spreadAnimator)||void 0===r?void 0:r.setSnapping(t)},jumpToPositionByPercent:function(t){var r;return null===(r=e.spreadAnimator)||void 0===r?void 0:r.jumpToPositionByPercent(t)},zoomCurrentView:function(t){var r,n;return null===(r=e.spreadAnimator)||void 0===r||null===(n=r.getCurrentSpread())||void 0===n?void 0:n.setZoom(t,!1)},getPosition:function(){return e.getPosition()},setPosition:function(t){return e.setPosition(t)}};this.props.dispatch(kw(t))}},{key:"componentDidUpdate",value:function(e){!e.browserTabIsVisible&&this.props.browserTabIsVisible&&(this._interactionStartTime=-1,this._frameCountAtAnimationStart=-1)}},{key:"componentWillUnmount",value:function(){this.props.dispatch(Pw())}},{key:"getChildTree",value:function(){var e={allowUIToOverlayCover:this.props.allowUIToOverlayCover,canChangePages:this.props.documentPageSpreadList.length>1,currentSpreadIndex:this._currentSpreadIndex,currentPageNumber:this.props.currentPageNumber,disableGestures:this.props.findIsVisible,dispatch:this.props.dispatch,documentPageSpreadList:this.props.documentPageSpreadList,featureTracker:this.props.featureTracker,hideLinkToolTip:this.hideLinkToolTip,isLinksToggledOn:this._isLinkToggledOn,mayRenderLinks:this.props.mayRenderLinks,trackOnceMixpanel:this.props.trackOnceMixpanel,paywalledPageNumbers:this.props.paywalledPageNumbers,onAnimationEnd:this.onAnimationEnd,onAnimationStart:this.onAnimationStart,onSpreadChange:this.onSpreadChange,readMode:this.props.readMode,showLinkToolTip:this.showLinkToolTip,viewportHeight:this.props.height,viewportWidth:this.props.width,renderManager:this.props.renderManager,smartnavAsset:this.props.smartnavAsset,experiment:this.props.experiment},t=this.props.usePageFlip?Tw.createElement(wS,e):Tw.createElement(Jx,e);return[t,Tw.createElement(bk,{link:this._showTooltip})]}},{key:"onSingleTapConfirmed",value:function(e,t,r){return this._isLinkToggledOn=!this._isLinkToggledOn,this.forceUpdate(),!0}},{key:"getPosition",value:function(){var e,t,r=this,n=null===(e=this.spreadAnimator)||void 0===e?void 0:e.getCurrentSpread(),o=n.children,i=this.props.activeVideoLink;if(o.length<2?t=o[0]:i&&(t=o.find((function(e){return e.model.pageNumber===i.page.pageNumber}))),!t){var a=Tw.RectPool.get(0,0,this.width,this.height),s=o[0].viewportBBox,u=o[1].viewportBBox,c=Qb(a,s)-Qb(a,u);t=c>0?o[0]:c<0?o[1]:o.find((function(e){return e.model.pageNumber===r.props.currentPageNumber})),Tw.RectPool.release(a)}if(!t)return null;var l=n.getCenter(),f=t.transform.inverse().transformPoint(l.x*n.width,l.y*n.height);return{x:f[0]/t.width,y:f[1]/t.height,zoom:n.getZoom(),pageNumber:t.pageNumber}}},{key:"setPosition",value:function(e){var t,r=Wo(this.props.readMode,e.pageNumber),n=null===(t=this.spreadAnimator)||void 0===t?void 0:t.children[r],o=n.children.find((function(t){return t.pageNumber===e.pageNumber}));if(Ax.scroller.zoom=e.zoom,o){var i,a=o.transform.transformPoint(e.x*o.width,e.y*o.height);n.setCenter({x:a[0],y:a[1]}),null===(i=this.spreadAnimator)||void 0===i||i.jumpToSpread(r),this.requestRedraw()}}},{key:"getRenderedViews",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t={},r={x:0,y:0,width:this.width,height:this.height};return Tw.traverse(this,(function(n,o,i,a){if(!Qb(r,o))return!1;if(e&&!n.isVisible)return!0;t.hasOwnProperty(n.displayName)||(t[n.displayName]=[]);var s,u={},c=OS(Object.keys(n).concat(Object.getOwnPropertyNames(Object.getPrototypeOf(n))));try{for(c.s();!(s=c.n()).done;){var l=s.value,f=n[l];"number"!=typeof f&&"string"!=typeof f&&"boolean"!=typeof f||(u[l]=f)}}catch(e){c.e(e)}finally{c.f()}var p=n.model||{};return t[n.displayName].push(Object.assign(n.viewportBBox,{model:p,view:u})),!0})),JSON.parse(JSON.stringify(t))}},{key:"frameCount",get:function(){return this.owner.frameCount}},{key:"inAnimation",get:function(){return this._inAnimation}}]),r}(Tw),BS=Tw.connect(NS,(function(e){return{allowUIToOverlayCover:Ds(e)||e.features.allowUIToOverlayCover,browserTabIsVisible:!e.visibility.isHidden,activeVideoLink:e.inlineVideo.activeVideoLink,currentPageNumber:e.reader.currentPageNumber,currentSpreadIndex:e.reader.currentSpreadIndex,documentPageSpreadList:ks(e),findIsVisible:vi(e),featureTracker:e.featureTracker,mayRenderLinks:Xw(e),paywalledPageNumbers:Xa(e),smartnavAsset:e.smartnav.pages,experiment:e.experiment.identifier}})),FS=r(102),US=r.n(FS);function WS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function HS(e,t,r){return t&&zS(e.prototype,t),r&&zS(e,r),e}function VS(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var GS={YOUTUBE_ERROR_INVALID_PARAMETER:2,YOUTUBE_ERROR_HTML5_PLAYER:5,YOUTUBE_ERROR_NOT_FOUND:100,YOUTUBE_ERROR_FORBIDDEN:101,YOUTUBE_ERROR_FORBIDDEN_IN_DISGUISE:150};function qS(){return new Promise((function(e){var t=document.createElement("script");t.id="yt-api",t.src="https://www.youtube.com/iframe_api";var r=document.getElementsByTagName("script")[0];r.parentNode&&(r.parentNode.insertBefore(t,r),window.onYouTubeIframeAPIReady=e)}))}var $S=function(){function e(t,r){var n=this;WS(this,e),VS(this,"_player",void 0),VS(this,"id",void 0),VS(this,"_isFullscreen",!1),VS(this,"_maxReloadRetries",3),VS(this,"fullscreenCallback",void 0),VS(this,"playStatusCallback",void 0),VS(this,"_onFullscreenChange",(function(){var e=document.getElementById(n.id);n._isFullscreen=!!e&&e.contains(au()),n.fullscreenCallback&&n.fullscreenCallback()})),VS(this,"_onStateChange",(function(){n.playStatusCallback&&n.playStatusCallback()})),this._player=r,this.id=t,nu(this._onFullscreenChange)}return HS(e,[{key:"play",value:function(){return this._player.playVideo(),Promise.resolve()}},{key:"pause",value:function(){this._player.pauseVideo()}},{key:"destroy",value:function(){ou(this._onFullscreenChange),this.fullscreenCallback=void 0,this.playStatusCallback=void 0,this._player.destroy()}},{key:"isPlaying",value:function(){return this._player.getPlayerState()===window.YT.PlayerState.PLAYING}},{key:"isFullscreen",value:function(){return this._isFullscreen}},{key:"isReady",value:function(){return this._player.getDuration()>0}}]),e}();function KS(e,t,r,n){return new Promise((function(o){var i=new $S(t,new window.YT.Player(t,{videoId:e,playerVars:{showinfo:0,autoplay:0,rel:0},events:{onReady:function(){r&&i._player.mute(),o(i)},onError:function(t){t.data===GS.YOUTUBE_ERROR_HTML5_PLAYER&&i._maxReloadRetries>0?(i._maxReloadRetries--,i._player.loadVideoById(e)):n()},onStateChange:function(){return i._onStateChange()}}}))}))}var YS=r(269);function XS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function JS(e,t,r){return t&&ZS(e.prototype,t),r&&ZS(e,r),e}function QS(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var eP=function(){function e(t,r){var n=this;XS(this,e),QS(this,"_player",void 0),QS(this,"id",void 0),QS(this,"_isPlaying",!1),QS(this,"_isFullscreen",!1),QS(this,"fullscreenCallback",void 0),QS(this,"playStatusCallback",void 0),QS(this,"_onPlay",(function(){n._isPlaying=!0,n._invokePlayStatusCallback()})),QS(this,"_onPause",(function(){n._isPlaying=!1,n._invokePlayStatusCallback()})),QS(this,"_onEnded",(function(){n._isPlaying=!1,n._invokePlayStatusCallback()})),QS(this,"_onFullscreenChange",(function(){var e=document.getElementById(n.id);n._isFullscreen=!!e&&e.contains(au()),n.fullscreenCallback&&n.fullscreenCallback()})),this._player=r,this.id=t,this._player.on("play",this._onPlay),this._player.on("pause",this._onPause),this._player.on("ended",this._onEnded),nu(this._onFullscreenChange)}return JS(e,[{key:"play",value:function(){return this._player.play()}},{key:"pause",value:function(){this._player.pause()}},{key:"destroy",value:function(){ou(this._onFullscreenChange),this.fullscreenCallback=void 0,this.playStatusCallback=void 0,this._player.unload()}},{key:"isPlaying",value:function(){return this._isPlaying}},{key:"isFullscreen",value:function(){return this._isFullscreen}},{key:"isReady",value:function(){return!0}},{key:"_invokePlayStatusCallback",value:function(){this.playStatusCallback&&this.playStatusCallback()}}]),e}();function tP(e,t,r){var n=new YS.a(t,{id:e,muted:r,autoplay:!1,autopause:!1,title:!1,portrait:!1,byline:!1,transparent:!1});return n.on("error",(function(t){n.loadVideo(e)})),n.ready().then((function(){return Promise.resolve(new eP(t,n))}))}var rP='\n    <svg width="60%" height="60%" viewBox="0 0 36 36">\n        <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n            <g fill="#FFFFFF">\n                <path d="M16.4456672,18.0003762 L10.3219784,24.1243529 C9.89267388,24.5536776 9.89267388,25.249654 10.3219784,25.6787588 C10.5365207,25.8933112 10.8178877,26.0008073 11.0990349,26.0008073 C11.3804019,26.0008073 11.6617688,25.8933112 11.8763112,25.6787588 L18,19.5547821 L24.1236888,25.6787588 C24.3382312,25.8933112 24.6195981,26.0008073 24.9009651,26.0008073 C25.1821123,26.0008073 25.4634793,25.8933112 25.6780216,25.6787588 C26.1073261,25.249654 26.1073261,24.5536776 25.6780216,24.1243529 L19.5543328,18.0003762 L25.6780216,11.8763994 C26.1073261,11.4472946 26.1073261,10.7510983 25.6780216,10.3219935 C25.2487172,9.89266883 24.5529933,9.89266883 24.1236888,10.3219935 L18,16.4459703 L11.8763112,10.3219935 C11.4470067,9.89266883 10.7512828,9.89266883 10.3219784,10.3219935 C9.89267388,10.7510983 9.89267388,11.4472946 10.3219784,11.8763994 L16.4456672,18.0003762 Z"></path>\n            </g>\n        </g>\n    </svg>\n';function nP(){return(nP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function oP(e,t){if(null==e)return{};var r,n,o=iP(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function iP(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}var aP=function(e){var t=e.color,r=e.size,n=oP(e,["color","size"]);return l.a.createElement("svg",nP({xmlns:"http://www.w3.org/2000/svg",width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},n),l.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),l.a.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"}))};aP.defaultProps={color:"currentColor",size:"24"};var sP=aP;function uP(){return(uP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function cP(e,t){if(null==e)return{};var r,n,o=lP(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function lP(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}var fP=function(e){var t=e.color,r=e.size,n=cP(e,["color","size"]);return l.a.createElement("svg",uP({xmlns:"http://www.w3.org/2000/svg",width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},n),l.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),l.a.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),l.a.createElement("line",{x1:"12",y1:"16",x2:"12",y2:"16"}))};fP.defaultProps={color:"currentColor",size:"24"};var pP=fP;function dP(e){return(dP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function mP(e,t,r){return t&&yP(e.prototype,t),r&&yP(e,r),e}function vP(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gP(e,t)}function gP(e,t){return(gP=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _P(e){var t=EP();return function(){var r,n=OP(e);if(t){var o=OP(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return bP(this,r)}}function bP(e,t){return!t||"object"!==dP(t)&&"function"!=typeof t?wP(e):t}function wP(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EP(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function OP(e){return(OP=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var TP={ERROR:"error",WARNING:"warning",INFO:"info"},xP=function(e){vP(r,e);var t=_P(r);function r(){return hP(this,r),t.apply(this,arguments)}return mP(r,[{key:"_getIcon",value:function(){switch(this.props.boxType){case TP.ERROR:return c.createElement(sP,{className:"msgbox-Icon msgbox-error-icon"});case TP.WARNING:return c.createElement(pP,{className:"msgbox-Icon msgbox-warning-icon"});case TP.INFO:return c.createElement("span",{className:"msgbox-Icon msgbox-info-icon"},"i");default:throw new Error("Wrong Message Box type!")}}},{key:"render",value:function(){var e=Bf()("msgbox-Root",{"msgbox-Root-error":this.props.boxType===TP.ERROR,"msgbox-Root-warning":this.props.boxType===TP.WARNING,"msgbox-Root-info":this.props.boxType===TP.INFO,"msgbox-Root__noheader":!this.props.header,"msgbox-Root__noclosebutton":!this.props.onClose},this.props.className);return c.createElement("div",{className:e},this._getIcon(),this.props.header&&c.createElement("p",{className:"msgbox-Header"},this.props.header),c.createElement("p",{className:"msgbox-Text"},this.props.text),c.createElement("div",{className:"msgbox-Actions"},this.props.linkText&&c.createElement("a",{className:"msgbox-Link",href:this.props.linkUrl,target:"_blank"},this.props.linkText),c.createElement("button",{className:"msgbox-Button",onClick:this.props.onSubmit},this.props.buttonText)),this.props.onClose&&c.createElement(Jf,{className:"svg-btn msgbox-close-button",content:rP,onClick:this.props.onClose}))}}]),r}(c.Component);function kP(e){return(kP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function CP(e,t,r){return t&&PP(e.prototype,t),r&&PP(e,r),e}function AP(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&RP(e,t)}function RP(e,t){return(RP=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function jP(e){var t=MP();return function(){var r,n=LP(e);if(t){var o=LP(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return IP(this,r)}}function IP(e,t){return!t||"object"!==kP(t)&&"function"!=typeof t?DP(e):t}function DP(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MP(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function LP(e){return(LP=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var NP=function(e){AP(r,e);var t=jP(r);function r(){return SP(this,r),t.apply(this,arguments)}return CP(r,[{key:"render",value:function(){return c.createElement(xP,{onClose:this.props.onClose,onSubmit:this.props.onSubmit,header:"We were unable to open this video.",text:"This video is hosted on ".concat(this.props.service,". You can try and view it there"),buttonText:"Open in ".concat(this.props.service),boxType:"error"})}}]),r}(c.Component);function BP(e){return(BP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function FP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function WP(e,t,r){return t&&UP(e.prototype,t),r&&UP(e,r),e}function zP(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&HP(e,t)}function HP(e,t){return(HP=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function VP(e){var t=$P();return function(){var r,n=KP(e);if(t){var o=KP(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return GP(this,r)}}function GP(e,t){return!t||"object"!==BP(t)&&"function"!=typeof t?qP(e):t}function qP(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $P(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function KP(e){return(KP=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var YP=function(e){zP(r,e);var t=VP(r);function r(){return FP(this,r),t.apply(this,arguments)}return WP(r,[{key:"render",value:function(){return c.createElement(xP,{onClose:this.props.onClose,onSubmit:this.props.onSubmit,header:"Video marked as explicit.",text:"You can still view this video on ".concat(this.props.service,"."),buttonText:"Open in ".concat(this.props.service),boxType:"warning"})}}]),r}(c.Component),XP='\n<svg width="36px" height="36px" viewBox="0 0 36 36" version="1.1" xmlns="http://www.w3.org/2000/svg">\n    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g stroke-width="2" stroke="#F2F2F2" fill="#F2F2F2">\n            <path d="M12.3408714,10.0141234 C12.4387046,9.9874359 12.5458435,9.99787995 12.6384534,10.0513483 L25.7231942,17.6058269 C25.7441713,17.6179381 25.7635499,17.6317943 25.7812762,17.6471132 C25.8505849,17.6811974 25.9106579,17.7350136 25.9510292,17.8049388 C26.0614195,17.9961404 25.9953885,18.2409294 25.8085954,18.3487745 L12.645177,25.9486776 C12.5764657,25.9883481 12.5002354,26.0040755 12.4258831,25.9991127 C12.4172304,25.9996948 12.4085186,25.9999904 12.3997586,25.9999904 C12.178978,25.9999904 12,25.8204113 12,25.6047213 L12,10.404915 C12,10.2069041 12.152566,10.0428998 12.3408714,10.0141234 L12.3408714,10.0141234 Z">\n            </path>\n        </g>\n    </g>\n</svg>\n';function ZP(e){return(ZP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function JP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function eC(e,t,r){return t&&QP(e.prototype,t),r&&QP(e,r),e}function tC(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rC(e,t)}function rC(e,t){return(rC=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function nC(e){var t=aC();return function(){var r,n=sC(e);if(t){var o=sC(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return oC(this,r)}}function oC(e,t){return!t||"object"!==ZP(t)&&"function"!=typeof t?iC(e):t}function iC(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aC(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function sC(e){return(sC=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function uC(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var cC=[{width:210,height:120},{width:120,height:210}],lC={x:0,y:0,width:1,height:1},fC=function(e){tC(r,e);var t=nC(r);function r(){var e;JP(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return uC(iC(e=t.call.apply(t,[this].concat(o))),"_played",!1),uC(iC(e),"_playerInitialized",!1),uC(iC(e),"_trackingFlag",{videoImpressed:!1,videoWatched:!1,videoWentWrong:!1}),uC(iC(e),"state",{inlinePlayer:null,errorOccurred:!1}),uC(iC(e),"_playStatusCallback",(function(){e._played=e._played||e._isPlaying(),e.props.interactionCallback(e.props.inlineVideo,e._isPlaying(),e._isFullscreen()),e._shouldVideoBeRendered()&&e._trackOpportunity(),e._played&&e._trackUsage()})),uC(iC(e),"_fullscreenCallback",(function(){e.props.interactionCallback(e.props.inlineVideo,e._isPlaying(),e._isFullscreen())})),e}return eC(r,[{key:"componentDidMount",value:function(){this.props.shouldBeLoaded&&!this.props.isExplicit&&this._createPlayer()}},{key:"shouldComponentUpdate",value:function(e,t){return!US()(this.props,e)||!US()(this.state,t)}},{key:"componentDidUpdate",value:function(e){this.props.shouldBeLoaded&&!this.props.isExplicit?this._createPlayer():this._destroyPlayer();var t=this.state.inlinePlayer;if(t){t.fullscreenCallback=this._fullscreenCallback,t.playStatusCallback=this._playStatusCallback;var r=this.props,n=r.hidden,o=r.shouldBePaused,i=r.shouldAutoplay;this._isPlaying()&&(n||o)&&t.pause(),this._shouldVideoBeRendered()&&!n&&i&&!this._played&&t.play()}}},{key:"_createPlayer",value:function(){var e=this;if(!this._playerInitialized){var t,r=this.props.inlineVideo.link,n=(null===(t=r.inlineData)||void 0===t?void 0:t.autoplay)||!1,o=this._getVideoContainerId();"youtube"===r.videoService?KS(r.videoId,o,n,(function(){return e._trackError()})).then((function(t){return e.setState({inlinePlayer:t})})):"vimeo"===r.videoService&&tP(r.videoId,o,n).then((function(t){return e.setState({inlinePlayer:t})})).catch((function(t){return e._trackError()})),this._playerInitialized=!0}}},{key:"_getVideoContainerId",value:function(){var e=this.props.inlineVideo.link,t=e.videoService,r=e.id;return"videoplayer_".concat(t,"_").concat(r)}},{key:"_destroyPlayer",value:function(){var e=this;Be().rIC((function(){var t=e.state.inlinePlayer;!t||e.props.shouldBeLoaded&&!e.state.errorOccurred||(t.fullscreenCallback=void 0,t.playStatusCallback=void 0,t.destroy(),e.setState({inlinePlayer:null}),e._playerInitialized=!1,e._played=!1)}))}},{key:"_isPlaying",value:function(){return!!this.state.inlinePlayer&&this.state.inlinePlayer.isPlaying()}},{key:"_isFullscreen",value:function(){return!!this.state.inlinePlayer&&this.state.inlinePlayer.isFullscreen()}},{key:"_isReady",value:function(){return!!this.state.inlinePlayer&&this.state.inlinePlayer.isReady()}},{key:"_playerSizeOk",value:function(e){var t=this.props.inlineVideo,r=t.link,n=t.pageWidth,o=t.pageHeight,i=ra();return cC.some((function(t){return e.width/i*(r.width/n)>t.width&&e.height/i*(r.height/o)>t.height}))}},{key:"_shouldVideoBeRendered",value:function(){var e=this.props.pageViewportBBox;return!!e&&(!(!this._isPlaying()&&!this._isFullscreen())||this._playerSizeOk(e)&&!!this.state.inlinePlayer&&!this.state.errorOccurred)}},{key:"_shouldIconBeRendered",value:function(){var e=this.props.pageViewportBBox;return!!e&&(!this._isPlaying()&&!this._isFullscreen()&&!this._playerSizeOk(e))}},{key:"_trackOpportunity",value:function(){this._isReady()&&(this._trackingFlag.videoImpressed||(this._trackingFlag.videoImpressed=!0,this.props.featureTracker.opportunity(ny.PUBLICATION_INLINE_VIDEO_LINK),this.props.metrics.monitor("reader3-inpub-video-opportunity",{view:1,service:this.props.inlineVideo.link.videoService})))}},{key:"_trackUsage",value:function(){this._trackingFlag.videoWatched||(this._trackingFlag.videoWatched=!0,this.props.featureTracker.usage(ny.PUBLICATION_INLINE_VIDEO_LINK),this.props.metrics.monitor("reader3-inpub-video-view",{view:1,service:this.props.inlineVideo.link.videoService}))}},{key:"_trackError",value:function(){this._trackingFlag.videoWentWrong||(this._trackingFlag.videoWentWrong=!0,this.props.metrics.monitor("reader3-inpub-video-error",{failure:1,service:this.props.inlineVideo.link.videoService}),this._destroyPlayer(),this.setState({errorOccurred:!0}))}},{key:"_adjustAlignment",value:function(e,t){var r=e.top,n=e.left,o=r+e.height,i=n+e.width;Math.abs(r-t.top)<=4&&(r=t.top),Math.abs(n-t.left)<=4&&(n=t.left),Math.abs(o-(t.top+t.height))<=4&&(o=t.top+t.height),Math.abs(i-(t.left+t.width))<=4&&(i=t.left+t.width),e.top=Math.floor(r),e.left=Math.floor(n),e.height=Math.ceil(o)-e.top,e.width=Math.ceil(i)-e.left}},{key:"renderPlayer",value:function(){var e=this._shouldVideoBeRendered();e&&this._trackOpportunity();var t={display:e?"block":"none"};return c.createElement("div",{className:"inline-video__player",style:t},c.createElement("div",{id:this._getVideoContainerId()}))}},{key:"renderArrow",value:function(){var e={display:this._shouldIconBeRendered()?"block":"none"};return c.createElement("div",{className:"inline-video__cta",style:e,dangerouslySetInnerHTML:{__html:XP}})}},{key:"renderMessage",value:function(){var e=this.props,t=e.pageViewportBBox,r=e.inlineVideo.link,n=r.videoService,o=r.url,i={display:!!t&&this._playerSizeOk(t)?"block":"none"};return this.props.isExplicit?c.createElement("div",{className:"inline-video__message",style:i},c.createElement(YP,{onSubmit:function(){return window.open(o,"_blank")},service:n})):this.state.errorOccurred?c.createElement("div",{className:"inline-video__message",style:i},c.createElement(NP,{onSubmit:function(){return window.open(o,"_blank")},service:n})):null}},{key:"render",value:function(){var e=this.props.inlineVideo,t=e.link,r=e.pageWidth,n=e.pageHeight,o=this.props.pageViewportBBox||lC,i=ra(),a={top:o.y/i,left:o.x/i,width:o.width/i,height:o.height/i},s=a.width/r,u=a.height/n,l={top:t.y*u+a.top,left:t.x*s+a.left,width:t.width*s,height:t.height*u};return this._adjustAlignment(l,a),c.createElement("div",{className:"inline-video__container",style:l},this.renderPlayer(),this.renderArrow(),this.renderMessage())}}]),r}(c.Component),pC="youtube_api_ready",dC="set_active_video_link";function hC(){return{type:pC}}function yC(e){return{type:dC,videoLink:e}}function mC(e){return(mC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vC(e){return wC(e)||bC(e)||_C(e)||gC()}function gC(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _C(e,t){if(e){if("string"==typeof e)return EC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?EC(e,t):void 0}}function bC(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function wC(e){if(Array.isArray(e))return EC(e)}function EC(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function OC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TC(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function xC(e,t,r){return t&&TC(e.prototype,t),r&&TC(e,r),e}function kC(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&SC(e,t)}function SC(e,t){return(SC=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function PC(e){var t=RC();return function(){var r,n=jC(e);if(t){var o=jC(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return CC(this,r)}}function CC(e,t){return!t||"object"!==mC(t)&&"function"!=typeof t?AC(e):t}function AC(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RC(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function jC(e){return(jC=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function IC(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var DC=2,MC=function(e){kC(r,e);var t=PC(r);function r(){var e;OC(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return IC(AC(e=t.call.apply(t,[this].concat(o))),"_youtubeCheck",!1),IC(AC(e),"_interactionCallback",(function(t,r,n){if(n||r)e.props.dispatch(yC(t.link));else{var o=e.props.activeVideoLink,i=t.link.id;o&&o.id===i&&!r&&e.props.dispatch(yC(null))}})),e}return xC(r,[{key:"componentWillReceiveProps",value:function(e){var t=this.props.activeVideoLink;if(t){var r=t.page.pageNumber;e.pageViewportBBoxes.hasOwnProperty(r)||this.props.dispatch(yC(null))}}},{key:"shouldComponentUpdate",value:function(e){return!US()(this.props,e)}},{key:"componentDidUpdate",value:function(){var e=this,t=this.props,r=t.inlineYoutubeVideos,n=t.youtubeApiReady;this._youtubeCheck||0===r.length||n||(this._youtubeCheck=!0,qS().then((function(){return e.props.dispatch(hC())})))}},{key:"_getVideoPlayers",value:function(e,t){var r=this,n=Math.min.apply(Math,vC(t))-DC,o=Math.max.apply(Math,vC(t))+DC,i=this.props.activeVideoLink,a=!1;return e.map((function(e){var s=e.link,u=s.id,l=s.inlineData,f=s.page.pageNumber,p=r.props.pageViewportBBoxes[f],d=!!l&&l.isExplicit,h=!!i&&i.id!==u,y=!a&&t.includes(f)&&!h&&!!l&&l.autoplay;return y&&(a=!0),c.createElement(fC,{featureTracker:r.props.featureTracker,hidden:r.props.hidden,inlineVideo:e,interactionCallback:r._interactionCallback,key:"".concat(u),pageViewportBBox:p,shouldAutoplay:y,shouldBeLoaded:n<=f&&f<=o,shouldBePaused:h,isExplicit:d,metrics:r.props.metrics})}))}},{key:"render",value:function(){var e=this.props.pageViewportBBoxes,t=Object.keys(e).map((function(e){return parseInt(e,10)})),r=[];return this.props.youtubeApiReady&&r.push.apply(r,vC(this.props.inlineYoutubeVideos)),this.props.vimeoApiReady&&r.push.apply(r,vC(this.props.inlineVimeoVideos)),this._getVideoPlayers(r,t)}}]),r}(c.Component),LC=$n((function(e){return{activeVideoLink:e.inlineVideo.activeVideoLink,inlineYoutubeVideos:Qw(e),inlineVimeoVideos:eE(e),youtubeApiReady:e.inlineVideo.youtubeApiReady,vimeoApiReady:e.inlineVideo.vimeoApiReady,featureTracker:e.featureTracker}}),null,null,{pure:!1})(MC);function NC(e){return(NC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function BC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function FC(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?BC(Object(r),!0).forEach((function(t){XC(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BC(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function UC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WC(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function zC(e,t,r){return t&&WC(e.prototype,t),r&&WC(e,r),e}function HC(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&VC(e,t)}function VC(e,t){return(VC=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function GC(e){var t=KC();return function(){var r,n=YC(e);if(t){var o=YC(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return qC(this,r)}}function qC(e,t){return!t||"object"!==NC(t)&&"function"!=typeof t?$C(e):t}function $C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KC(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function YC(e){return(YC=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function XC(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ZC=function(e){HC(r,e);var t=GC(r);function r(){var e;UC(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return XC($C(e=t.call.apply(t,[this].concat(o))),"state",{pageViewportBBoxes:{},hidden:!0}),e}return zC(r,[{key:"shouldComponentUpdate",value:function(e,t){return!US()(this.state,t)}},{key:"updatePagePositions",value:function(e){var t=this,r={};this.props.currentPageNumbers.forEach((function(e){var n=t.props.getPageComponent(e);n&&(t.props.visiblePageNumbers.includes(e)?r[e]=FC({},n.position):r[e]=FC({},n.viewportBBox))})),this.setState({pageViewportBBoxes:r,hidden:e})}},{key:"render",value:function(){var e={display:this.state.hidden?"none":"block"};return c.createElement("div",{className:"dynamic-content__container",style:e},c.createElement(LC,{pageViewportBBoxes:this.state.pageViewportBBoxes,hidden:this.state.hidden,metrics:this.props.metrics}))}}]),r}(c.Component);XC(ZC,"displayName","InPubContent");var JC=$n((function(e){return{getPageComponent:e.canvasApi?e.canvasApi.getPageComponent:function(){return null},visiblePageNumbers:e.reader.visiblePageNumbers,currentPageNumbers:Ts(e)}}),null,null,{forwardRef:!0,pure:!1})(ZC),QC=r(270),eA=r.n(QC),tA=r(271),rA=r.n(tA);function nA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function iA(e,t,r){return t&&oA(e.prototype,t),r&&oA(e,r),e}function aA(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var sA=512,uA=function(){function e(t){nA(this,e),aA(this,"gl",void 0),aA(this,"verticeBuffer",void 0),aA(this,"indiceBuffer",void 0),aA(this,"depthMapTexture",void 0),aA(this,"depthMapFrameBuffer",void 0),aA(this,"shader",void 0),aA(this,"matrix",o.create()),aA(this,"projection",o.create()),this.gl=t,this.shader=hO(t,rA.a,eA.a);this.verticeBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.verticeBuffer),t.bufferData(t.ARRAY_BUFFER,7500,t.DYNAMIC_DRAW);this.indiceBuffer=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indiceBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,6912,t.DYNAMIC_DRAW),this.depthMapTexture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.depthMapTexture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,sA,sA,0,t.RGBA,t.UNSIGNED_BYTE,null),this.depthMapFrameBuffer=t.createFramebuffer(),t.bindFramebuffer(t.FRAMEBUFFER,this.depthMapFrameBuffer),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.depthMapTexture,0),t.bindFramebuffer(t.FRAMEBUFFER,null)}return iA(e,[{key:"destroy",value:function(){var e=this.gl;e.deleteBuffer(this.verticeBuffer),e.deleteBuffer(this.indiceBuffer),e.deleteTexture(this.depthMapTexture),e.deleteFramebuffer(this.depthMapFrameBuffer),this.shader.destroy()}},{key:"_calculateMatrix",value:function(e,t){var r=t.x,n=e.drawingBufferHeight-t.y-t.height,i=t.width,a=t.height;o.set(this.matrix,i,0,0,0,a,0,r,n,1),o.set(this.projection,2/e.drawingBufferWidth,0,0,0,2/e.drawingBufferHeight,0,-1,-1,1),o.multiply(this.matrix,this.projection,this.matrix)}},{key:"computeDepthMap",value:function(e,t){var r=this.gl,n=this.shader;r.disable(r.DEPTH_TEST),r.enable(r.BLEND),r.blendFunc(r.ONE,r.ZERO),r.blendEquation(r.FUNC_ADD),r.disable(r.CULL_FACE),r.bindFramebuffer(r.FRAMEBUFFER,this.depthMapFrameBuffer),r.viewport(0,0,sA,sA),r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT),n.bind(),this._calculateMatrix(r,t),r.uniformMatrix3fv(n.u_matrix,!1,this.matrix),r.bindBuffer(r.ARRAY_BUFFER,this.verticeBuffer),r.bufferSubData(r.ARRAY_BUFFER,0,e.vertices),r.vertexAttribPointer(n.vertex,3,r.FLOAT,!1,0,0),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,this.indiceBuffer),r.bufferSubData(r.ELEMENT_ARRAY_BUFFER,0,e.indices),r.drawElements(r.TRIANGLES,6*(e.size-1)*(e.size-1),r.UNSIGNED_SHORT,0),r.bindFramebuffer(r.FRAMEBUFFER,null),r.viewport(0,0,r.drawingBufferWidth,r.drawingBufferHeight)}}]),e}(),cA=r(272),lA=r.n(cA),fA=r(273),pA=r.n(fA);function dA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function yA(e,t,r){return t&&hA(e.prototype,t),r&&hA(e,r),e}function mA(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var vA=function(){function e(t){dA(this,e),mA(this,"gl",void 0),mA(this,"shader",void 0),mA(this,"verticeBuffer",void 0),this.gl=t,this.shader=hO(t,pA.a,lA.a);this.verticeBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.verticeBuffer),t.bufferData(t.ARRAY_BUFFER,72,t.DYNAMIC_DRAW)}return yA(e,[{key:"draw",value:function(e,t,r){var n=this.gl,o=this.shader;n.enable(n.DEPTH_TEST),n.enable(n.BLEND),n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ZERO,n.ONE),o.bind();var i=n.canvas.width,a=n.canvas.height,s=(t.x-i/2)/(i/2),u=(0-t.y+a/2)/(a/2),c=(t.x+t.width-i/2)/(i/2),l=(0-(t.y+t.height)+a/2)/(a/2),f=new Float32Array([s,u,r,s,l,r,c,u,r,c,u,r,s,l,r,c,l,r]);n.activeTexture(n.TEXTURE0),n.bindTexture(n.TEXTURE_2D,e),n.uniform1i(o.depthMapTexture,0),n.bindBuffer(n.ARRAY_BUFFER,this.verticeBuffer),n.bufferSubData(n.ARRAY_BUFFER,0,f),n.vertexAttribPointer(o.vertex,3,n.FLOAT,!1,0,0),n.drawArrays(n.TRIANGLES,0,6)}},{key:"destroy",value:function(){this.gl.deleteBuffer(this.verticeBuffer),this.shader.destroy()}}]),e}(),gA=r(274),_A=r.n(gA),bA=r(275),wA=r.n(bA);function EA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function TA(e,t,r){return t&&OA(e.prototype,t),r&&OA(e,r),e}function xA(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var kA=function(){function e(t){EA(this,e),xA(this,"gl",void 0),xA(this,"verticeBuffer",void 0),xA(this,"shader",void 0),this.gl=t,this.shader=hO(t,wA.a,_A.a);var r=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,r),t.bufferData(t.ARRAY_BUFFER,new Float32Array([0,0,0,1,1,0,1,1]),t.STATIC_DRAW),this.verticeBuffer=r}return TA(e,[{key:"destroy",value:function(){var e=this.gl;e.bindBuffer(e.ARRAY_BUFFER,null),e.deleteBuffer(this.verticeBuffer),this.shader.destroy()}},{key:"draw",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{x:0,y:0,width:1,height:1},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=this.gl,i=this.shader;i.bind(),o.disable(o.DEPTH_TEST),o.uniform2f(i.viewport,o.drawingBufferWidth,o.drawingBufferHeight),o.uniform4f(i.bbox,t.x,t.y,t.width,t.height),o.uniform4f(i.texCoords,r.x,r.y,r.width,r.height),o.uniform1f(i.opacity,n),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,e),o.uniform1i(i.texture,0),o.bindBuffer(o.ARRAY_BUFFER,this.verticeBuffer),o.vertexAttribPointer(i.vertex,2,o.FLOAT,!1,0,0),o.drawArrays(o.TRIANGLE_STRIP,0,4)}}]),e}(),SA=r(276),PA=r.n(SA),CA=r(277),AA=r.n(CA),RA=r(278),jA=r.n(RA),IA=r(279),DA=r.n(IA);function MA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function NA(e,t,r){return t&&LA(e.prototype,t),r&&LA(e,r),e}function BA(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var FA=!1,UA=function(){function e(t){MA(this,e),BA(this,"gl",void 0),BA(this,"normalShader",null),BA(this,"shader",void 0),BA(this,"verticeBuffer",void 0),BA(this,"normalsBuffer",void 0),BA(this,"textureCoordsBuffer",void 0),BA(this,"perspectiveCorrectionsBuffer",void 0),BA(this,"indiceBuffer",void 0),BA(this,"normalLinesBuffer",null),BA(this,"whitePaperTexture",void 0),BA(this,"blackPaperTexture",void 0),BA(this,"matrix",o.create()),BA(this,"projection",o.create()),BA(this,"texMatrix",o.create()),BA(this,"clipRect",new Float32Array([0,1,0,1])),this.gl=t,this.shader=hO(t,AA.a,PA.a);this.verticeBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.verticeBuffer),t.bufferData(t.ARRAY_BUFFER,7500,t.DYNAMIC_DRAW),this.normalsBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.normalsBuffer),t.bufferData(t.ARRAY_BUFFER,7500,t.DYNAMIC_DRAW),this.textureCoordsBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.textureCoordsBuffer),t.bufferData(t.ARRAY_BUFFER,5e3,t.DYNAMIC_DRAW),this.perspectiveCorrectionsBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.perspectiveCorrectionsBuffer),t.bufferData(t.ARRAY_BUFFER,2500,t.DYNAMIC_DRAW);this.indiceBuffer=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indiceBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,6912,t.DYNAMIC_DRAW),this.whitePaperTexture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.whitePaperTexture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array([255,255,255,255])),t.bindTexture(t.TEXTURE_2D,null),this.blackPaperTexture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.blackPaperTexture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array([0,0,0,255])),t.bindTexture(t.TEXTURE_2D,null),FA&&(this.normalShader=hO(t,jA.a,DA.a),this.normalLinesBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.normalLinesBuffer),t.bufferData(t.ARRAY_BUFFER,15e3,t.DYNAMIC_DRAW))}return NA(e,[{key:"destroy",value:function(){var e,t=this.gl;(t.deleteBuffer(this.verticeBuffer),t.deleteBuffer(this.normalsBuffer),t.deleteBuffer(this.textureCoordsBuffer),t.deleteBuffer(this.perspectiveCorrectionsBuffer),t.deleteBuffer(this.indiceBuffer),t.deleteTexture(this.whitePaperTexture),t.deleteTexture(this.blackPaperTexture),this.shader.destroy(),FA)&&(t.deleteBuffer(this.normalLinesBuffer),null===(e=this.normalShader)||void 0===e||e.destroy())}},{key:"_calculateMatrix",value:function(e,t,r){var n=t&&"src_px"in t?t.src_px.x:0,i=t&&"src_px"in t?t.src_px.y:0,a=t&&"src_px"in t?t.src_px.width:r.width,s=t&&"src_px"in t?t.src_px.height:r.height,u=t&&"surface"in t?t.surface.width:r.width,c=t&&"surface"in t?t.surface.height:r.height,l=t&&"surface"in t&&"imgWidth"in t.surface?t.surface.imgWidth:r.width,f=t&&"surface"in t&&"imgHeight"in t.surface?t.surface.imgHeight:r.height,p=t?t.dest_px.x:0,d=t?t.dest_px.y:0,h=t?t.dest_px.width:r.width,y=t?t.dest_px.height:r.height,m=e.drawingBufferHeight-r.y-r.height;i=f-i-s,d=r.height-d-y,o.set(this.matrix,r.width,0,0,0,r.height,0,r.x,m,1),o.set(this.projection,2/e.drawingBufferWidth,0,0,0,2/e.drawingBufferHeight,0,-1,-1,1),o.multiply(this.matrix,this.projection,this.matrix);var v=Math.max(0,(1-a/h)/2),g=Math.max(0,(1-s/y)/2),_=(a-2*v)/u/(h/r.width),b=(s-2*g)/c/(y/r.height),w=-p/r.width*_+(n+v)/u,E=-d/r.height*b+(i+g)/c;o.set(this.texMatrix,_,0,0,0,b,0,w,E,1),this.clipRect.set([(n+v)/l,(n+a-v)/l,(i+g)/f,(i+s-g)/f])}},{key:"fill",value:function(e,t,r,n,o,i){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;this.draw(e,{surface:{texture:this.blackPaperTexture,width:1,height:1,imgWidth:1,imgHeight:1},type:jT,src_px:{x:0,y:0,width:1,height:1},dest_px:t.dest_px},r,n,o,i,a)}},{key:"draw",value:function(e,t,r,n,o,i){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=this.gl,u=this.shader,c=ra();s.enable(s.DEPTH_TEST),s.depthFunc(s.LEQUAL),s.enable(s.BLEND),s.blendFunc(s.ONE,s.ONE_MINUS_SRC_ALPHA),s.enable(s.CULL_FACE),s.cullFace(s.BACK),u.bind(),this._calculateMatrix(s,t,r),s.uniformMatrix3fv(u.u_matrix,!1,this.matrix),s.uniformMatrix3fv(u.u_texMatrix,!1,this.texMatrix);var l=s.canvas.width,f=s.canvas.height,p=r.x/l*2-1,d=r.y/f*2-1,h=r.width/l*2,y=r.height/f*2;if(s.uniform1f(u.lightRatio,n),s.uniform1f(u.tick,a),s.uniform1f(u.spinnerSize,22*c),s.uniform1i(u.showSpinner,!t&&i?1:0),s.uniform4f(u.bbox,p,d,h,y),s.uniform4fv(u.clipRect,this.clipRect),s.uniform2f(u.viewport,s.drawingBufferWidth,s.drawingBufferHeight),s.activeTexture(s.TEXTURE0),s.bindTexture(s.TEXTURE_2D,t&&"surface"in t&&"texture"in t.surface?t.surface.texture:this.whitePaperTexture),s.uniform1i(u.texture,0),s.bindBuffer(s.ARRAY_BUFFER,this.verticeBuffer),s.bufferSubData(s.ARRAY_BUFFER,0,e.vertices),s.vertexAttribPointer(u.vertex,3,s.FLOAT,!1,0,0),s.bindBuffer(s.ARRAY_BUFFER,this.normalsBuffer),s.bufferSubData(s.ARRAY_BUFFER,0,o?e.backFacingNormals:e.normals),s.vertexAttribPointer(u.normal,3,s.FLOAT,!1,0,0),s.bindBuffer(s.ARRAY_BUFFER,this.textureCoordsBuffer),s.bufferSubData(s.ARRAY_BUFFER,0,o?e.backFacingTextureCoords:e.textureCoords),s.vertexAttribPointer(u.textureCoord,2,s.FLOAT,!1,0,0),s.bindBuffer(s.ARRAY_BUFFER,this.perspectiveCorrectionsBuffer),s.bufferSubData(s.ARRAY_BUFFER,0,e.perspectiveCorrections),s.vertexAttribPointer(u.perspectiveCorrection,1,s.FLOAT,!1,0,0),s.bindBuffer(s.ELEMENT_ARRAY_BUFFER,this.indiceBuffer),s.bufferSubData(s.ELEMENT_ARRAY_BUFFER,0,o?e.backFacingIndices:e.indices),s.drawElements(s.TRIANGLES,6*(e.size-1)*(e.size-1),s.UNSIGNED_SHORT,0),FA){var m,v,g;null===(m=this.normalShader)||void 0===m||m.bind(),s.uniformMatrix3fv((null===(v=this.normalShader)||void 0===v?void 0:v.u_matrix)||null,!1,this.matrix),s.uniform1i((null===(g=this.normalShader)||void 0===g?void 0:g.backFacing)||null,o?1:0);for(var _=[],b=o?e.backFacingNormals:e.normals,w=0;w<e.vertices.length;w+=3){var E=e.vertices[w+0],O=e.vertices[w+1],T=e.vertices[w+2],x=b[w+0],k=b[w+1],S=b[w+2];_.push(E,O,T,E+x,O+k,T+S)}s.bindBuffer(s.ARRAY_BUFFER,this.normalLinesBuffer),s.bufferSubData(s.ARRAY_BUFFER,0,new Float32Array(_)),this.normalShader&&s.vertexAttribPointer(this.normalShader.vertex||0,3,s.FLOAT,!1,0,0),s.drawArrays(s.LINES,0,_.length/3)}}}]),e}(),WA=(r(370),r(280)),zA=r.n(WA),HA=r(281),VA=r.n(HA);function GA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function $A(e,t,r){return t&&qA(e.prototype,t),r&&qA(e,r),e}function KA(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YA(e){return 1<<1+Math.floor(Math.log2(e))}var XA=function(){function e(t,r){GA(this,e),KA(this,"gl",void 0),KA(this,"texture",void 0),KA(this,"textureSize",void 0),KA(this,"shader",void 0),KA(this,"imagePrimitive",void 0),KA(this,"verticeBuffer",void 0),KA(this,"barycentricBuffer",void 0),this.gl=t,this.shader=hO(t,VA.a,zA.a),this.imagePrimitive=r;var n=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,n),t.bufferData(t.ARRAY_BUFFER,new Float32Array([0,0,0,1,1,0,1,1]),t.STATIC_DRAW),this.verticeBuffer=n;var o=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,o),t.bufferData(t.ARRAY_BUFFER,new Float32Array([1,1,0,0,1,0,0,1,0,1,1,0,0,0,1,1]),t.STATIC_DRAW),this.barycentricBuffer=o,this.textureSize=this.getTextureSize(),this.texture=this.getTexture()}return $A(e,[{key:"destroy",value:function(){var e=this.gl;e.deleteBuffer(this.verticeBuffer),e.deleteBuffer(this.barycentricBuffer),e.deleteTexture(this.texture),this.shader.destroy()}},{key:"_iconRadius",value:function(){return 20*ra()}},{key:"getTextureSize",value:function(){return YA(2*(2*this._iconRadius()))}},{key:"getTexture",value:function(){var e=this.gl,t=document.createElement("canvas");t.width=this.textureSize,t.height=this.textureSize;var r=2*this._iconRadius(),n=t.getContext("2d");n.fillStyle="rgba(0, 1, 0, 0.0)",n.fillRect(0,0,t.width,t.height),n.fillStyle="rgba(0, 0, 0, 0.7)",LE.draw(n,r/2,r/2,this._iconRadius()),DE.draw(n,r+r/2,r/2,this._iconRadius()),this.texture&&e.deleteTexture(this.texture);var o=e.createTexture();return e.bindTexture(e.TEXTURE_2D,o),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),o}},{key:"draw",value:function(e,t,r){var n=this.gl,o=this.shader;if(n.disable(n.DEPTH_TEST),n.enable(n.BLEND),n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ZERO,n.ONE),n.blendEquation(n.FUNC_ADD),o.bind(),n.uniform2f(o.viewport,n.drawingBufferWidth,n.drawingBufferHeight),n.uniform4f(o.bbox,r.x,r.y,r.width,r.height),n.uniform1f(o.opacity,t),n.uniform1f(o.strokeWidth,1),n.bindBuffer(n.ARRAY_BUFFER,this.verticeBuffer),n.vertexAttribPointer(o.vertex,2,n.FLOAT,!1,0,0),n.bindBuffer(n.ARRAY_BUFFER,this.barycentricBuffer),n.vertexAttribPointer(o.barycentric,4,n.FLOAT,!1,0,0),n.drawArrays(n.TRIANGLE_STRIP,0,4),(qw(e)||Yw(e))&&r.width>50&&r.height>50){var i={x:r.x+r.width/2-this._iconRadius(),y:r.y+r.height/2-this._iconRadius(),width:2*this._iconRadius(),height:2*this._iconRadius()},a={x:0,y:0,width:2*this._iconRadius()/this.textureSize,height:2*this._iconRadius()/this.textureSize};qw(e)&&this.imagePrimitive.draw(this.texture,i,a,t),Yw(e)&&(a.x+=a.width,this.imagePrimitive.draw(this.texture,i,a,t))}}}]),e}();function ZA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function QA(e,t,r){return t&&JA(e.prototype,t),r&&JA(e,r),e}function eR(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var tR=function(){function e(t,r){ZA(this,e),eR(this,"gl",void 0),eR(this,"imagePrimitive",void 0),this.gl=t,this.imagePrimitive=r}return QA(e,[{key:"destroy",value:function(){}},{key:"draw",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=this.gl;o.disable(o.DEPTH_TEST),o.enable(o.BLEND),o.blendFuncSeparate(o.SRC_ALPHA,o.ONE_MINUS_SRC_ALPHA,o.ONE,o.ONE_MINUS_SRC_ALPHA),o.blendEquation(o.FUNC_ADD),this.imagePrimitive.draw(e,t,r,n)}}]),e}();function rR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function oR(e,t,r){return t&&nR(e.prototype,t),r&&nR(e,r),e}function iR(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var aR=function(){function e(t){rR(this,e),iR(this,"gl",void 0),iR(this,"shadow",void 0),iR(this,"shadowDraw",void 0),iR(this,"bendingPage",void 0),iR(this,"imagePrimitive",void 0),iR(this,"link",void 0),iR(this,"linkTooltip",void 0),iR(this,"highlights",void 0),this.gl=t,this.shadow=new uA(t),this.shadowDraw=new vA(t),this.bendingPage=new UA(t),this.imagePrimitive=new kA(t),this.link=new XA(t,this.imagePrimitive),this.linkTooltip=new tR(t,this.imagePrimitive),this.highlights=new MO(t)}return oR(e,[{key:"destroy",value:function(){this.shadow.destroy(),this.shadowDraw.destroy(),this.bendingPage.destroy(),this.imagePrimitive.destroy(),this.link.destroy(),this.linkTooltip.destroy(),this.highlights.destroy(),this.gl=null}}]),e}();function sR(e){return(sR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function uR(){return(uR=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function cR(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=lR(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function lR(e,t){if(e){if("string"==typeof e)return fR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?fR(e,t):void 0}}function fR(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function hR(e,t,r){return t&&dR(e.prototype,t),r&&dR(e,r),e}function yR(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mR(e,t)}function mR(e,t){return(mR=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vR(e){var t=bR();return function(){var r,n=wR(e);if(t){var o=wR(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return gR(this,r)}}function gR(e,t){return!t||"object"!==sR(t)&&"function"!=typeof t?_R(e):t}function _R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bR(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function wR(e){return(wR=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ER(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OR(e){for(var t={x:0,y:0},r=0;r<e.length;r++)t.x+=e[r].x,t.y+=e[r].y;return{x:t.x/e.length,y:t.y/e.length}}function TR(e,t){for(var r=e.length-1;r>=0;r--){var n=e[r];if(t(n))return n}}var xR=function(e){yR(r,e);var t=vR(r);function r(e){var n;return pR(this,r),ER(_R(n=t.call(this,e)),"_singleTapWasHandled",!1),ER(_R(n),"_lastMoveHitlist",[]),ER(_R(n),"_handlersOfCurrentGesture",[]),ER(_R(n),"_glExtOesStandardDerivatives",null),ER(_R(n),"frameCount",0),ER(_R(n),"canvas",void 0),ER(_R(n),"inputHandler",void 0),ER(_R(n),"previousPosition",null),ER(_R(n),"canvasObjectTree",null),ER(_R(n),"ctx",null),ER(_R(n),"glManager",null),ER(_R(n),"renderManager",null),ER(_R(n),"inPubContentRef",void 0),ER(_R(n),"canvasContainer",void 0),ER(_R(n),"onFallbackTo2D",(function(){n.inputHandler&&n.inputHandler.reset(),n.props.metrics.monitor("reader3-fallback-to-2d",{fallback:1})})),ER(_R(n),"getCustomCursor",(function(){for(var e=n._lastMoveHitlist.length-1;e>=0;e--)if(n._lastMoveHitlist[e].getCustomCursor&&n._lastMoveHitlist[e].getCustomCursor())return n._lastMoveHitlist[e].getCustomCursor();return"default"})),ER(_R(n),"createRenderManager",(function(){var e=n.renderManager;n.renderManager=new NT({useWebGL:n.props.usePageFlip,ctx:Qx(n.ctx)?n.ctx:null,hintMaxWidth:n.props.width,hintMaxHeight:n.props.height,pageModels:n.props.documentPages,loadStatsTracker:n.props.loadStatsTracker,renderManager:e})})),ER(_R(n),"createContextAndInitializeCanvas",(function(){var e,t,r=document.createElement("canvas");(r.className="document-canvas",r.style.width=r.style.height="100%",r.width=n.props.width,r.height=n.props.height,n.glManager&&(n.glManager.destroy(),n.glManager=null),n.canvas)?(n._glExtOesStandardDerivatives=null,n.canvas.removeEventListener("webglcontextlost",n.handleContextLost,!1),n.canvas.removeEventListener("webglcontextrestored",n.handleContextRestored,!1),null===(e=n.canvasContainer.current)||void 0===e||e.replaceChild(r,n.canvas)):null===(t=n.canvasContainer.current)||void 0===t||t.appendChild(r);if(n.canvas=r,n.props.usePageFlip){var o=ek(n.canvas);n.ctx=o,o?(n._glExtOesStandardDerivatives=o.getExtension("OES_standard_derivatives"),o.viewport(0,0,o.drawingBufferWidth,o.drawingBufferHeight),n.glManager=new aR(o),n.canvas.addEventListener("webglcontextlost",n.handleContextLost,!1),n.canvas.addEventListener("webglcontextrestored",n.handleContextRestored,!1)):n.handleWebGLError()}else n.ctx=n.canvas.getContext("2d")})),ER(_R(n),"findComponentsAtPoint",(function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=[];return n.canvasObjectTree&&Tw.traverse(n.canvasObjectTree,(function(n,i,a,s){return!(r&&!n.isVisible)&&(!!ew(e,t,i)&&(o.push(n),!0))})),o})),ER(_R(n),"bubbleEvent",(function(e,t,r){for(var o=arguments.length,i=new Array(o>3?o-3:0),a=3;a<o;a++)i[a-3]=arguments[a];var s,u={handled:!1,possibleHandlers:[]},c=cR(n.findComponentsAtPoint(t,r));try{for(c.s();!(s=c.n()).done;){var l=s.value,f=e(l);f&&u.possibleHandlers.push(l)}}catch(e){c.e(e)}finally{c.f()}return TR(u.possibleHandlers,(function(n){var o=e(n);return!(!o||!o.call.apply(o,[n,t,r].concat(i)))&&(u.handled=!0,!0)})),u})),ER(_R(n),"updateMouseHitlist",(function(e,t,r){var o=n.findComponentsAtPoint(e,t,!1),i=o[o.length-1],a=n._lastMoveHitlist[n._lastMoveHitlist.length-1];i!==a&&(a&&a.onMouseLeave&&a.onMouseLeave(r),i&&i.onMouseEnter&&i.onMouseEnter(r)),n._lastMoveHitlist=o,TR(o,(function(n){return!!n.onMouseMove&&(n.onMouseMove(e,t,r),!0)}))})),ER(_R(n),"releaseMouseHitlist",(function(e){var t=n._lastMoveHitlist[n._lastMoveHitlist.length-1];t&&t.onMouseLeave&&t.onMouseLeave(e),n._lastMoveHitlist=[]})),ER(_R(n),"fallbackTo2DIfViewportExceedGPULimit",(function(){if(n.ctx&&Qx(n.ctx)){var e=n.props.width-n.ctx.drawingBufferWidth>1,t=n.props.height-n.ctx.drawingBufferHeight>1;(e||t)&&(e&&n.props.dispatch(Ww(n.ctx.drawingBufferWidth)),t&&n.props.dispatch(zw(n.ctx.drawingBufferHeight)),n.onFallbackTo2D())}})),ER(_R(n),"handleWebGLError",(function(e){e&&xo(e,{extra:{"fallback-to-2d":!0}}),n.onFallbackTo2D(),n.props.dispatch(Bw())})),ER(_R(n),"buildCanvasObjectTree",(function(e){if(n.props.visible&&!(!n.ctx||Qx(n.ctx)&&n.ctx.isContextLost())){try{n.canvasObjectTree&&!e||n.createRenderManager(),n.canvasObjectTree=Tw.buildTree(Tw.createElement(BS,{ctx:n.ctx,height:n.props.height,loadStatsTracker:n.props.loadStatsTracker,trackOnceMixpanel:n.props.trackOnceMixpanel,readMode:n.props.readMode,renderManager:n.renderManager,store:n.props.store,usePageFlip:n.props.usePageFlip,width:n.props.width,metrics:n.props.metrics}),n.canvasObjectTree,_R(n))}catch(e){if(!Qx(n.ctx))throw e;n.handleWebGLError(e)}n.canvasObjectTree&&n.previousPosition&&(n.canvasObjectTree.setPosition(n.previousPosition),n.previousPosition=null)}})),ER(_R(n),"drawCanvasObjectTree",(function(){var e=n.canvasObjectTree,t=n.glManager;if(n.ctx&&n.props.visible&&e&&(!Qx(n.ctx)||!n.ctx.isContextLost())){try{var r={x:0,y:0,width:n.props.width,height:n.props.height};Qx(n.ctx)?t&&Tw.drawWebgl(e,t,r):Tw.draw2d(e,n.ctx,r)}catch(e){if(!Qx(n.ctx))throw e;n.handleWebGLError(e)}var o=n.getCustomCursor();"string"==typeof o&&n.canvasContainer.current&&n.canvasContainer.current.style.cursor!==o&&(n.canvasContainer.current.style.cursor=o),n.frameCount+=1}})),ER(_R(n),"handleContextLost",(function(e){e.preventDefault(),n.props.metrics.monitor("reader3-webgl-context-lost"),n.props.dispatch(Uw())})),ER(_R(n),"handleContextRestored",(function(e){n.props.metrics.monitor("reader3-webgl-context-restored"),n.buildCanvasObjectTree(),n.canvasObjectTree&&n.canvasObjectTree.requestRedraw()})),n.inPubContentRef=c.createRef(),n.canvasContainer=c.createRef(),n}return hR(r,[{key:"componentDidMount",value:function(){var e=this;this._singleTapWasHandled=!1,this._lastMoveHitlist=[],this._handlersOfCurrentGesture=[],this.frameCount=0,this.createContextAndInitializeCanvas(),this.fallbackTo2DIfViewportExceedGPULimit(),this.buildCanvasObjectTree(),this.canvasObjectTree?this.canvasObjectTree.requestRedraw():this.props.dispatch(Pw()),window.ISSUU_READER_DOCUMENTCANVAS=this;var t=this.canvasContainer.current;this.inputHandler=new Dd(t,{getScalingFactor:function(){return ra()},catchWheelEvent:function(){return e.props.fullscreenEnabled},onSingleTap:function(t,r){var n;e._singleTapWasHandled=e.bubbleEvent((function(e){return e.onSingleTap}),t,r).handled,null===(n=e.inputHandler)||void 0===n||n.requestToIntercept()},onSingleTapConfirmed:function(t,r){e.bubbleEvent((function(e){return e.onSingleTapConfirmed}),t,r,e._singleTapWasHandled),e._singleTapWasHandled=!1,e.props.dispatch(Ih())},onDoubleTap:function(t,r){e.bubbleEvent((function(e){return e.onDoubleTap}),t,r),e.props.dispatch(Dh())},onGestureStart:function(t,r){e.props.usePageFlip||e.props.dispatch(Fw());var n=OR(t),o=n.x,i=n.y;e.bubbleEvent((function(e){return e.onGestureStart}),o,i,t,r).possibleHandlers.forEach((function(t){e._handlersOfCurrentGesture.push(t)})),e.props.dispatch(Ah())},onGestureChange:function(t,r,n,o){e.releaseMouseHitlist(r);var i=OR(t),a=i.x,s=i.y;TR(e._handlersOfCurrentGesture,(function(i){var u;return!(!i.onGestureChange||!i.onGestureChange(a,s,t,r,n,o))&&(null===(u=e.inputHandler)||void 0===u||u.requestToIntercept(),!0)})),e.props.dispatch(Rh())},onGestureEnd:function(t){TR(e._handlersOfCurrentGesture,(function(e){return e.onGestureEnd&&e.onGestureEnd(t),!1})),e._handlersOfCurrentGesture.length=0,e.props.dispatch(jh())},onMouseEnter:function(t){e.props.usePageFlip||e.props.dispatch(Fw())},onMouseMove:function(t,r,n){e.updateMouseHitlist(t,r,n)},onMouseLeave:function(t){e.releaseMouseHitlist(t)}});requestAnimationFrame((function t(r){if(e.canvas){Tw.lastTick=r;var n=ra(),o=e.canvas.clientWidth*n,i=e.canvas.clientHeight*n;o!==e.props.width||i!==e.props.height?(e.props.dispatch(dl(o,i)),e.props.dispatch(Mh())):e.canvasObjectTree&&e.canvasObjectTree.hasPendingRedraw&&e.drawCanvasObjectTree(),e.updateInPubContent(),requestAnimationFrame(t)}}))}},{key:"componentWillReceiveProps",value:function(e){var t=this,r=this.props;this.props=e;var n=r.readMode!==this.props.readMode||r.usePageFlip!==this.props.usePageFlip||r.visible!==this.props.visible||r.linksLoaded!==this.props.linksLoaded;if(this.canvasObjectTree&&n){var o=this.canvasObjectTree;this.previousPosition=o.getPosition(),Tw.unmountTree(o),this.canvasObjectTree=null}r.usePageFlip!==this.props.usePageFlip&&this.createContextAndInitializeCanvas();var i,a,s=r.width!==this.props.width||r.height!==this.props.height;(s&&this.canvas&&(this.canvas.width=this.props.width,this.canvas.height=this.props.height,this.fallbackTo2DIfViewportExceedGPULimit()),this.props.usePageFlip&&(s&&this.ctx&&Qx(this.ctx)&&this.ctx.viewport(0,0,this.ctx.drawingBufferWidth,this.ctx.drawingBufferHeight),/(iPad|iPhone|iPod).*(AppleWebKit\/).*(Version\/9\.).*(Mobile\/).*(Safari\/)/i.test(navigator.userAgent)&&this.canvas&&(r.visible&&!this.props.visible&&(this.canvas.style.display=""),!r.visible&&this.props.visible&&(this.canvas.style.display="none",setTimeout((function(){t.canvas&&(t.canvas.style.display="")}),250)))),this.buildCanvasObjectTree(s),this.canvasObjectTree&&this.canvasObjectTree.requestRedraw(),1===this.props.zoomLevel)?null===(i=this.inputHandler)||void 0===i||i.enableBrowserHandlingOfVerticalPanningGestures():null===(a=this.inputHandler)||void 0===a||a.disableBrowserHandlingOfAllPanningGestures()}},{key:"shouldComponentUpdate",value:function(){return!1}},{key:"componentWillUnmount",value:function(){var e,t;this.inputHandler&&this.inputHandler.destroy(),this.renderManager&&this.renderManager.release(),this.glManager&&(this.glManager.destroy(),this.glManager=null),this.ctx=null,this._glExtOesStandardDerivatives=null,null===(e=this.canvas)||void 0===e||e.removeEventListener("webglcontextlost",this.handleContextLost,!1),null===(t=this.canvas)||void 0===t||t.removeEventListener("webglcontextrestored",this.handleContextRestored,!1)}},{key:"updateInPubContent",value:function(){var e=this.inPubContentRef.current,t=!!this.canvasObjectTree&&this.canvasObjectTree.inAnimation;null==e||e.updatePagePositions(t)}},{key:"render",value:function(){return c.createElement("div",null,c.createElement("div",{ref:this.canvasContainer,style:{width:"100%",height:"100%",position:"absolute"}}),c.createElement(JC,{ref:this.inPubContentRef,metrics:this.props.metrics}))}}]),r}(c.Component);ER(xR,"displayName","Canvas");var kR=function(e){return{height:e.size.height,width:e.size.width,readMode:xs(e),visible:!e.visibility.supported||!e.visibility.isHidden,usePageFlip:Gw(e),fullscreenEnabled:ws(e),documentPages:qa(e),dropdownOpen:zs(e),linksLoaded:Jw(e),zoomLevel:e.reader.zoomLevel,isIdle:e.reader.isIdle}},SR=function(e){return c.createElement(Qr.Consumer,null,(function(t){return c.createElement(xR,uR({},e,{store:t.store}))}))},PR=$n(kR,null,null,{pure:!1})(SR),CR='\n    <svg width="100%" height="100%" viewBox="-4 -4 30 52">\n        <defs>\n        </defs>\n        <g fill="none" class="navigation-arrow__shadow" stroke="#000" stroke-width="4" transform="translate(9 22)">\n            <path d="M2.65002234,43.5538147 C1.78774217,42.6020596 1.78774217,41.0560678 2.65002234,40.1030925 L17.6687127,23.4986273 L2.64671013,6.89660245 C1.78442996,5.94362719 1.78442996,4.39885551 2.64671013,3.44588025 C3.5089903,2.49290499 4.90674535,2.49290499 5.76902553,3.44588025 L22.3532899,21.7732662 C23.21557,22.7250212 23.21557,24.2697929 22.3532899,25.2239884 L5.77233774,43.5538147 C5.34174969,44.0309124 4.77646487,44.2688512 4.21118004,44.2688512 C3.64589522,44.2688512 3.08171447,44.0309124 2.65002234,43.5538147 Z" transform="translate(-10.5, -23.5)"/>\n        </g>\n        <g fill="white" class="navigation-arrow__path" transform="translate(9 22)">\n            <path d="M2.65002234,43.5538147 C1.78774217,42.6020596 1.78774217,41.0560678 2.65002234,40.1030925 L17.6687127,23.4986273 L2.64671013,6.89660245 C1.78442996,5.94362719 1.78442996,4.39885551 2.64671013,3.44588025 C3.5089903,2.49290499 4.90674535,2.49290499 5.76902553,3.44588025 L22.3532899,21.7732662 C23.21557,22.7250212 23.21557,24.2697929 22.3532899,25.2239884 L5.77233774,43.5538147 C5.34174969,44.0309124 4.77646487,44.2688512 4.21118004,44.2688512 C3.64589522,44.2688512 3.08171447,44.0309124 2.65002234,43.5538147 Z" transform="translate(-10.5, -23.5)"/>\n        </g>\n    </svg>\n';function AR(e){return(AR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function RR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function IR(e,t,r){return t&&jR(e.prototype,t),r&&jR(e,r),e}function DR(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&MR(e,t)}function MR(e,t){return(MR=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function LR(e){var t=FR();return function(){var r,n=UR(e);if(t){var o=UR(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return NR(this,r)}}function NR(e,t){return!t||"object"!==AR(t)&&"function"!=typeof t?BR(e):t}function BR(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FR(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function UR(e){return(UR=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function WR(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var zR=function(e){DR(r,e);var t=LR(r);function r(){return RR(this,r),t.apply(this,arguments)}return IR(r,[{key:"render",value:function(){return c.createElement("div",null,c.createElement(Jf,{className:"navigation-arrow navigation-arrow--left",onClick:this.props.onClickLeftArrow,isHidden:!this.props.leftArrowVisible,id:"ird3-button-previous",labelProps:{"aria-label":"previous page"},content:CR}),c.createElement(Jf,{className:"navigation-arrow navigation-arrow--right",onClick:this.props.onClickRightArrow,isHidden:!this.props.rightArrowVisible,id:"ird3-button-next",labelProps:{"aria-label":"next page"},content:CR}))}}]),r}(c.Component);function HR(e){return(HR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function VR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function qR(e,t,r){return t&&GR(e.prototype,t),r&&GR(e,r),e}function $R(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&KR(e,t)}function KR(e,t){return(KR=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function YR(e){var t=JR();return function(){var r,n=QR(e);if(t){var o=QR(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return XR(this,r)}}function XR(e,t){return!t||"object"!==HR(t)&&"function"!=typeof t?ZR(e):t}function ZR(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JR(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function QR(e){return(QR=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ej(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}WR(zR,"displayName","NavigationArrows");var tj=function(e){$R(r,e);var t=YR(r);function r(e){var n;return VR(this,r),ej(ZR(n=t.call(this,e)),"inputHandler",void 0),ej(ZR(n),"buttonContainer",void 0),ej(ZR(n),"onClickHandler",(function(){n.props.featureTracker.usage(ny.BUTTON_CTA_OVERLAY),n.props.dispatch(Th()),n.props.trackOnceMixpanel("reader3_interaction_fullscreen_from_embed"),n.props.toggleFullscreen()})),ej(ZR(n),"trackOpportunities",(function(){n.props.visible&&n.props.featureTracker.opportunity(ny.BUTTON_CTA_OVERLAY)})),n.buttonContainer=c.createRef(),n}return qR(r,[{key:"componentDidMount",value:function(){var e=this,t=this.buttonContainer.current;this.inputHandler=new Dd(t,{onMouseEnter:function(t){e.props.visible&&e.props.dispatch(wc(!0))},onMouseLeave:function(t){e.props.dispatch(wc(!1))}}),this.trackOpportunities()}},{key:"componentDidUpdate",value:function(){this.trackOpportunities()}},{key:"render",value:function(){var e=this.props.fullscreenEnabled?Oy:Py,t=this.props.fullscreenEnabled?"Exit":"Fullscreen",r="cta-overlay ".concat(this.props.visible?"":"cta-overlay--hidden");return c.createElement("div",{ref:this.buttonContainer,className:r,"data-tooltip":t,onClick:this.onClickHandler},c.createElement(Jf,{id:"ird3-button-fullscreen",className:"svg-btn cta-overlay__button",content:e}))}}]),r}(c.Component);function rj(e){return(rj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ij(e,t,r){return t&&oj(e.prototype,t),r&&oj(e,r),e}function aj(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sj(e,t)}function sj(e,t){return(sj=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function uj(e){var t=fj();return function(){var r,n=pj(e);if(t){var o=pj(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return cj(this,r)}}function cj(e,t){return!t||"object"!==rj(t)&&"function"!=typeof t?lj(e):t}function lj(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fj(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function pj(e){return(pj=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dj(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}ej(tj,"displayName","CTAOverlay");var hj=function(e){aj(r,e);var t=uj(r);function r(){var e;nj(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return dj(lj(e=t.call.apply(t,[this].concat(o))),"onCloseButtonClick",(function(){e.props.dispatch(_g()),e.props.dispatch(Th())})),dj(lj(e),"onBackgroundClick",(function(){e.props.dispatch(_g())})),e}return ij(r,[{key:"render",value:function(){return c.createElement("div",{className:Bf()("more-content-container",{"more-content-container--hidden":!this.props.visible,"more-content-container--overlay":this.props.showAsOverlay})},this.props.children,c.createElement("button",{type:"button",className:Bf()("more-content-container__close-button",{"more-content-container__close-button--left":ta.isMobile()}),onClick:this.onCloseButtonClick,dangerouslySetInnerHTML:{__html:rP}}),!this.props.showAsOverlay&&c.createElement("div",{className:"more-content-container__clickable-background",onClick:this.onBackgroundClick}))}}]),r}(c.Component);dj(hj,"displayName","MoreContentContainer");r(140);var yj,mj=r(282),vj=r.n(mj);function gj(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.thousandsSeparator,n=void 0===r?"":r,o=t.precision,i=void 0===o?2:o,a=t.decimalSeparator,s=void 0===a?".":a,u=t.currencySymbol,c=void 0===u?"$":u,l=t.suffix,f=void 0===l?"USD":l,p=t.showExact,d=void 0!==p&&p,h=t.showShort,y=void 0!==h&&h,m=t.hideCurrency,v=void 0!==m&&m,g=e;!isNaN(parseInt(String(e),10))&&e||(g=0);var _=i+1,b=vj()("".concat(g),_,"0"),w=b.slice(b.length-i),E=0!==parseInt(w,10),O=i&&(d||!d&&E),T=b.slice(0,b.length-i).split("").reduce((function(e,t,r,o){var i=o.length-r-1;return 0!==i&&i%3==0?"".concat(e).concat(t).concat(n):"".concat(e).concat(t)}),""),x=y&&!v?c:"",k=y||v?"":" ".concat(f);return"".concat(x).concat(T).concat(O?s:"").concat(O?w:"").trim()+"".concat(k)}function _j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function bj(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_j(Object(r),!0).forEach((function(t){wj(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function wj(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}!function(e){e[e.USD=0]="USD",e[e.EUR=1]="EUR",e[e.DKK=2]="DKK",e[e.AUD=3]="AUD",e[e.CAD=4]="CAD",e[e.GBP=5]="GBP"}(yj||(yj={}));var Ej={USD:{symbol:"$",precision:2},EUR:{symbol:"€",precision:2},DKK:{symbol:"kr",precision:2},AUD:{symbol:"$",precision:2},CAD:{symbol:"$",precision:2},GBP:{symbol:"£",precision:2}},Oj=function(e){return-1!==Object.keys(yj).indexOf(e)},Tj=function(e){var t=e&&Oj(e)?e:"USD";return bj(bj({},Ej[t]||Ej.USD),{},{name:t})};function xj(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Tj(t.currency);return gj(e,{currencySymbol:r.symbol,precision:r.precision,suffix:r.name,showExact:t.showExact,showShort:t.showShort,hideCurrency:t.hideCurrency})}function kj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Sj(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?kj(Object(r),!0).forEach((function(t){Pj(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kj(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Pj(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cj(e,t){if(null==e)return{};var r,n,o=Aj(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function Aj(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}var Rj=function(e){var t=e.children;return c.createElement("div",{className:"po-Overlay ixu-cascading-fluid-typography"},c.createElement("div",{className:"po-Overlay-content"},t))},jj=function(e){var t=e.children;return c.createElement("div",{className:"po-Content"},t)},Ij=function(e){var t=["po-Button"];e.isOutlined&&t.push(" po-Button--outline");var r=t.join(" ");return"href"in e&&e.href?c.createElement("a",Object.assign({},e,{className:r}),e.children):c.createElement("button",Object.assign({},e,{className:r}),e.children)},Dj=function(e){var t=e.children;return c.createElement("div",{className:"po-ButtonGroup"},t)},Mj=function(e){var t=e.url,r=e.title;return c.createElement("div",{className:"po-Cover"},c.createElement("div",{className:"po-Cover-wrapper"},c.createElement("img",{src:t,alt:"Cover of ".concat(r)})))},Lj=function(e){var t=e.avatarUrl,r=e.displayName,n=e.profileUrl;return c.createElement("div",{className:"po-Publisher"},c.createElement("div",{className:"po-Publisher-image"},c.createElement("img",{src:t,alt:"Avatar of ".concat(r)})),c.createElement("div",{className:"po-Publisher-name"},"Published by ",c.createElement("br",null),c.createElement("strong",null,c.createElement(Fj,{out:!0,href:n},r))))},Nj=function(e){var t=e.children;return c.createElement("div",{className:"po-Heading"},t)},Bj=function(e){var t=e.children;return c.createElement("div",{className:"po-Paragraph"},t)},Fj=function(e){var t=e.children,r=e.out,n=e.href,o=Sj({},Cj(e,["children","out","href"]));return r&&(o=Sj(Sj({},o),{},{target:"_blank",rel:"noopener noreferrer"})),c.createElement("a",Object.assign({className:"po-Link",href:n},o),t)},Uj=function(e){var t,r,n=e.hostName,o=e.priceAmount,i=e.priceCurrency,a=e.publicationName,s=e.publisherName,u=e.isNotAvailable,l=e.referrer,f=void 0===l?"reader.button":l;return t=u?"Not available":o?"Buy ".concat(xj(o,{currency:i})):"Buy",r=u?"":a?"https://".concat(n,"/store/publishers/").concat(s,"/issues/").concat(a,"?r=").concat(f):"#",c.createElement(Ij,{href:r,target:a?"_blank":"",disabled:!!u},t)},Wj=Uj,zj=function(e){var t=e.hostName,r=e.isNotAvailable,n=e.onKeepReading,o=e.priceAmount,i=e.priceCurrency,a=e.publicationCoverUrl,s=e.publicationName,u=e.publicationTitle,l=e.publisherDisplayName,f=e.publisherName,p=e.publisherProfileImageUrl,d=e.publisherProfileUrl,h=e.showKeepReading;return c.createElement(Rj,null,c.createElement(Mj,{url:a,title:u}),c.createElement(jj,null,c.createElement(Nj,null,!r&&c.createElement("div",null,"Unlock full access to "),c.createElement("strong",null,u)),r&&c.createElement(Bj,null,c.createElement("span",null,"This publication is currently")," ",c.createElement("span",null,"not available for purchase.")),c.createElement(Dj,null,c.createElement(Wj,{hostName:t,publisherName:f,publicationName:s,priceAmount:o,priceCurrency:i,isNotAvailable:r,referrer:"reader.overlay"}),h&&c.createElement(Ij,{onClick:n,isOutlined:!0},"Keep reading")),c.createElement(Lj,{avatarUrl:p,displayName:l,profileUrl:d}),c.createElement(Bj,null,c.createElement("span",null,"Already bought this?")," ",c.createElement(Fj,{out:!0,href:"https://".concat(t,"/home/purchases")},"Go to your purchases"))))},Hj=zj,Vj=function(e){var t=e.hostName,r=e.publicationCoverUrl,n=e.publicationTitle,o=e.readPurchasedPath;return c.createElement(Rj,null,c.createElement(Mj,{url:r,title:n}),c.createElement(jj,null,c.createElement(Nj,null,"You already own a copy of ",c.createElement("br",null),c.createElement("strong",null,n)),c.createElement(Dj,null,c.createElement(Ij,{href:"https://".concat(t).concat(o),target:"_top"},"Read Full Edition")),c.createElement(Bj,null,c.createElement("span",null,"See all your purchases on")," ",c.createElement(Fj,{out:!0,href:"https://".concat(t,"/home/purchases")},"your Purchases Page"))))},Gj=Vj;function qj(e){var t=e.isNotAvailable,r=e.isOverlayVisible,n=e.isPreview,o=e.isPurchased,i=e.hostName,a=e.onKeepReading,s=e.paywallDataLoaded,u=e.priceAmount,c=e.priceCurrency,f=e.publicationCoverUrl,p=e.publicationName,d=e.publicationTitle,h=e.publisherDisplayName,y=e.publisherName,m=e.publisherProfileImageUrl,v=e.publisherProfileUrl,g=e.readPurchasedPath,_=e.showKeepReading;return o&&"string"==typeof g?l.a.createElement("div",{className:"paywall-read-purchased"},l.a.createElement(Gj,{hostName:i,publicationCoverUrl:f,publicationTitle:d,readPurchasedPath:g})):n?l.a.createElement("div",null,!r&&s&&l.a.createElement("div",{className:"paywall-btn--header"},l.a.createElement(Wj,{hostName:i,isNotAvailable:t,priceAmount:u,priceCurrency:c,publicationName:p,publisherName:y})),l.a.createElement("div",{className:Bf()("paywall-overlay",{"is-hidden":!r})},l.a.createElement(Hj,{hostName:i,isNotAvailable:t,onKeepReading:a,priceAmount:u,priceCurrency:c,publicationCoverUrl:f,publicationName:p,publicationTitle:d,publisherDisplayName:h,publisherName:y,publisherProfileImageUrl:m,publisherProfileUrl:v,showKeepReading:_}))):null}var $j=["LOADED","ERROR"],Kj=function(e){var t=Ka(e),r=e.paywall,n=Fo(e);return{isNotAvailable:r.isNotAvailable,isOverlayVisible:Xs(e),isPreview:t&&!r.isPaid,isPurchased:t&&r.isPaid,hostName:xm(e).main.replace(/^(?:https?:)?\/\/(.*)/,"$1"),paywallDataLoaded:$j.includes(r.status),priceAmount:r.publicationPriceAmount,priceCurrency:r.publicationPriceCurrency,publicationCoverUrl:n.coverUri,publicationName:n.documentName,publicationTitle:n.title,publisherDisplayName:n.userDisplayName,publisherName:n.username,publisherProfileImageUrl:n.userProfileImageUri,publisherProfileUrl:n.userProfileUri,readPurchasedPath:r.readPurchasedPath,showKeepReading:Ks(e)>0}},Yj=function(e){return{onKeepReading:$r(Tc,e)}},Xj=$n(Kj,Yj)(qj),Zj='\n<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">\n  <path d="M6.446 8L.322 14.124c-.43.43-.43 1.126 0 1.555.215.213.496.32.777.32.28 0 .562-.107.776-.32L8 9.554l6.124 6.124c.214.213.496.32.777.32.282 0 .563-.107.778-.32.43-.43.43-1.126 0-1.556L9.554 8l6.124-6.124c.43-.43.43-1.125 0-1.554-.43-.43-1.125-.43-1.554 0L8 6.446 1.876.322c-.43-.43-1.125-.43-1.554 0-.43.43-.43 1.125 0 1.554L6.446 8z" fill="#FFFFFF" fill-rule="evenodd"/>\n</svg>\n',Jj='\n<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">\n  <path d="M4.948 16c-.243 0-.484-.092-.67-.275-.37-.367-.37-.963 0-1.33L10.716 8 4.277 1.604c-.37-.368-.37-.963 0-1.33.37-.367.97-.367 1.338 0l7.108 7.06c.37.366.37.962 0 1.33l-7.106 7.06c-.185.183-.427.275-.67.275" fill="#FFFFFF" fill-rule="evenodd"/>\n</svg>\n',Qj='\n<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">\n  <path d="M12.052 16c.243 0 .484-.092.67-.275.37-.367.37-.963 0-1.33L6.284 8l6.438-6.395c.37-.368.37-.963 0-1.33-.37-.367-.97-.367-1.338 0l-7.108 7.06c-.37.366-.37.962 0 1.33l7.106 7.06c.185.183.427.275.67.275" fill="#FFFFFF" fill-rule="evenodd"/>\n</svg>\n';function eI(e){return(eI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function nI(e,t,r){return t&&rI(e.prototype,t),r&&rI(e,r),e}function oI(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&iI(e,t)}function iI(e,t){return(iI=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function aI(e){var t=cI();return function(){var r,n=lI(e);if(t){var o=lI(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return sI(this,r)}}function sI(e,t){return!t||"object"!==eI(t)&&"function"!=typeof t?uI(e):t}function uI(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cI(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function lI(e){return(lI=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fI(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var pI=71,dI=34,hI=33,yI=function(e){oI(r,e);var t=aI(r);function r(e){var n;return tI(this,r),fI(uI(n=t.call(this,e)),"input",void 0),fI(uI(n),"handleKeyDown",(function(e){var t="MacIntel"===window.navigator.platform;if(e.keyCode===pI&&t&&e.metaKey)e.preventDefault(),e.shiftKey?n.previous():n.next();else if(!t&&e.ctrlKey)e.keyCode===dI?(e.preventDefault(),n.next()):e.keyCode===hI&&(e.preventDefault(),n.previous());else if("Enter"===e.key){if(e.preventDefault(),n.props.isNewQuery(n.state.inputFieldValue)?(n.state.timerId&&clearTimeout(n.state.timerId),n.search(n.state.inputFieldValue)):e.shiftKey?n.previous():n.next(),n.props.isMobile)e.target.blur()}})),fI(uI(n),"handleInputChange",(function(e){n.state.timerId&&clearTimeout(n.state.timerId);var t=null;n.props.enableIncrementalSearch&&(t=setTimeout((function(){n.search(n.state.inputFieldValue)}),500)),n.setState({timerId:t,inputFieldValue:e.target.value})})),fI(uI(n),"handleInputBlur",(function(e){n.state.inputFieldValue||(n.props.featureTracker.usage("FIND_CLOSE_BLUR"),n.props.onCloseButtonClick())})),fI(uI(n),"next",(function(){n.props.featureTracker.usage("FIND_NEXT"),n.props.onNextButtonClick()})),fI(uI(n),"previous",(function(){n.props.featureTracker.usage("FIND_PREV"),n.props.onPreviousButtonClick()})),fI(uI(n),"close",(function(){n.props.featureTracker.usage("FIND_CLOSE"),n.props.onCloseButtonClick()})),n.state={inputFieldValue:"",timerId:null},n.input=c.createRef(),n}return nI(r,[{key:"handleVisibilityChanged",value:function(e,t){var r;if(!e&&t)null===(r=this.input.current)||void 0===r||r.focus(),this.props.featureTracker.opportunity("FIND_QUERY"),this.props.featureTracker.opportunity("FIND_NEXT"),this.props.featureTracker.opportunity("FIND_PREV"),this.props.featureTracker.opportunity("FIND_CLOSE"),this.props.featureTracker.opportunity("FIND_CLOSE_BLUR");else if(!t&&e){var n;null===(n=this.input.current)||void 0===n||n.blur()}}},{key:"componentDidMount",value:function(){this.handleVisibilityChanged(!1,this.props.isVisible)}},{key:"componentDidUpdate",value:function(e,t){this.handleVisibilityChanged(e.isVisible,this.props.isVisible)}},{key:"search",value:function(e){this.props.featureTracker.usage("FIND_QUERY"),this.props.trackOnceMixpanel("reader3_interaction_find_query"),this.props.onSearch(e,this.props.currentPage)}},{key:"render",value:function(){var e=this.props,t=e.isVisible,r=e.currentResult,n=e.numberOfResults,o=e.isMobile,i=e.Spinner,a=e.loadingState,s=e.onRetryClick,u=this.state.inputFieldValue;return c.createElement("div",{className:Bf()("find-widget",{"find-widget--hidden":!t})},c.createElement("button",{className:"find-widget__button find-widget__close-button",type:"button","aria-label":"Close",dangerouslySetInnerHTML:{__html:Zj},onClick:this.close}),c.createElement("form",{className:"find-widget__input-wrapper",action:"#"},c.createElement("input",{className:Bf()("find-widget__input",{"find-widget__input--large-font":o}),ref:this.input,type:"search","aria-label":"Find in publication...",onKeyDown:this.handleKeyDown,placeholder:"Find in publication...",value:u,onChange:this.handleInputChange,onBlur:this.handleInputBlur}),c.createElement("div",{className:"find-widget__results-wrapper"},a===Zo&&"number"==typeof n&&c.createElement("span",{className:"find-widget__results"},r," of ",n),a===Jo&&c.createElement("button",{type:"button",onClick:s,className:"find-widget__retry-button"},"retry"),a===Xo&&c.createElement(i,{size:Ef}))),c.createElement("button",{className:Bf()("find-widget__button","find-widget__previous-button",{"find-widget__button--disabled":!n}),dangerouslySetInnerHTML:{__html:Qj},"aria-label":"Find previous",type:"button",onKeyDown:this.handleKeyDown,onClick:this.previous,disabled:!n}),c.createElement("button",{className:Bf()("find-widget__button","find-widget__next-button",{"find-widget__button--disabled":!n}),dangerouslySetInnerHTML:{__html:Jj},"aria-label":"Find next",type:"button",onKeyDown:this.handleKeyDown,onClick:this.next,disabled:!n}),a===Jo&&c.createElement("span",{className:"find-widget__error-message"},"Oops, something went wrong"))}}]),r}(c.Component);function mI(){return function(e,t){var r=t();e(Ri(gi(r),r.reader.currentPageNumber))}}var vI=function(e){return{isMobile:ta.isMobile(),isVisible:vi(e),currentResult:Ei(e),numberOfResults:wi(e),currentPage:e.reader.currentPageNumber,nextResultIdx:Ti(e),previousResultIdx:xi(e),loadingState:_i(e),isNewQuery:Pi(e),Spinner:Of}},gI={onCloseButtonClick:pi,onSearch:Ri,setCurrentResultIdx:ji,triggerLoadTextInfo:mI},_I=function(e,t,r){return Object.assign({},r,e,t,{onNextButtonClick:function(){return t.setCurrentResultIdx(e.nextResultIdx)},onPreviousButtonClick:function(){return t.setCurrentResultIdx(e.previousResultIdx)},onRetryClick:t.triggerLoadTextInfo})},bI=$n(vI,gI,_I)(yI);function wI(e){return(wI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function EI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function TI(e,t,r){return t&&OI(e.prototype,t),r&&OI(e,r),e}function xI(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kI(e,t)}function kI(e,t){return(kI=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function SI(e){var t=AI();return function(){var r,n=RI(e);if(t){var o=RI(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return PI(this,r)}}function PI(e,t){return!t||"object"!==wI(t)&&"function"!=typeof t?CI(e):t}function CI(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AI(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function RI(e){return(RI=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jI(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var II=function(e){xI(r,e);var t=SI(r);function r(){var e;EI(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return jI(CI(e=t.call.apply(t,[this].concat(o))),"onOpenAnywayHandler",(function(){window.open(e.props.videoUrl,"_blank"),e.props.dispatch(Th())})),jI(CI(e),"onBackgroundClick",(function(){e.props.dispatch(Mc())})),jI(CI(e),"onCloseButtonClick",(function(){e.props.dispatch(Mc()),e.props.dispatch(Th())})),jI(CI(e),"getVideoEmbedUrl",(function(){switch(e.props.service){case"youtube":var t=new je.a(e.props.videoUrl),r=["autoplay=1"];return["rel","start","end","loop"].forEach((function(e){t.hasQueryParam(e)&&r.push("".concat(e,"=").concat(t.getQueryParamValue(e)))})),"https://www.youtube.com/embed/".concat(e.props.videoId,"?").concat(r.join("&"));case"vimeo":return"https://player.vimeo.com/video/".concat(e.props.videoId,"?autoplay=1");default:return""}})),jI(CI(e),"renderContent",(function(){var t=e.props,r=t.videoInfo,n=t.service;if(r===Ic.SAFE)return c.createElement("div",{className:"video-overlay__content"},c.createElement("iframe",{className:"video-overlay__player",src:e.getVideoEmbedUrl(),allowFullScreen:!0}),c.createElement(Jf,{className:"svg-btn video-overlay__close-button",content:rP,onClick:e.onCloseButtonClick}));switch(r){case Ic.EXPLICIT:return c.createElement("div",{className:"video-overlay__error-content"},c.createElement(YP,{onSubmit:function(){return e.onOpenAnywayHandler()},onClose:function(){return e.onCloseButtonClick()},service:n}));case Ic.UNKNOWN:return c.createElement("div",{className:"video-overlay__content"},c.createElement("div",{className:"video-overlay__loading"},c.createElement(Of,null)),c.createElement(Jf,{className:"svg-btn video-overlay__close-button",content:rP,onClick:e.onCloseButtonClick}));case Ic.ERROR:return c.createElement("div",{className:"video-overlay__error-content"},c.createElement(NP,{onSubmit:function(){return e.onOpenAnywayHandler()},onClose:function(){return e.onCloseButtonClick()},service:n}));default:throw new Error("The video info is not a valid value: ".concat(r))}})),e}return TI(r,[{key:"componentDidMount",value:function(){var e=this.props,t=e.service,r=e.videoId;e.videoInfo===Ic.UNKNOWN&&this.props.dispatch(Bc(t,r,this.props.metrics))}},{key:"render",value:function(){return c.createElement("div",{className:"video-overlay"},c.createElement("div",{className:"video-overlay__background",onClick:this.onBackgroundClick}),this.renderContent())}}]),r}(c.Component);jI(II,"displayName","VideoOverlay");var DI=function(e){return{service:e.videoOverlay.service||"",videoId:e.videoOverlay.videoId||"",videoInfo:e.videoOverlay.videoInfo,videoUrl:e.videoOverlay.videoUrl||""}},MI=$n(DI,void 0,void 0,{pure:!0})(II),LI=function(e){return e.videoOverlay.showOverlay},NI=r(84),BI="#fff",FI="12px",UI='"Open Sans", Arial, sans-serif',WI="700",zI='\n  <?xml version="1.0" ?>\n  <!DOCTYPE svg  PUBLIC \'-//W3C//DTD SVG 1.1//EN\'  \'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\'>\n  <svg width="24" height="24" version="1.1" viewBox="0 0 512 512" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <g>\n      <g>\n        <path id="hand" d="M396.3,274.7c0-0.6-0.1-1.2-0.3-1.8c-4.5-19.5-17.5-31.7-33.9-31.7c-4.8,0-9.4,1-13.6,2.8     c-4.5-13.6-17.3-23.5-32.4-23.5c-5.6,0-10.9,1.4-15.5,3.8c-5.6-11.2-17.2-18.8-30.5-18.8c-4.2,0-8.2,0.8-11.9,2.1v-41.6     c0-18.8-15.3-34.2-34.2-34.2c-18.8,0-34.2,15.3-34.2,34.2v142.6l-12.4-21.5c-4.6-8.3-11.9-14-20.7-16.2     c-8.5-2.1-17.6-0.6-25.1,4.1c-12.6,8-16.6,25.9-10.3,45.4c0,0.1,0.1,0.2,0.1,0.3c1.3,3.9,33.4,94.8,71.6,132.9     c2.2,2.2,5,3.3,7.9,3.3c2.9,0,5.7-1.1,7.9-3.3c4.4-4.4,4.3-11.4,0-15.8c-34-33.9-64.9-120.6-66.3-124.4     c-2.8-8.8-2.3-17.4,1.1-19.6c2.3-1.4,5-1.9,7.6-1.3c2.8,0.7,5,2.6,6.7,5.6l33.3,57.7c2.5,4.4,7.7,6.5,12.5,5.2     c4.9-1.3,8.3-5.7,8.3-10.8V166.1c0-6.5,5.3-11.9,11.9-11.9c6.5,0,11.9,5.3,11.9,11.9v127.7c0,6.2,5,11.1,11.1,11.1     c6.2,0,11.1-5,11.1-11.1v-55.1c0-0.1,0.1-0.2,0.1-0.3c0.6-6,5.7-10.6,11.8-10.6c6.5,0,11.9,5.3,11.9,11.9v15.1v11.9v31.2     c0,6.2,5,11.1,11.1,11.1c6.2,0,11.1-5,11.1-11.1v-31.2v-11.9c0-6.5,5.3-11.9,11.9-11.9c6.5,0,11.9,5.3,11.9,11.9v14.9     c0,0.7,0.1,1.4,0.2,2.1c-0.1,1.2-0.2,2.4-0.2,3.7v22.5c0,6.2,5,11.1,11.1,11.1s11.1-5,11.1-11.1v-22.5c0-6.5,5.3-11.9,11.9-11.9     c7.5,0,10.8,8.9,11.9,13.5c0.6,10.9,5.7,112.3-13.3,158.9c-2.3,5.7,0.4,12.2,6.1,14.5c1.4,0.6,2.8,0.8,4.2,0.8     c4.4,0,8.6-2.6,10.3-6.9C403.3,390.6,396.6,279.4,396.3,274.7z"/>\n        <path id="tap-first" d="M278.4,192.2c5.9,1.7,12.1-1.6,13.9-7.5c1.9-6.5,2.9-13.3,2.9-20.2c0-39.2-31.9-71.2-71.2-71.2     c-39.2,0-71.2,31.9-71.2,71.2c0,8.7,1.5,17.2,4.6,25.2c1.7,4.5,5.9,7.2,10.4,7.2c1.3,0,2.6-0.2,3.9-0.7c5.8-2.2,8.7-8.6,6.5-14.4     c-2.1-5.5-3.2-11.3-3.2-17.3c0-26.9,21.9-48.9,48.9-48.9c26.9,0,48.9,21.9,48.9,48.9c0,4.7-0.7,9.4-2,13.9     C269.1,184.3,272.5,190.5,278.4,192.2z"/>\n        <path id="tap-second" d="M136.5,220.5c1.7,0,3.5-0.4,5.1-1.2c5.5-2.8,7.6-9.5,4.8-15c-6.4-12.4-9.6-25.7-9.6-39.8     c0-48.1,39.1-87.2,87.2-87.2c48.1,0,87.2,39.1,87.2,87.2c0,7.6-1,15.1-2.9,22.4c-1.6,6,2,12.1,7.9,13.6c6,1.6,12.1-2,13.6-7.9     c2.4-9.1,3.6-18.5,3.6-28.1c0-60.4-49.1-109.5-109.5-109.5c-60.4,0-109.5,49.1-109.5,109.5c0,17.3,4.2,34.6,12,49.9     C128.5,218.3,132.4,220.5,136.5,220.5z"/>\n      </g>\n    </g>\n    </svg>\n';function HI(e,t){return KI(e)||$I(e,t)||GI(e,t)||VI()}function VI(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function GI(e,t){if(e){if("string"==typeof e)return qI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?qI(e,t):void 0}}function qI(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $I(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}function KI(e){if(Array.isArray(e))return e}var YI="SMARTZOOM_TUTORIAL_SEEN",XI=Object(NI.c)(["from{opacity:0;top:calc(50% - 115px);}to{opacity:0.8;top:calc(50% - 100px);}"]),ZI=Object(NI.c)(["from{opacity:0.8;top:calc(50% - 100px);}to{opacity:0;top:calc(50% - 85px);}"]),JI=NI.b.div.withConfig({componentId:"sc-9lvq2x-0"})(["position:absolute;max-width:100px;left:calc(50% - 60px);background-color:#353535;color:",";font-family:",";font-size:",";line-height:1.2;text-align:center;padding:12px;display:none;border-radius:6px;pointer-events:none;",""],BI,UI,FI,(function(e){var t=e.uiState;return"FADE_IN"===t?Object(NI.a)(["display:block;animation:"," 0.25s ease-out forwards;"],XI):"FADE_OUT"===t?Object(NI.a)(["display:block;animation:"," 0.2s ease-in forwards;"],ZI):void 0})),QI=NI.b.span.withConfig({componentId:"sc-9lvq2x-1"})(["font-weight:",";"],WI),eD=Object(NI.c)(["from{opacity:0;}to{opacity:1;}"]),tD=NI.b.div.withConfig({componentId:"sc-9lvq2x-2"})(["svg{width:24px;height:24px;path{stroke:",";fill:",";}#tap-first{opacity:0;animation:"," 0.3s ease-in 0.25s forwards;}#tap-second{opacity:0;animation:"," 0.15s ease-in 0.55s forwards;}}"],BI,BI,eD,eD);function rD(){try{return"true"===window.localStorage.getItem(YI)}catch(e){return!1}}function nD(){try{window.localStorage.setItem(YI,"true")}catch(e){}}function oD(e){var t=c.useRef();return c.useEffect((function(){t.current=e})),t.current}function iD(e,t,r){return r?"VISIBLE"===e?"FADE_IN":"HIDDEN_FINAL"===e?"FADE_OUT":"HIDDEN":"HIDDEN"}var aD=function(e){var t=e.visibility,r=e.setVisibility;c.useEffect((function(){"HIDDEN_INITIAL"===t&&r("HIDDEN_READY")}),[t]);var n=HI(c.useState(rD()),2),o=n[0],i=n[1],a=HI(c.useState(!o&&"HIDDEN_INITIAL"===t),1)[0];c.useEffect((function(){"VISIBLE"!==t||o||(nD(),i(!0))}),[t,o]);var s=c.useCallback((function(){if("VISIBLE"===t||"HIDDEN_READY"===t){var e="VISIBLE"===t;return setTimeout((function(){r(e?"HIDDEN_FINAL":"VISIBLE")}),e?2e3:1e3)}}),[t]);c.useEffect((function(){if("HIDDEN_INITIAL"!==t&&"HIDDEN_FINAL"!==t){if("HIDDEN_RESET"!==t){var e=s();return function(){"number"==typeof e&&clearTimeout(e)}}r("HIDDEN_READY")}}),[s]);oD(t);var u=iD(t,0,a);return c.createElement(JI,{uiState:u},c.createElement(tD,{dangerouslySetInnerHTML:{__html:zI}}),c.createElement(QI,null,"Double tap on text to zoom"))},sD=$n((function(e){return{visibility:e.reader.smartzoomTutorialVisibility}}),(function(e){return{setVisibility:function(t){e({type:"SET_SMARTZOOM_TUTORIAL_VISIBILITY",visibility:t})}}}))(aD),uD=jo(ms,Rs,Hs,Vs,Wg,(function(e){return e.reader.zoomLevel}),(function(e,t,r,n,o,i){return!!e&&((!o||!r)&&(t||n||1===i))})),cD=jo(uD,As,Ss,(function(e,t,r){return e&&!t&&r>-1})),lD=jo(uD,Cs,Ss,(function(e,t,r){return e&&!t&&r>-1}));function fD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function dD(e,t,r){return t&&pD(e.prototype,t),r&&pD(e,r),e}function hD(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var yD=function(){function e(t,r){var n=this;fD(this,e),hD(this,"target",void 0),hD(this,"callback",void 0),hD(this,"_eventHandler",(function(e){("wheel"!==e.type||e.ctrlKey)&&n.callback()})),this.target=t,this.callback=r,this.target.addEventListener("mousedown",this._eventHandler,!0),this.target.addEventListener("touchstart",this._eventHandler,!0),this.target.addEventListener("pointerdown",this._eventHandler,!0),this.target.addEventListener("MSPointerDown",this._eventHandler,!0),this.target.addEventListener("gesturestart",this._eventHandler,!0),this.target.addEventListener("wheel",this._eventHandler,!0),this.target.ownerDocument.addEventListener("keydown",this._eventHandler,!0)}return dD(e,[{key:"destroy",value:function(){this.target.removeEventListener("mousedown",this._eventHandler,!0),this.target.removeEventListener("touchstart",this._eventHandler,!0),this.target.removeEventListener("pointerdown",this._eventHandler,!0),this.target.removeEventListener("MSPointerDown",this._eventHandler,!0),this.target.removeEventListener("gesturestart",this._eventHandler,!0),this.target.removeEventListener("wheel",this._eventHandler,!0),this.target.ownerDocument.removeEventListener("keydown",this._eventHandler,!0)}}]),e}(),mD=function(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),t},vD=mD;function gD(e){return(gD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function bD(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_D(Object(r),!0).forEach((function(t){ND(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_D(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function wD(e,t){return kD(e)||xD(e,t)||OD(e,t)||ED()}function ED(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function OD(e,t){if(e){if("string"==typeof e)return TD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?TD(e,t):void 0}}function TD(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xD(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}function kD(e){if(Array.isArray(e))return e}function SD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function CD(e,t,r){return t&&PD(e.prototype,t),r&&PD(e,r),e}function AD(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&RD(e,t)}function RD(e,t){return(RD=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function jD(e){var t=MD();return function(){var r,n=LD(e);if(t){var o=LD(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ID(this,r)}}function ID(e,t){return!t||"object"!==gD(t)&&"function"!=typeof t?DD(e):t}function DD(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MD(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function LD(e){return(LD=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ND(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var BD=function(e){AD(r,e);var t=jD(r);function r(e){var n;return SD(this,r),ND(DD(n=t.call(this,e)),"interactionDetector",void 0),ND(DD(n),"inputHandler",void 0),ND(DD(n),"mainReader",void 0),ND(DD(n),"addOrientationListener",(function(){window.matchMedia("(orientation: portrait)").matches&&vD()&&n.props.featureTracker.opportunity(ny.LANDSCAPE_MODE),window.matchMedia("(orientation: landscape)").matches&&vD()&&n.props.featureTracker.opportunity(ny.PORTRAIT_MODE),window.addEventListener("orientationchange",n.onOrientationChange,!1)})),ND(DD(n),"destroyOrientationListener",(function(){window.removeEventListener("orientationchange",n.onOrientationChange,!1)})),ND(DD(n),"onOrientationChange",(function(){window.setTimeout((function(){window.matchMedia("(orientation: portrait)").matches&&(n.props.featureTracker.usage(ny.PORTRAIT_MODE),n.props.featureTracker.opportunity(ny.LANDSCAPE_MODE)),window.matchMedia("(orientation: landscape)").matches&&(n.props.featureTracker.usage(ny.LANDSCAPE_MODE),n.props.featureTracker.opportunity(ny.PORTRAIT_MODE))}),2e3)})),ND(DD(n),"onNextSpreadButtonClick",(function(e){e.preventDefault(),n.props.featureTracker.usage(ny.BUTTON_ARROW_FORWARD),n.trackOnceMixpanel("reader3_interaction_next_page_arrow"),n.props.dispatch(Th()),n.nextSpread()})),ND(DD(n),"onPreviousSpreadButtonClick",(function(e){e.preventDefault(),n.props.featureTracker.usage(ny.BUTTON_ARROW_BACKWARD),n.trackOnceMixpanel("reader3_interaction_previous_page_arrow"),n.props.dispatch(Th()),n.previousSpread()})),ND(DD(n),"trackOpportunities",(function(){n.props.featureTracker.opportunity(ny.FULLSCREEN_MORE),n.props.isLeftArrowVisible&&n.props.featureTracker.opportunity(ny.BUTTON_ARROW_BACKWARD),n.props.isRightArrowVisible&&n.props.featureTracker.opportunity(ny.BUTTON_ARROW_FORWARD)})),ND(DD(n),"nextSpread",(function(){n.props.dispatch(Tc())})),ND(DD(n),"previousSpread",(function(){n.props.dispatch(Oc())})),ND(DD(n),"mixpanelData",(function(){var e=n.props,t=e.readerSizeInPixels,r=e.currentPageNumbers,o=e.documentId,i=e.fullscreenEnabled,a=wD(t.split("x"),2),s=a[0],u=a[1];return{currentPageNumbers:r.toString(),documentId:o,fullScreen:i,reader3Width:s,reader3Height:u}})),ND(DD(n),"trackOnceMixpanel",(function(e,t,r){return n.props.trackOnceMixpanel(e,bD(bD({},n.mixpanelData()),t),r)})),n.mainReader=c.createRef(),n}return CD(r,[{key:"componentDidMount",value:function(){var e=this;this.interactionDetector=new yD(this.mainReader.current,(function(){e.props.interactedWithReader||window.setTimeout((function(){e.props.dispatch(bc())}),500)}));var t=this.mainReader.current;this.inputHandler=new Dd(t,{onMouseMove:function(t,r,n){e.props.dispatch(xh())},onMouseEnter:function(t){e.props.dispatch(kh())},onMouseLeave:function(t){e.props.dispatch(Sh())}}),this.addOrientationListener(),this.trackOpportunities(),vD()&&this.props.featureTracker.usage(ny.READER_LOADED_MOBILE),this.trackOnceMixpanel("reader3_interaction_reader_viewed")}},{key:"componentDidUpdate",value:function(e){this.props.renderReadmore&&this.props.exitedFullscreen&&this.props.moreContentContainerIsVisible&&this.props.moreContentContainerIsVisible!==e.moreContentContainerIsVisible&&this.props.featureTracker.usage(ny.FULLSCREEN_MORE),this.trackOpportunities()}},{key:"componentWillUnmount",value:function(){this.interactionDetector&&this.interactionDetector.destroy(),this.destroyOrientationListener()}},{key:"render",value:function(){var e,t;t=this.props.showCTAOverlay?c.createElement(tj,{dispatch:this.props.dispatch,featureTracker:this.props.featureTracker,fullscreenEnabled:this.props.fullscreenEnabled,toggleFullscreen:this.props.toggleFullscreen,trackOnceMixpanel:this.trackOnceMixpanel,visible:this.props.isControlsVisible}):c.createElement(Xm,{trackOnceMixpanel:this.trackOnceMixpanel,toggleFullscreen:this.props.toggleFullscreen,visible:this.props.isControlsVisible});var r={backgroundImage:this.props.logo?"url('".concat(this.props.logo.url,"')"):"none"};return c.createElement("div",{ref:this.mainReader,tabIndex:1,className:"reader",style:r},c.createElement("div",{className:"reader__layout"},c.createElement(qg,{trackOnceMixpanel:this.trackOnceMixpanel}),!this.props.showCTAOverlay&&c.createElement(bI,{featureTracker:this.props.featureTracker,trackOnceMixpanel:this.trackOnceMixpanel,enableIncrementalSearch:!ta.isIOS()}),c.createElement("div",{className:"reader__canvas-container"},c.createElement(PR,{loadStatsTracker:this.props.loadStatsTracker,metrics:this.props.metrics,trackOnceMixpanel:this.trackOnceMixpanel}),c.createElement(zR,{leftArrowVisible:this.props.isLeftArrowVisible,rightArrowVisible:this.props.isRightArrowVisible,onClickLeftArrow:this.onPreviousSpreadButtonClick,onClickRightArrow:this.onNextSpreadButtonClick})),this.props.showSmartZoomTutorial&&c.createElement(sD,null),t,this.props.renderReadmore&&c.createElement(hj,{dispatch:this.props.dispatch,visible:this.props.moreContentContainerIsVisible,showAsOverlay:this.props.showReadmoreAsOverlay,readerSizeInPixels:this.props.readerSizeInPixels},null===(e=this.props.readMorePlugin)||void 0===e?void 0:e.render(this.props.config,this.props.debugMode,this.props.exitedFullscreen,this.props.moreContentContainerIsVisible,this.props.showReadmoreAsOverlay)),this.props.renderPaywallOverlay&&c.createElement(Xj,null),this.props.renderVideoOverlay&&c.createElement(MI,{metrics:this.props.metrics})))}}]),r}(c.Component);ND(BD,"displayName","Reader");var FD,UD=function(e){return{currentPageNumbers:e.reader.currentPageNumbers,debugMode:e.reader.debugMode,documentId:Fo(e).documentId,exitedFullscreen:e.readmore.exitedFullscreen,featureTracker:e.featureTracker,interactedWithReader:e.reader.interactedWithReader,readMorePlugin:e.readMorePlugin,showReadmoreAsOverlay:Wg(e),fullscreenEnabled:ws(e),isControlsVisible:Rs(e),logo:Bs(e),isLeftArrowVisible:cD(e),isRightArrowVisible:lD(e),moreContentContainerIsVisible:Hs(e),readerSizeInPixels:js(e),renderReadmore:Bg(e),renderPaywallOverlay:Ka(e),showCTAOverlay:Vs(e),showSmartZoomTutorial:qs(e),renderVideoOverlay:LI(e)}},WD=$n(UD,void 0,void 0,{pure:!0})(BD),zD=function e(t){var r,n,o,i,a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;function u(e,t){var r=window.document,n=r.createElement("div");return n.innerHTML="&nbsp;",n.setAttribute("class",e),n.setAttribute("style",t),r.body.appendChild(n),n}function c(e){return 0===e.offsetHeight||!document.body.contains(e)||"none"===e.style.display||"hidden"===e.style.visibility}return n=u((r=s||{testNodeClasses:"pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad text_ads text-ads text-ad-links",testNodeStyle:"height: 10px !important; font-size: 20px; color: transparent; position: absolute; bottom: 0; left: -10000px;",testInterval:51,testRuns:4}).testNodeClasses,r.testNodeStyle),o=0,i=!1,a=setInterval((function(){o++,((i=c(n))||o===r.testRuns)&&(clearInterval(a),n.parentNode&&n.parentNode.removeChild(n),t(i))}),r.testInterval),e},HD=zD,VD=r(285),GD=r.n(VD),qD=arguments,$D=function(){var e=/debugads=([^;]*)/.exec(document.cookie);return e&&"true"===e.pop()||"undefined"!=typeof window&&window.location.search.indexOf("debugads=true")>-1},KD=function(){$D()&&console.log(qD)},YD={log:KD},XD=function(){},ZD=function(e){var t,r,n=e.config.network,o=e.rootElm.getAttribute("id")||"div-"+Math.round(1e4*Math.random()),i=e.bidders,a=e.bidderTimeout;return function(){var s=e.targeting||[];if(s.push(["advelvet",[Math.floor(20*Math.random())+1+""]]),YD.log("ads","widget","gpt","addPlacementWithTargeting",n,s),e.callbacks=Object.assign({onAdFilled:XD,onAdViewable:XD,onAdFailed:XD,onAdUnfilled:XD},e.callbacks),YD.log("ads","widget","gpt","create",e),n){var u=i.map((function(e){return{name:e.name,config:e.config}})),c=i.map((function(e){return{name:e.name,options:e.options}}));t=GD.a.create({onError:e.callbacks.onAdFailed,bidders:u,bidderTimeout:a,pageUrl:e.pageUrl}),e.rootElm.setAttribute("id",o),r=t.addPlacement(o,n,e.config.sizes,s,c),YD.log("ads","widget","gpt","addPlacement",o,n,e.config.sizes,s),t.addEventListener("slotRenderEnded",(function(t){t.slot.getSlotElementId()===o&&(YD.log("ads","widget","gpt","slotRendered",t),t.isEmpty?e.callbacks.onAdUnfilled():e.callbacks.onAdFilled())})),t.addEventListener("impressionViewable",(function(t){t.slot.getSlotElementId()===o&&(YD.log("ads","widget","gpt","impressionViewable",t),e.callbacks.onAdViewable())}))}else e.callbacks.onAdFailed()}(),{gpt:t,slot:r}},JD={create:ZD},QD=new Uint8Array(16);function eM(){if(!FD&&!(FD="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return FD(QD)}var tM=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function rM(e){return"string"==typeof e&&tM.test(e)}for(var nM=rM,oM=[],iM=0;iM<256;++iM)oM.push((iM+256).toString(16).substr(1));function aM(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(oM[e[t+0]]+oM[e[t+1]]+oM[e[t+2]]+oM[e[t+3]]+"-"+oM[e[t+4]]+oM[e[t+5]]+"-"+oM[e[t+6]]+oM[e[t+7]]+"-"+oM[e[t+8]]+oM[e[t+9]]+"-"+oM[e[t+10]]+oM[e[t+11]]+oM[e[t+12]]+oM[e[t+13]]+oM[e[t+14]]+oM[e[t+15]]).toLowerCase();if(!nM(r))throw TypeError("Stringified UUID is invalid");return r}var sM=aM;function uM(e,t,r){var n=(e=e||{}).random||(e.rng||eM)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var o=0;o<16;++o)t[r+o]=n[o];return t}return sM(n)}var cM=uM;function lM(){return cM()}var fM="iutk",pM="00000000-0000-0000-0000-000000000000",dM=null;function hM(){if("undefined"!=typeof document&&void 0!==document.cookie){var e=document.cookie.split(";").filter((function(e){return e.includes("".concat(fM,"="))}));if(e.length)return e[0].split("=")[1].trim()}return null}function yM(){var e=lM(),t=function(){if("undefined"!=typeof document){var e=/(?:t?)issuu.com$/.exec(document.domain||"");return e?e[0]:null}return null}();document.cookie="".concat(fM,"=").concat(e).concat(t?";domain=".concat(t):"",";path=/;max-age=").concat(15552e3,";samesite=none;secure")}function mM(){if(null===dM){var e;try{null===(e=hM())&&(yM(),e=hM())}catch(t){e=null}dM=null===e?pM:e}return dM}var vM=r(119),gM=r.n(vM),_M="@issuu/tracking-micro",bM="11.0.0",wM={error:Object(vM.debug)("".concat(_M,":").concat(bM,":error")),info:Object(vM.debug)("".concat(_M,":").concat(bM,":info"))};wM.info.log=console.log.bind(console);var EM=wM,OM="".concat(_M,"-v").concat(bM),TM=function(e){var t=mM();return t?Object.assign({iutk:t},e):e},xM=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.pingbackHost||"pingback.tissuu.com",n=t.pingbackUrl||"//".concat(r,"/ping"),o=t.logger||EM,i=t.fetch||window.fetch;return i(n,{method:"post",credentials:"include",headers:{Accept:"application/json","Content-Type":"text/plain;charset=UTF-8"},body:JSON.stringify(TM(e))}).then((function(t){if(!t.ok)return t.text().then((function(t){o.error("".concat(e.type," pingback was invalid: ").concat(t,"."),e)}));o.info("pingback sent with payload \n %O",e)})).catch((function(t){o.error("".concat(e.type," pingback failed \n %O"),t)}))};function kM(e){return function(t){if(!t||Array.isArray(t)&&0===t.length)return Promise.resolve();var r=(Array.isArray(t)?t:[t]).map((function(e){return Object.assign({version:"1.0.0"},e)}));return xM({type:"monitor",version:"2.2.0",origin:OM,data:r},e)}}var SM=function(e){var t,r;function n(n,o){var i={type:t+"."+n,countryCode:e.countryCode,timeElapsed:o,screenWidth:Number(window.innerWidth),screenHeight:Number(window.innerHeight),screenResolution:Number(window.innerHeight)*Number(window.innerWidth)};YD.log("ads","pingback",i),r(i)}return r=e&&!0===e.isProductionEnv?kM({pingbackUrl:"//pingback.issuu.com/ping"}):kM({pingbackUrl:"//pingback.tissuu.com/ping"}),t=e&&e.trackingKey||"ads-widget",{adRequested:function(e){n("requested",e)},adFailed:function(e){n("failed",e)},adLoaded:function(e){n("filled",e)},adViewable:function(e){n("viewable",e)},adTimeout:function(e){n("timeout",e)},adUnfilled:function(e){n("unfilled",e)},adBlockerBlocked:function(e){n("blocked",e)},adBlockerNotBlocked:function(e){n("notblocked",e)}}},PM={create:SM};function CM(e){return(CM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var AM=10,RM=function(){},jM=function(e){var t,r,n,o,i=!1,a=!1,s=!1;function u(){return(new Date).getTime()-o}function c(){if(!a){a=!0,YD.log("ads","widget",t.trackingKey,"unfilled"),clearTimeout(n),r.adUnfilled(u());try{t.callbacks.onAdUnfilled()}catch(e){throw YD.log("ads","widget","ad callback onAdUnfilled threw an error",e),e}}}function l(){YD.log("ads","widget",t.trackingKey,"failed"),clearTimeout(n),r.adFailed(u());try{t.callbacks.onAdFailed()}catch(e){throw YD.log("ads","widget","ad callback onAdFailed threw an error",e),e}}function f(){YD.log("ads","widget",t.trackingKey,"timeout"),!1==(!0===i||!0===a||!0===s)&&(r.adTimeout(u()),l())}function p(){if(!s){s=!0,YD.log("ads","widget",t.trackingKey,"viewable"),clearTimeout(n),r.adViewable(u());try{t.callbacks.onAdViewable()}catch(e){throw YD.log("ads","widget","ad callback onAdViewable threw an error",e),e}}}function d(){if(!i){i=!0,YD.log("ads","widget",t.trackingKey,"filled"),clearTimeout(n),r.adLoaded(u());try{t.callbacks.onAdFilled()}catch(e){throw YD.log("ads","widget","ad callback onAdFilled threw an error",e),e}}}return t=e||{},(t=Object.assign({},{adProviderConfig:{},dfpTargeting:[],isProductionEnv:!0,trackingKey:"",countryCode:"unknown",bidders:[],bidderTimeout:void 0},t)).callbacks=Object.assign({},{onAdFilled:RM,onAdFailed:RM,onAdViewable:RM,onAdUnfilled:RM,onAdBlocked:RM},t.callbacks),r=PM.create({trackingKey:t.trackingKey,isProductionEnv:t.isProductionEnv,countryCode:t.countryCode||"unknown"}),void 0!==("undefined"==typeof window?"undefined":CM(window))&&HD((function(e){e?(r.adBlockerBlocked(u()),t.callbacks.onAdBlocked()):r.adBlockerNotBlocked(u())})),{show:function(){return o=(new Date).getTime(),n=setTimeout(f,1e3*AM),e=JD.create({rootElm:t.rootElm,config:t.adProviderConfig,callbacks:{onAdFilled:d,onAdFailed:l,onAdViewable:p,onAdUnfilled:c},targeting:t.dfpTargeting,bidders:/(^|;)\s*CookieConsent=[^;]*marketing:true/.test(document.cookie)?t.bidders:[],bidderTimeout:t.bidderTimeout,pageUrl:t.pageUrl}),r.adRequested(u()),YD.log("ads","widget",t.trackingKey,"requested"),e;var e}}},IM=function(){try{var e=/.*adRefreshTimeout=(\d*)/.exec(window.parent.location.search);if(e&&e[1])return parseInt(e[1],10)}catch(e){}return-1}(),DM=jo(bs,ws,(function(e){return e.reader.isReady}),Zs,(function(e,t,r,n){return r&&!!e&&t&&n})),MM=function(){return IM<0?45:IM},LM=jo((function(e){return e.size.width}),(function(){return window.innerWidth<380})),NM=jo(DM,xs,(function(e){return e.pages.pages}),(function(e){return e.size.width}),(function(e){return e.size.height}),(function(e,t,r,n,o){if(!e)return[0,0];var i=window.innerWidth,a=window.innerHeight,s=ta.isMobile();if(!s&&r.length){var u=r[0].width/r[0].height;if("DOUBLE_PAGE_SPREAD"===t&&(u*=2),!((u*a-i)/i>0)&&i>1200&&a>620)return[160,600];if(!s&&a>600&&i>780)return[728,90]}return a>250&&i>320?[320,50]:[0,0]}));function BM(e){return 0===e[0]&&0===e[1]}function FM(e){return(FM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function UM(e,t){return GM(e)||VM(e,t)||zM(e,t)||WM()}function WM(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function zM(e,t){if(e){if("string"==typeof e)return HM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?HM(e,t):void 0}}function HM(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function VM(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}function GM(e){if(Array.isArray(e))return e}function qM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $M(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function KM(e,t,r){return t&&$M(e.prototype,t),r&&$M(e,r),e}function YM(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&XM(e,t)}function XM(e,t){return(XM=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ZM(e){var t=eL();return function(){var r,n=tL(e);if(t){var o=tL(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return JM(this,r)}}function JM(e,t){return!t||"object"!==FM(t)&&"function"!=typeof t?QM(e):t}function QM(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eL(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function tL(e){return(tL=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rL(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var nL=function(e){YM(r,e);var t=ZM(r);function r(e){var n;return qM(this,r),rL(QM(n=t.call(this,e)),"hostUrl",""),rL(QM(n),"adElement",void 0),rL(QM(n),"adContainer",void 0),rL(QM(n),"ad",void 0),rL(QM(n),"adRefreshTimeoutId",void 0),rL(QM(n),"adLoaded",!1),n.adElement=c.createRef(),n.adContainer=c.createRef(),n}return KM(r,[{key:"componentDidMount",value:function(){if(window!=window.parent){var e=new vt(window.document.location.toString());this.hostUrl=e.getHostUrl()}this.props.hideAd||this._loadAd()}},{key:"componentWillUpdate",value:function(e){BM(this.props.adSize)||this.props.adSize.join(",")!==e.adSize.join(",")&&this._clearAd()}},{key:"componentDidUpdate",value:function(e){e.hideAd!==this.props.hideAd&&(this.props.hideAd?this._clearAd():this._loadAd())}},{key:"componentWillUnmount",value:function(){this._clearAd()}},{key:"_adActivityTrackingCallback",value:function(e){var t=this;return function(){var r=t.props,n=r.experimentBucket,o=r.horizontalLayout,i=r.smallLayout;t.props.metrics.monitor("reader3-ad.fullscreen.".concat(e,".").concat(n,".").concat(o,".").concat(i))}}},{key:"_adActivityTracking",value:function(e){this._adActivityTrackingCallback(e)()}},{key:"_clearAd",value:function(){this.adLoaded=!1,this._clearRefreshTimeout(),this.adElement.current&&(this.adElement.current.parentNode&&this.adElement.current.parentNode.removeChild(this.adElement.current),this.adElement.current=null)}},{key:"_loadAd",value:function(){if(!this.adLoaded&&!BM(this.props.adSize)){var e=[["pageType","embed"],["publicationId",this.props.publicationId],["ownerUsername",this.props.publisherUsername],["isDevelopmentTest",(!1).toString()]];this.adElement.current=document.createElement("div"),this.adContainer.current&&(this.adContainer.current.appendChild(this.adElement.current),this.ad=jM({rootElm:this.adElement.current,dfpTargeting:e,adProviderConfig:{network:"/30443627/Doc_inBarReader",sizes:[this.props.adSize]},isProductionEnv:!0,callbacks:{onAdFilled:this._adActivityTrackingCallback("filled"),onAdFailed:this._adActivityTrackingCallback("failed"),onAdUnfilled:this._adActivityTrackingCallback("unfilled"),onAdViewable:this._onAdViewable.bind(this)},trackingKey:"ads-widget.Doc_inBarReader",bidders:[{name:"a9",config:{pubID:"80a73d60-ff2d-4d63-a39a-b13edebb77c0"}}],bidderTimeout:1500,pageUrl:this.hostUrl}),this.ad.show(),this.adLoaded=!0,this._adActivityTracking("load"),this._setRefreshTimeout())}}},{key:"_canRefreshAd",value:function(){var e=!(void 0!==document.hidden)||!1===document.hidden,t=!!this.props.adRefreshTimeout;return e&&!0===t}},{key:"_refreshAd",value:function(){this._adActivityTracking("refresh"),this._clearAd(),this._loadAd()}},{key:"_clearRefreshTimeout",value:function(){this.adRefreshTimeoutId&&(clearTimeout(this.adRefreshTimeoutId),this.adRefreshTimeoutId=void 0)}},{key:"_setRefreshTimeout",value:function(){this._canRefreshAd()&&(this._clearRefreshTimeout(),this.adRefreshTimeoutId=setTimeout(this._refreshAd.bind(this),1e3*this.props.adRefreshTimeout))}},{key:"_onAdViewable",value:function(){this._adActivityTracking("viewable"),this._setRefreshTimeout()}},{key:"_getContainerStyle",value:function(){var e=UM(this.props.adSize,2),t=e[0],r=e[1];if(this.props.horizontalLayout){var n=this.props.smallLayout?21:0;return{minHeight:"".concat(r+n,"px"),maxHeight:"".concat(r+n,"px")}}return{minWidth:"".concat(t,"px"),maxWidth:"".concat(t,"px")}}},{key:"_getContainerClass",value:function(){var e=["fullscreen-ad-placement"];return this.props.smallLayout&&e.push("fullscreen-ad-placement--small"),this.props.horizontalLayout?e.push("fullscreen-ad-placement--horizontal"):e.push("fullscreen-ad-placement--vertical"),e.join(" ")}},{key:"_getAdPlacementStyle",value:function(){return this.props.horizontalLayout?{width:"".concat(this.props.adSize[0],"px")}:{}}},{key:"_getAdStyle",value:function(){return{width:"".concat(this.props.adSize[0],"px"),height:"".concat(this.props.adSize[1],"px")}}},{key:"render",value:function(){return c.createElement("div",{className:this._getContainerClass(),style:this._getContainerStyle()},c.createElement("div",{className:"fullscreen-ad-placement__cnt",style:this._getAdPlacementStyle()},!this.props.hideAd&&c.createElement("div",{className:"fullscreen-ad-placement__text"},"Ad"),c.createElement("div",{className:"fullscreen-ad-placement__ad",style:this._getAdStyle(),ref:this.adContainer})))}}]),r}(c.Component),oL=function(e){var t=Fo(e),r=t.username,n=t.publicationId,o=Gu(e);return{adRefreshTimeout:MM(),publicationId:n,publisherUsername:r,hideAd:o,experimentBucket:e.experiment.identifier}},iL=$n(oL,void 0,void 0,{pure:!0})(nL);function aL(e){return(aL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function cL(e,t,r){return t&&uL(e.prototype,t),r&&uL(e,r),e}function lL(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fL(e,t)}function fL(e,t){return(fL=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pL(e){var t=yL();return function(){var r,n=mL(e);if(t){var o=mL(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return dL(this,r)}}function dL(e,t){return!t||"object"!==aL(t)&&"function"!=typeof t?hL(e):t}function hL(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yL(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function mL(e){return(mL=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vL(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var gL=function(e){lL(r,e);var t=pL(r);function r(){var e;sL(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return vL(hL(e=t.call.apply(t,[this].concat(o))),"isOSX",void 0),vL(hL(e),"_repeatTimeoutId",void 0),vL(hL(e),"onKeyDown",(function(t){var r=e.props,n=r.dispatch,o=r.toggleFullscreen,i=r.canFind,a=r.lastSpreadIndex,s=r.moreContentContainerIsVisible,u=r.isFindOverlayVisible,c=r.fullscreenEnabled,l=r.abortCurrentInteraction,f=hL(e).isOSX;if(l)e.stopRepeating();else{if(t.keyCode===uh)s?n(_g()):u?n(pi()):c&&o();else if(e.isRepeating()||document.activeElement&&"INPUT"===document.activeElement.tagName)return;switch(t.keyCode){case ph:i&&f&&t.metaKey||!f&&t.ctrlKey?(t.preventDefault(),e.openFindDialog()):o();break;case gh:i&&!f&&(t.preventDefault(),e.openFindDialog());break;case vh:i&&(t.preventDefault(),e.openFindDialog());break;case dh:case mh:if(t.metaKey)break;e.startRepeating((function(r){e.props.canGoBackward&&e.goToPreviousPage(),r||e.props.dispatch(Oh(t.keyCode))}));break;case fh:case hh:case yh:if(t.metaKey)break;e.startRepeating((function(r){e.props.canGoForward&&e.goToNextPage(),r||e.props.dispatch(Oh(t.keyCode))}));break;case ch:n(Ec(0));break;case lh:n(Ec(a))}n(Oh(t.keyCode))}})),vL(hL(e),"onKeyUp",(function(t){switch(t.keyCode){case fh:case dh:case mh:case hh:case yh:e.stopRepeating()}})),e}return cL(r,[{key:"componentDidMount",value:function(){this.isOSX="MacIntel"===window.navigator.platform,window.addEventListener("keyup",this.onKeyUp,!1),window.addEventListener("keydown",this.onKeyDown,!1)}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.abortCurrentInteraction,r=e.canGoBackward,n=e.canGoForward,o=e.canFind,i=e.featureTracker;t?this.stopRepeating():(r&&i.opportunity(ny.KEYBOARD_BACKWARD),n&&i.opportunity(ny.KEYBOARD_FORWARD),o&&i.opportunity(ny.KEYBOARD_OPEN_FIND))}},{key:"componentWillUnmount",value:function(){this.stopRepeating(),window.removeEventListener("keyup",this.onKeyUp,!1),window.removeEventListener("keydown",this.onKeyDown,!1)}},{key:"startRepeating",value:function(e){var t=this,r=!0;!function n(){e(r);var o=r?rs:ns;r=!1,t._repeatTimeoutId=setTimeout(n,o)}()}},{key:"isRepeating",value:function(){return!!this._repeatTimeoutId}},{key:"stopRepeating",value:function(){this._repeatTimeoutId&&clearTimeout(this._repeatTimeoutId),this._repeatTimeoutId=void 0}},{key:"goToPreviousPage",value:function(){var e=this.props,t=e.dispatch,r=e.featureTracker;t(Oc()),r.usage(ny.KEYBOARD_BACKWARD)}},{key:"goToNextPage",value:function(){var e=this.props,t=e.dispatch,r=e.featureTracker;t(Tc()),r.usage(ny.KEYBOARD_FORWARD)}},{key:"openFindDialog",value:function(){var e=this.props,t=e.dispatch,r=e.featureTracker;t(fi()),r.usage(ny.KEYBOARD_OPEN_FIND)}},{key:"render",value:function(){return c.Children.only(this.props.children)}}]),r}(c.Component);function _L(e){return{abortCurrentInteraction:Gu(e),canFind:!Vs(e)&&Ci(e),canGoBackward:cD(e),canGoForward:lD(e),lastSpreadIndex:Ps(e),moreContentContainerIsVisible:Hs(e),isFindOverlayVisible:vi(e),fullscreenEnabled:ws(e)}}var bL=$n(_L)(gL);function wL(e){return(wL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function EL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function TL(e,t,r){return t&&OL(e.prototype,t),r&&OL(e,r),e}function xL(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kL(e,t)}function kL(e,t){return(kL=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function SL(e){var t=AL();return function(){var r,n=RL(e);if(t){var o=RL(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return PL(this,r)}}function PL(e,t){return!t||"object"!==wL(t)&&"function"!=typeof t?CL(e):t}function CL(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AL(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function RL(e){return(RL=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jL(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var IL=function(e){xL(r,e);var t=SL(r);function r(e){var n;return EL(this,r),jL(CL(n=t.call(this,e)),"adContainer",void 0),jL(CL(n),"adElement",void 0),jL(CL(n),"overlayElement",void 0),jL(CL(n),"progressElement",void 0),jL(CL(n),"onCloseOverlay",(function(e){e.target===n.overlayElement.current&&n.props.onClose()})),n.adContainer=c.createRef(),n.adElement=c.createRef(),n.overlayElement=c.createRef(),n.progressElement=c.createRef(),n}return TL(r,[{key:"createAd",value:function(e){var t=this.adContainer,r=this.props.licenses;if(t){var n,o=document.createElement("div");o.className=Bf()("ad-overlay__ad-slot"),null===(n=t.current)||void 0===n||n.appendChild(o),this.adElement.current=o;var i=[["publicationId",this.props.publicationId],["ownerUsername",this.props.publisherUsername],["licenses",r]];jM({rootElm:this.adElement.current,dfpTargeting:i,adProviderConfig:{network:"/30443627/inPublication_Native",sizes:["fluid",[1,1]]},isProductionEnv:!0,trackingKey:"ads-widget.InPublication_Native",pageUrl:e,callbacks:{onAdFilled:this.props.onShow,onAdFailed:this.props.onFailed,onAdUnfilled:this.props.onUnfilled,onAdBlocked:this.props.onBlocked}}).show()}}},{key:"removeAd",value:function(){this.adElement.current&&this.adElement.current.parentNode&&(this.adElement.current.parentNode.removeChild(this.adElement.current),this.adElement.current=null)}},{key:"updateProgress",value:function(e,t){this.progressElement.current&&(this.progressElement.current.style.transform="scaleX(".concat(e/t,")"))}},{key:"render",value:function(){var e=this.props.isOverlayVisible;return c.createElement("div",{className:Bf()("ad-overlay",{"ad-overlay--hidden":!e}),ref:this.overlayElement,onClick:this.props.areButtonsEnabled?this.onCloseOverlay:void 0},c.createElement("div",{className:Bf()("ad-overlay__unit")},c.createElement("div",{className:Bf()("ad-overlay__placeholder")}),c.createElement("div",{className:Bf()("ad-overlay__ad"),ref:this.adContainer,onClick:this.props.onIntent,onMouseEnter:this.props.onIntent},c.createElement("div",{className:Bf()("ad-overlay__progress")},c.createElement("div",{className:Bf()("ad-overlay__progress-bar"),ref:this.progressElement})),c.createElement("div",{className:Bf()("ad-overlay__label")},"Advertisement"),c.createElement("button",{className:"ad-overlay__close-button",disabled:!this.props.areButtonsEnabled,type:"button",dangerouslySetInnerHTML:{__html:rP},onClick:this.props.onClose}))),c.createElement("button",{className:"ad-overlay__prev-button",disabled:!this.props.areButtonsEnabled,type:"button",dangerouslySetInnerHTML:{__html:CR},onClick:this.props.onClose}),c.createElement("button",{className:"ad-overlay__next-button",disabled:!this.props.areButtonsEnabled,type:"button",dangerouslySetInnerHTML:{__html:CR},onClick:this.props.onClose}))}}]),r}(c.Component);function DL(e){return(DL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ML(){return(ML=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function LL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function BL(e,t,r){return t&&NL(e.prototype,t),r&&NL(e,r),e}function FL(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&UL(e,t)}function UL(e,t){return(UL=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function WL(e){var t=VL();return function(){var r,n=GL(e);if(t){var o=GL(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return zL(this,r)}}function zL(e,t){return!t||"object"!==DL(t)&&"function"!=typeof t?HL(e):t}function HL(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VL(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function GL(e){return(GL=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qL(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var $L=function(){try{var e=/.*skipOffset=(\d*)/.exec(window.parent.location.search);if(e&&e[1])return parseInt(e[1],10)}catch(e){}return Vi}(),KL={AD_OVERLAY:IL},YL=function(e){FL(r,e);var t=WL(r);function r(e){var n;return LL(this,r),qL(HL(n=t.call(this,e)),"timeoutId",void 0),qL(HL(n),"adComponent",void 0),qL(HL(n),"hostUrl",void 0),qL(HL(n),"createAd",(function(){var e=n.props.currentPageNumbers;n.adComponent.current&&n.hostUrl&&(n.adComponent.current.createAd(n.hostUrl),n.props.onCreateOverlay(e))})),qL(HL(n),"removeAd",(function(){n.adComponent.current&&n.adComponent.current.removeAd(),n.timeoutId=null,n.setState({intent:!1}),n.props.onDisableButtons()})),qL(HL(n),"startCountDown",(function(){if(!n.timeoutId){n.timeoutId=window.setTimeout((function(){n.props.onEnableButtons(),Gi&&!n.state.intent&&n.onClose("closed")}),$L);var e=Ne()();window.requestAnimationFrame((function(){return n.updateProgress(e,$L)}))}})),qL(HL(n),"updateProgress",(function(e,t){var r=Ne()()-e;r>t&&(r=t),n.adComponent.current&&n.adComponent.current.updateProgress(r,t),r<t&&window.requestAnimationFrame((function(){return n.updateProgress(e,$L)}))})),qL(HL(n),"onKeyDown",(function(e){switch(e.keyCode){case 27:case 37:case 38:case 39:case 40:e.metaKey||(window.removeEventListener("keydown",n.onKeyDown,!1),n.onClose("closed"))}})),qL(HL(n),"onIntent",(function(e){n.setState({intent:!0})})),qL(HL(n),"onClose",(function(e){n.props.isOverlayCreated&&(n.removeAd(),n.props.onCloseOverlay(e),setTimeout((function(){n.setState({currentAdType:null})}),500))})),qL(HL(n),"onShow",(function(){n.props.onShowOverlay()})),n.state={currentAdType:null,intent:!1},n.adComponent=l.a.createRef(),n}return BL(r,[{key:"componentDidMount",value:function(){if(window!=window.parent){var e=new vt(window.document.location.toString());this.hostUrl=e.getHostUrl()}}},{key:"componentWillUnmount",value:function(){this.timeoutId&&window.clearTimeout(this.timeoutId)}},{key:"componentDidUpdate",value:function(e,t){e.canCreateAd!==this.props.canCreateAd&&this.props.canCreateAd&&this.setState({currentAdType:this.props.adType}),t.currentAdType!==this.state.currentAdType&&null!==this.state.currentAdType&&this.createAd(),e.isOverlayVisible!==this.props.isOverlayVisible&&this.props.isOverlayVisible&&this.startCountDown(),this.props.isOverlayVisible&&this.props.areButtonsEnabled?window.addEventListener("keydown",this.onKeyDown,!1):window.removeEventListener("keydown",this.onKeyDown,!1)}},{key:"render",value:function(){var e=this,t=this.props,r=t.areButtonsEnabled,n=t.canCreateAd,o=t.isOverlayVisible,i=t.thumbnailUrl,a=t.documentTitle,s=t.licenses,u=t.metrics,c=t.publicationId,f=t.publisherUsername,p=this.state.currentAdType,d={areButtonsEnabled:r,canCreateAd:n,isOverlayVisible:o,thumbnailUrl:i,documentTitle:a,licenses:s,metrics:u,publicationId:c,publisherUsername:f,onBlocked:function(){e.onClose("blocked")},onClose:function(){e.onClose("closed")},onFailed:function(){e.onClose("failed")},onUnfilled:function(){e.onClose("unfilled")},onIntent:this.onIntent.bind(this),onShow:this.onShow.bind(this)};if(p){var h=KL[p];return l.a.createElement(h,ML({},d,{ref:this.adComponent}))}return null}}]),r}(l.a.Component),XL=function(e){var t=Fo(e),r=t.username,n=t.publicationId;return{adType:Fu(e),areButtonsEnabled:e.adOverlay.buttonsEnable,canCreateAd:Vu(e),currentPageNumbers:e.adOverlay.sessionPageNumbers,isFullscreenEnabled:ws(e),isOverlayCreated:qu(e),isOverlayVisible:Gu(e),licenses:zu(e),thumbnailUrl:Uu(e),documentTitle:e.metadata.title,publicationId:n,publisherUsername:r}},ZL=function(e){return{onCreateOverlay:$r(Ku,e),onShowOverlay:$r(Yu,e),onCloseOverlay:$r(Xu,e),onDisableButtons:$r(Ju,e),onEnableButtons:$r(Zu,e)}},JL=$n(XL,ZL)(YL);function QL(e){var t=e.getBoundingClientRect();return{width:t.width,height:t.height,top:"x"in t?t.x:t.top,left:"y"in t?t.y:t.left,x:"x"in t?t.x:t.left,y:"y"in t?t.y:t.top,right:t.right,bottom:t.bottom}}function eN(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.liveMeasure,r=void 0===t||t,n=Object(c.useState)({}),o=n[0],i=n[1],a=Object(c.useState)(null),s=a[0],u=a[1],l=Object(c.useCallback)((function(e){u(e)}),[]);return Object(c.useLayoutEffect)((function(){if(s){var e=function(){return window.requestAnimationFrame((function(){return i(QL(s))}))};if(e(),r)return window.addEventListener("resize",e),window.addEventListener("scroll",e),function(){window.removeEventListener("resize",e),window.removeEventListener("scroll",e)}}}),[s]),[l,o,s]}var tN=eN;function rN(e,t){return sN(e)||aN(e,t)||oN(e,t)||nN()}function nN(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function oN(e,t){if(e){if("string"==typeof e)return iN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?iN(e,t):void 0}}function iN(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function aN(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}function sN(e){if(Array.isArray(e))return e}function uN(e){var t=rN(Object(c.useState)(null),2),r=t[0],n=t[1],o=rN(Object(c.useState)(null),2),i=o[0],a=o[1];return Object(c.useEffect)((function(){var t=new Image;t.onload=function(){return n(t)},t.onerror=function(){return a(new Error("failed to load image"))},t.src=e}),[e]),[r,i]}function cN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function lN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cN(Object(r),!0).forEach((function(t){fN(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cN(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function fN(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pN(e,t){return vN(e)||mN(e,t)||hN(e,t)||dN()}function dN(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function hN(e,t){if(e){if("string"==typeof e)return yN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?yN(e,t):void 0}}function yN(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mN(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}function vN(e){if(Array.isArray(e))return e}var gN=function(e,t,r){var n=t/e,o=n/r;return{width:n>r?e:e*o,height:n>r?t/o:t}},_N=function(e){var t=e.height,r=e.width,n=pN(uN(e.coverUrl),2),o=n[0],i=n[1],a=o?lN(lN({},gN(r,t,o.height/o.width)),{},{backgroundImage:"url(".concat(o.src,")"),opacity:1}):i?lN(lN({},gN(r,t,1.2941)),{},{backgroundColor:"#aaa",opacity:1}):{opacity:0};return l.a.createElement("div",{className:"blocked-embed__cover-wrapper",style:a},l.a.createElement("div",{className:"blocked-embed__cover-glare"}))},bN='\n  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" {...rest}>\n    <path\n      fill="white"\n      d="M0 16q0 3.22 1.242 6.18t3.43 5.148 5.148 3.43T16 32q3.203 0 6.172-1.25t5.14-3.422q2.19-2.188 3.44-5.148T32 16t-1.25-6.18-3.44-5.148q-2.17-2.172-5.14-3.422T16 0H0v16zm5-.094v-.125q.016-2.218.898-4.28t2.414-3.563q1.516-1.484 3.547-2.32t4.202-.836h.156q2.984.032 5.53 1.54t4.017 4.086q1.453 2.53 1.453 5.484V16q-.03 3-1.547 5.53-1.515 2.547-4.07 4.008t-5.538 1.46H16q-3.017-.015-5.548-1.546-2.547-1.516-4-4.063T5 15.904zm2.97.016q0 2.188 1.062 4.047 1.078 1.89 2.938 2.99t4.063 1.118h.047q2.188 0 4.055-1.063t2.984-2.922 1.147-4.063q0-2.22-1.07-4.102T20.26 8.936 16.19 7.81h-.064q-2.172 0-4.047 1.064t-2.985 2.922Q7.97 13.686 7.97 15.92zm4.03.016q0-1.734 1.203-2.93t2.938-1.195q1.704.03 2.892 1.242t1.188 2.898V16q0 1.688-1.22 2.883t-2.92 1.195q-1.72-.03-2.9-1.242T12 15.938z"\n    ></path>\n  </svg>\n',wN=function(e){var t=e.editUrl,r=e.url,n=e.isVisible,o=e.isSmall;return c.createElement("div",{className:Bf()("blocked-embed__overlay",{"blocked-embed__overlay--is-visible":n,"blocked-embed__overlay--is-small":o})},c.createElement("div",{className:"blocked-embed__inner"},c.createElement("a",{href:r,target:"_blank",className:"blocked-embed__badge"},c.createElement("div",{className:"blocked-embed__logo",dangerouslySetInnerHTML:{__html:bN}}),!o&&c.createElement("div",{className:"blocked-embed__text"},"Click to read the full content on issuu.com"))),c.createElement("div",{className:"blocked-embed__link-wrapper"},c.createElement("a",{className:"blocked-embed__link",href:t,target:"_blank"},"What happened to my embed?")))};function EN(e,t){return SN(e)||kN(e,t)||TN(e,t)||ON()}function ON(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function TN(e,t){if(e){if("string"==typeof e)return xN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?xN(e,t):void 0}}function xN(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kN(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}function SN(e){if(Array.isArray(e))return e}function PN(e){var t=e.coverUrl,r=e.url,n=e.editUrl,o=EN(Object(c.useState)(!1),2),i=o[0],a=o[1],s=EN(tN(),2),u=s[0],f=s[1],p=f.width||0,d=f.height||0,h=p<=224||d<=284;return l.a.createElement("div",{ref:u,className:"blocked-embed",onTouchEnd:function(){return a(!0)},onMouseEnter:function(){return a(!0)},onMouseLeave:function(){return a(!1)}},l.a.createElement("div",{className:"blocked-embed__cover-container"},l.a.createElement(_N,{width:p-48,height:d-48,coverUrl:t})),l.a.createElement(wN,{url:r,editUrl:n,isVisible:i,isSmall:h}))}var CN=$n((function(e){var t=Fo(e);return{coverUrl:t.coverUri,url:Ws(e),editUrl:"".concat(nt(),"/home/published/").concat(t.documentName,"/embed?upsellFeature=true")}}))(PN),AN=jo((function(e){return!!e.features.requireEmbedLicense}),Pa,(function(e,t){return e&&!t}));function RN(e){return(RN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function DN(e,t,r){return t&&IN(e.prototype,t),r&&IN(e,r),e}function MN(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&LN(e,t)}function LN(e,t){return(LN=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function NN(e){var t=UN();return function(){var r,n=WN(e);if(t){var o=WN(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return BN(this,r)}}function BN(e,t){return!t||"object"!==RN(t)&&"function"!=typeof t?FN(e):t}function FN(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UN(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function WN(e){return(WN=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zN(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var HN=function(e){MN(r,e);var t=NN(r);function r(e){var n;return jN(this,r),zN(FN(n=t.call(this,e)),"container",void 0),zN(FN(n),"reloadDocument",(function(){n.props.documentConnector.reset(),n.loadDocument()})),zN(FN(n),"loadDocument",(function(){return n.props.loadReaderData(n.props.documentConnector,(function(){if(n.container.current){var e=ra();return[n.container.current.clientWidth*e,n.container.current.clientHeight*e]}}),n.props.readMorePlugin)})),zN(FN(n),"listenToVisibilityChangeEvent",(function(){Jl()&&Ql((function(){n.props.onVisibilityChange()}))})),zN(FN(n),"toggleFullscreen",(function(){return n.props.toggleFullscreen()})),n.container=c.createRef(),n}return DN(r,[{key:"componentDidMount",value:function(){this.loadDocument(),this.listenToVisibilityChangeEvent()}},{key:"shouldComponentUpdate",value:function(e){return this.props.loading.status!==e.loading.status||this.props.adSize.join(",")!==e.adSize.join(",")||this.props.backgroundColor!==e.backgroundColor||this.props.backgroundImage!==e.backgroundImage||this.props.adSmallLayout!==e.adSmallLayout}},{key:"render",value:function(){var e=["testcafe-reader-container","reader-container"],t=this.props.adSize,r=!0,n=BM(t);n||(t[0]<t[1]?(r=!1,e.push("reader-container--ad-on-left")):e.push("reader-container--ad-on-bottom"));var o=null;switch(this.props.loading.status){case"loading-status@FAILED":o=c.createElement(ar,{sessionId:this.props.sessionId,reloadDocument:this.reloadDocument,error:this.props.loading.error});break;case"loading-status@SUCCESS":o=this.props.showBlockedEmbedScreen?c.createElement(CN,null):c.createElement(bL,{featureTracker:this.props.featureTracker,toggleFullscreen:this.toggleFullscreen},c.createElement(WD,{config:this.props.config,toggleFullscreen:this.toggleFullscreen,metrics:this.props.metrics,loadStatsTracker:this.props.loadStatsTracker,trackOnceMixpanel:this.props.trackOnceMixpanel}));break;case"loading-status@INITIALIZED":case"loading-status@LOADING":default:o=c.createElement(Lf,null)}this.props.backgroundImage&&("TOP_LEFT"===this.props.backgroundImage.style?e.push("reader-container--background-image-top-left"):"STRETCH"===this.props.backgroundImage.style&&e.push("reader-container--background-image-stretch"));var i={width:"100%",height:"100%",backgroundColor:this.props.backgroundColor,backgroundImage:this.props.backgroundImage?"url('".concat(this.props.backgroundImage.url,"')"):"none"};return c.createElement("div",{ref:this.container,id:"ird3-main",className:e.join(" "),style:i},o,c.createElement(JL,{metrics:this.props.metrics}),!n&&c.createElement(iL,{adSize:t,horizontalLayout:r,metrics:this.props.metrics,smallLayout:this.props.adSmallLayout}))}}]),r}(c.Component);zN(HN,"displayName","Main");var VN=function(e){return{backgroundColor:Ls(e),backgroundImage:Ns(e),config:e.config,loading:e.loading,readMorePlugin:e.readMorePlugin,sessionId:e.config.sessionId,adSize:NM(e),adSmallLayout:LM(e),showBlockedEmbedScreen:AN(e)}},GN=function(e){return{toggleFullscreen:$r(Yl,e),loadReaderData:$r(Ml,e),onVisibilityChange:$r(rf,e)}},qN=$n(VN,GN,void 0,{pure:!1})(HN);function $N(e,t){switch(t.type){case Sl:return{status:"loading-status@LOADING",loadStartTime:t.timeStamp};case Pl:if("loading-status@LOADING"!==e.status)throw new Error("Can not return SUCCESS without LOADING (".concat(e.status,")"));return{status:"loading-status@SUCCESS",loadStartTime:e.loadStartTime,loadSuccessTime:t.timeStamp};case Cl:if("loading-status@LOADING"!==e.status)throw new Error("Can not return FAILED without LOADING (".concat(e.status,")"));return{status:"loading-status@FAILED",loadStartTime:e.loadStartTime,loadFailureTime:t.timeStamp,error:t.error};default:return e}}var KN={status:"loading-status@INITIALIZED"};function YN(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:KN,t=arguments.length>1?arguments[1]:void 0;return $N(e,t)}}function XN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ZN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?XN(Object(r),!0).forEach((function(t){JN(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XN(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function JN(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var QN={arrivedAtSpreadTimeStamp:0,autoFlipInitially:!1,debugMode:!1,hoveringOverControls:!1,initialPageNumber:0,interactedWithReader:!1,interactingWithControls:!1,interactingWithCanvas:!1,isIdle:!0,isReady:!1,lastSpreadIndexArrivedAt:-1,targetSpreadIndex:0,visiblePageNumbers:[],currentPageNumbers:[],currentPageNumber:0,currentSpreadIndex:-1,positionInPercent:0,zoomLevel:1,largeViewState:Em,largeViewPromoted:!1,smartzoomTutorialVisibility:"HIDDEN_INITIAL"};function eB(e,t){return Object.assign({},e,{targetSpreadIndex:t.index})}function tB(e,t){var r=t.pageNumber,n=t.targetSpreadIndex,o=t.currentPageNumbers;return Object.assign({},e,{targetSpreadIndex:n,currentPageNumbers:o,currentPageNumber:r,isReady:!0})}function rB(e,t){return Object.assign({},e,{visiblePageNumbers:t.visiblePageNumbers,currentPageNumbers:t.currentPageNumbers,currentSpreadIndex:t.currentSpreadIndex,currentPageNumber:t.currentPageNumber,positionInPercent:t.positionInPercent,targetSpreadIndex:t.currentSpreadIndex===e.targetSpreadIndex?-1:e.targetSpreadIndex})}function nB(e,t){return Object.assign({},e,{zoomLevel:t.zoomLevel})}function oB(e,t){return Object.assign({},e,{isIdle:t.isIdle})}function iB(e,t){return Object.assign({},e,{interactingWithControls:t.val})}function aB(e){return Object.assign({},e,{interactedWithReader:!0})}function sB(e){return Object.assign({},e,{interactedWithReader:!1})}function uB(e,t){return Object.assign({},e,{hoveringOverControls:t})}function cB(e,t){return Object.assign({},e,{largeViewState:t})}function lB(e,t){return Object.assign({},e,{largeViewPromoted:t})}function fB(e,t){return ZN(ZN({},e),{},{smartzoomTutorialVisibility:t})}function pB(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{hasPageChanged:!1},r=t.hasPageChanged;return"HIDDEN_INITIAL"===e.smartzoomTutorialVisibility?e:"VISIBLE"===e.smartzoomTutorialVisibility?ZN(ZN({},e),{},{smartzoomTutorialVisibility:"HIDDEN_FINAL"}):r&&"HIDDEN_READY"===e.smartzoomTutorialVisibility?ZN(ZN({},e),{},{smartzoomTutorialVisibility:"HIDDEN_RESET"}):e}function dB(e,t){switch(t.type){case fc.SET_TARGET_SPREAD_INDEX:return eB(e,t);case fc.SET_INTERACTING_WITH_CONTROLS:return iB(e,t);case fc.SET_INTERACTED_WITH_READER:return aB(e);case fc.SET_HOVERING_OVER_CONTROLS:return uB(e,t.val);case fl:return uB(e,!1);case Do:return pB(rB(e,t),{hasPageChanged:!!t.currentPagesHasChanged});case fc.READER_ZOOM_LEVEL_CHANCED:return pB(nB(e,t));case fc.LARGE_VIEW_HIDE:return cB(e,Em);case fc.LARGE_VIEW_SHOW_ENGAGED:return cB(e,Om);case fc.LARGE_VIEW_SHOW_DISENGAGED:return cB(e,Tm);case fc.LARGE_VIEW_BUTTON_PROMOTED:return lB(e,!0);case fc.LARGE_VIEW_BUTTON_NOT_PROMOTED:return lB(e,!1);case"EMBED_PREVIEW":return sB(e);case Pl:return tB(e,t);case"SET_IS_IDLE":return oB(e,t);case"SET_SMARTZOOM_TUTORIAL_VISIBILITY":return fB(e,t.visibility);case"@reader3/find/FIND_OPEN_DIALOG":case"TOGGLE_DROPDOWN":return pB(e);default:return e}}var hB=function(e,t){return ZN(ZN({},QN),{},{autoFlipInitially:e.autoFlip,initialPageNumber:t})};function yB(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hB(e,t),n=arguments.length>1?arguments[1]:void 0;return dB(r,n)}}function mB(e){if(e.backgroundImage){var t=null;if("topleft"===e.backgroundImagePosition?t="TOP_LEFT":"stretch"===e.backgroundImagePosition&&(t="STRETCH"),t)return{url:e.backgroundImage,style:t,hideWhenNotInFullscreen:!e.showBackgroundImagesOutsideFullscreen}}return null}function vB(e){return e.logo?{url:e.logo,hideWhenNotInFullscreen:!e.showBackgroundImagesOutsideFullscreen}:null}function gB(e,t){switch(t.type){case"EMBED_PREVIEW":var r=t.embedConfig,n=Object.assign({},e,{autoFlip:r.autoFlip,backgroundImage:mB(r),logo:vB(r),backgroundColor:r.backgroundColor,fullscreenBackgroundColor:r.fullscreenBackgroundColor,readModeRules:{defaultMode:"singlePage"===r.viewMode?"SINGLE_PAGE_SPREAD":"DOUBLE_PAGE_SPREAD",responsiveModeWhen:"HANDHELD_IN_PORTRAIT_IN_FULLSCREEN"}});return n.controls=n.controls.map((function(e){return"FEATURE_SHARE_DIALOG"===e.type?Object.assign({},e,{customizedToNotShow:!r.shareButtonEnabled}):e})),n;default:return e}}function _B(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,r=arguments.length>1?arguments[1]:void 0;return gB(t,r)}}function bB(e){return Object.assign({},e,{visibleDropdown:null,readMoreDropdownVisible:!1})}function wB(e,t){return Object.assign(bB(e),{visibleDropdown:t!==e.visibleDropdown?t:null})}function EB(e){return Object.assign(bB(e),{readMoreDropdownVisible:!0})}function OB(e,t){switch(t.type){case Og:return wB(e,t.dropdown);case hg:return EB(e);case yg:case Qu:case ec:case Wl:case zl:return bB(e);case Do:return t.isDragging?bB(e):e;case nc:return t.isPinching?bB(e):e;case"DOWNLOAD_READY":case"DOWNLOAD_LOADING":case"DOWNLOAD_SUCCESS":case"DOWNLOAD_FAILURE":return bB(e);default:return e}}var TB={visibleDropdown:null,readMoreDropdownVisible:!1};function xB(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:TB,t=arguments.length>1?arguments[1]:void 0;return OB(e,t)}}var kB={youtubeApiReady:!1,vimeoApiReady:!0,activeVideoLink:null};function SB(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kB,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pC:return Object.assign({},e,{youtubeApiReady:!0});case dC:return Object.assign({},e,{activeVideoLink:t.videoLink});default:return e}}}var PB={status:"DOWNLOAD_READY"};function CB(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:PB,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DOWNLOAD_READY":case"DOWNLOAD_LOADING":case"DOWNLOAD_SUCCESS":case"DOWNLOAD_FAILURE":return{status:t.type};default:return e}}var AB={pages:[]};function RB(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:AB,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Lo:var r=t.doc.pages;return{pages:r};default:return e}}function jB(e,t,r,n,o,i,a,s,u,c){var l=yB(i,o),f=YN(),p=_B(i),d=xB(),h=Gl(),y=Eg(),m=Vw(u),v=yl(),g=Cw(),_=mi(),b=Fa(i.disableLicenseCheck),w=Sm(e,t,r,n),E=SB(),O=$u(),T=jt(c),x={metadata:No,pages:AB,links:tl,canvasContext:Hw(u),download:PB,fullscreen:Vl,headerControls:TB,loading:KN,reader:hB(i,o),readmore:wg,paywall:Fr,size:pl,videoOverlay:Uc,inlineVideo:kB,visibility:nf,features:i,canvasApi:Sw,find:ui,licenses:Ba(i.disableLicenseCheck),config:km(e,t,r,n),featureTracker:a,adOverlay:Su,experiment:Rt(c),readMorePlugin:s,smartnav:Ui};return function(e,t){var r=e||x;return{metadata:Uo(r.metadata,t),pages:RB(r.pages,t),links:al(r.links,t),canvasContext:m(r.canvasContext,t),download:CB(r.download,t),fullscreen:h(r.fullscreen,t),headerControls:d(r.headerControls,t),loading:f(r.loading,t),reader:l(r.reader,t),readmore:y(r.readmore,t),paywall:Ur(r.paywall,t),size:v(r.size,t),videoOverlay:Wc(r.videoOverlay,t),inlineVideo:E(r.inlineVideo,t),visibility:of(r.visibility,t),features:p(r.features,t),canvasApi:g(r.canvasApi,t),find:_(r.find,t),licenses:b(r.licenses,t),config:w(r.config),featureTracker:a,readMorePlugin:"EMBED_PREVIEW"===t.type?t.readMorePlugin:r.readMorePlugin||s,adOverlay:O(r.adOverlay,t),experiment:T(r.experiment),smartnav:zi(r.smartnav,t)}}}function IB(e){return function(t){var r=t.dispatch,n=t.getState;return function(t){return function(o){return"function"==typeof o?o(r,n,e):t(o)}}}}var DB=IB();DB.withExtraArgument=IB;var MB=DB;function LB(){return function(e,t){var r=t(),n=xm(r).api,o=Fo(r),i=o.username,a=o.documentName,s=_s(r);return"NOTLOADED"!==r.paywall.status?Promise.resolve():(e({type:Lr}),fetch("".concat(n,"/call/paywall/reader/v2/overlay/").concat(i,"/").concat(a),{credentials:s?"include":"omit",mode:"cors"}).then((function(e){if(!e.ok)throw new Error("Error load paywallOverlay Api (response.status: ".concat(e.status,")"));return e.json()})).then((function(t){var r=t.currentUserPurchased,n=t.isNotAvailable,o=t.priceAmount,i=t.priceCurrency,a=t.readPurchasedPath;return e({type:Nr,currentUserPurchased:r,isNotAvailable:n,priceAmount:o,priceCurrency:i,readPurchasedPath:a})})).catch((function(t){return e({type:Br,error:t})})))}}function NB(e){var t=!1,r=!1;return function(n){return function(o){return function(i){var a=o(i);if(i.type===Lo&&Ka(n.getState())&&(t=!0,n.dispatch(LB())),!t)return a;if(i.type===Nr)e.monitor("paywall.reader3.show-document");else if(!r&&i.type===Do){var s=n.getState();Xs(s)&&(e.monitor("paywall.reader3.show-overlay"),r=!0)}return a}}}}var BB=4e3,FB=void 0,UB=!0;function WB(e){FB=window.setInterval((function(){As(e.getState())?UB=!0:Cs(e.getState())&&(UB=!1),e.dispatch(UB?Tc():Oc())}),BB)}function zB(){FB&&(window.clearInterval(FB),FB=void 0)}var HB=function(e){return function(t){return function(r){var n=t(r);switch(r.type){case Pl:e.getState().reader.autoFlipInitially&&WB(e);break;case fc.SET_INTERACTED_WITH_READER:e.getState().reader.interactedWithReader&&zB();break;case"EMBED_PREVIEW":zB(),e.getState().features.autoFlip&&WB(e)}return n}}};function VB(e){var t=null,r=e;function n(e){if(t&&r){e.dispatch(t);var n=e.getState().readMorePlugin;n&&e.dispatch(bg(n))}}return function(e){return function(o){return function(i){var a=o(i);switch(i.type){case Al:t=Il(i.timeStamp,i.pageNumber,i.targetSpreadIndex,i.currentPageNumbers),n(e);break;case"ENABLE_TRACKING":r||(r=!0,n(e))}return a}}}}function GB(e){return function(t){return function(r){return function(n){var o=r(n);switch(n.type){case Pl:var i=t.getState().loading;if("loading-status@LOADING"===i.status&&e.monitor("reader3-documentload-stats",{success_time:i.loadSuccessTime?i.loadSuccessTime-i.loadStartTime:0}),e.isEmbed){var a={};a[Is(t.getState())]=1,e.monitor("reader3-embed-size",a)}break;case Cl:var s=t.getState().loading;"loading-status@FAILED"===s.status&&e.monitor("reader3-documentload-stats",{failed_time:s.loadFailureTime-s.loadStartTime,backend_error:s.error.name===I?1:0,fetch_error:s.error.name===R?1:0});break;case pg:e.monitor("reader3-readmoreload-stats",{success:1});break;case dg:e.monitor("reader3-readmoreload-stats",{failure:1});break;case Wl:var u="reader3-fullscreen-method.".concat(n.fullscreenMethod);e.monitor(u,{count:1})}return o}}}}r(116);var qB=[],$B=[];function KB(e){return function(t){return function(r){return function(n){var o=r(n),i=t.getState();switch(n.type){case tc:e.onActivity(i.reader.interactedWithReader);break;case nc:e.onZoom(i.reader.zoomLevel);break;case"DOWNLOAD_SUCCESS":e.onDownload(Fo(i));break;case Do:if(n.currentPagesHasChanged){var a=qu(i);a&&$B.push(i.reader.currentPageNumbers);var s=a?qB:i.reader.currentPageNumbers;e.onPageChanged(s)}break;case Au:$B.forEach((function(t){e.onPageChanged(t)})),$B.splice(0);break;case Pl:var u=Gu(i)?qB:Ts(i);e.onDocumentLoaded(Fo(i),u,ws(i));break;case fl:e.onResize("".concat(n.width,"x").concat(n.height),ws(i));break;case Qc:if(n.linkModel.type===Jc.GOTO_PAGE){var c=n.linkModel,l=c.id,f=c.page.pageNumber,p=c.gotoPageNumber;e.onClippingActionGotoPage(l,f,p)}else{var d=n.linkModel,h=d.id,y=d.page.pageNumber,m=d.url;e.onClippingActionOpenUrl(h,y,m)}}return o}}}}function YB(){window.Cookiebot&&!window.Cookiebot.hasResponse&&window.Cookiebot.regulations&&!window.Cookiebot.regulations.gdprApplies&&window.CookiebotDialog&&"implied"===window.CookiebotDialog.consentLevel&&window.CookiebotDialog.submitConsent(!0,document.location.href)}function XB(){return function(e){return function(e){return function(t){var r=e(t);switch(t.type){case tc:YB()}return r}}}}var ZB=2e3,JB=[],QB=function(e,t,r,n){var o="reader3-ad-takeover.".concat(e,".").concat(r?"fullscreen":"normal",".").concat(t[0]);n.monitor(o)},eF=function(e,t,r,n){var o=t?"fullscreen":"normal";e.forEach((function(e){var t="reader3-ad-takeover.page_read.".concat(e,".").concat(o,".").concat(r,".").concat(n.readerEndPoint);n.monitor(t)}))},tF=function(e,t,r){var n="reader3-ad-takeover.document_impression.".concat(e?"fullscreen":"normal",".").concat(t,".").concat(r.readerEndPoint);r.monitor(n)};function rF(e){var t,r=[];return function(n){return function(o){return function(i){var a=o(i),s=n.getState();switch(i.type){case Do:if(i.currentPagesHasChanged&&Wu(s))if(qu(s))JB.push(s.adOverlay.sessionPageNumbers);else{var u=r.concat(s.adOverlay.sessionPageNumbers);r.length&&(window.clearTimeout(t),r=[]),eF(u,ws(s),s.experiment.identifier,e)}bu(e,s.adOverlay.sessionPageNumbers);break;case Pu:QB("requested",s.adOverlay.sessionPageNumbers,ws(s),e);break;case Cu:QB("displayed",s.adOverlay.sessionPageNumbers,ws(s),e);break;case Au:JB.forEach((function(t){eF(t,ws(s),s.experiment.identifier,e)})),JB.splice(0),QB(i.reason,s.adOverlay.sessionPageNumbers,ws(s),e);break;case Pl:Wu(s)&&(i.currentPageNumbers.includes(1)&&tF(ws(s),s.experiment.identifier,e),qu(s)?JB.push(r):(r=s.adOverlay.sessionPageNumbers,t=window.setTimeout((function(){var t=n.getState();eF(r,ws(t),t.experiment.identifier,e),r=[]}),ZB)))}return a}}}}var nF,oF=function(){return(oF=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},iF={error:gM()("@issuu/request:error"),info:gM()("@issuu/request:info")};iF.info.log=console.log.bind(console);try{nF=!0}catch(e){nF=!0}var aF=function(e){return new Promise((function(t){return setTimeout(t,e)}))},sF="ERROR_REQUEST",uF="ERROR_AUTH",cF="ERROR_API",lF="ERROR_NOT_FOUND",fF="ERROR_TIMEOUT",pF="ERROR_JSON_DECODE",dF=function(e){return Object.keys(e).reduce((function(t,r){return t+(r+"=")+e[r]+"; "}),"").slice(0,-2)},hF=function(e){return Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")},yF=function(e){return hF(e).replace(/%20/g,"+")};function mF(e,t){void 0===t&&(t={});var r,n=Date.now();if(t.fetch)r=t.fetch;else{if("undefined"==typeof fetch)throw new Error('No usable fetch function found. Use a polyfill or provide it as "fetch" option');r=fetch}var o=t.method||"GET",i=t.cookies||{};if(t.req&&t.req.cookies){var a=t.req.cookies;i=oF(oF({},i),{"site.model.username":a["site.model.username"],"site.model.token":a["site.model.token"]});for(var s=0,u=Object.keys(a).filter((function(e){return e.startsWith("x-issuu-")}));s<u.length;s++){var c=u[s];i[c]=a[c]}}var l,f=oF({Cookie:dF(i),"Content-Type":t.urlEncoded?"application/x-www-form-urlencoded":"application/json"},t.headers),p=e;if("GET"===o&&(t.body||t.noCache)){var d=t.body||{};t.noCache&&(d=oF(oF({},d),{_:Date.now()})),p=e.indexOf("?")>-1?e+"&"+hF(d):e+"?"+hF(d)}"GET"!==o&&t.urlEncoded?l=yF(t.body||{}):"GET"!==o&&(l=JSON.stringify(t.body||{}));var h=r(p,{credentials:"same-origin",method:o,headers:f,body:l}).catch((function(e){return iF.error(o+" "+p+" "+sF+" "+e.message),Promise.reject({type:sF,url:p,options:t,nativeError:e,nativeErrorMessage:e.message})})).then((function(e){return e.text().then((function(e){return t.textResponse?e||"":e?JSON.parse(e):{}})).catch((function(e){return iF.error(o+" "+p+" "+pF+" "+e.message),Promise.reject({type:pF,url:p,nativeError:e,nativeErrorMessage:e.message})})).then((function(t){var r=Date.now()-n;if(!e.ok){var i=void 0;i=403===e.status?uF:404===e.status?lF:cF,iF.error(o+" "+p+" "+i+" "+e.status+": "+e.statusText+", response: %o",t);var a="string"==typeof t?{payload:t}:t;return Promise.reject(oF(oF({},a),{type:i,url:p}))}return iF.info(o+" "+p+" "+e.status+" "+r+"ms"),t}))})),y=t.timeout||(nF?4e3:void 0);if(y){var m=aF(y).then((function(){return Promise.reject({type:fF,url:p})}));return Promise.race([m,h])}return h}function vF(e,t){void 0===t&&(t={});var r=t.headers;return t.noCache&&(r=oF(oF({},r),{"Cache-Control":"no-cache"})),mF(e,oF(oF({},t),{headers:r}))}var gF=r(201);function _F(e,t,r,n){var o=Object(gF.parse)(t),i=r.reduce((function(e,t){return e[t]=o[t]||null,e}),{});if(r.some((function(e){return i[e]})))i[n]=Date.now(),e.register(i);else{var a=parseInt(e.get_property(n),10)||0;Date.now()-a>6048e5&&(e.unregister(n),Object.keys(i).forEach((function(t){return e.unregister(t)})))}}function bF(e){var t=Object(gF.parse)(e);return["issuu_product","issuu_subproduct","issuu_context","issuu_cta"].reduce((function(e,r){return e[r]=t[r]||null,e}),{})}function wF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function EF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function OF(e,t,r){return t&&EF(e.prototype,t),r&&EF(e,r),e}function TF(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,o)}function xF(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){TF(i,n,o,a,s,"next",e)}function s(e){TF(i,n,o,a,s,"throw",e)}a(void 0)}))}}function kF(e,t){return SF.apply(this,arguments)}function SF(){return(SF=xF(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.race([r,new Promise((function(e){n=setTimeout(e,t)}))]).then((function(){clearTimeout(n)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function PF(e){return void 0!==e.mixpanel&&"function"==typeof e.mixpanel.get_property&&"function"==typeof e.mixpanel.register&&"function"==typeof e.mixpanel.unregister}var CF=function(){function e(t){var r=this;if(wF(this,e),this.window=t,this.queue=[],t.mixpanel&&PF(t))this.setupMixpanelSuperProps(t.mixpanel);else var n=setInterval((function(){if(t.mixpanel&&PF(t)){clearInterval(n);var e=r.queue.map((function(e){return r.mixpanelTracker(e.event,e.payload,e.options)}));r.queue=[],r.setupMixpanelSuperProps(t.mixpanel),Promise.all(e).then((function(){r.tracker.initialized=!0}))}}),100);this.tracker={track:function(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.mixpanel&&PF(t)?r.mixpanelTracker(e,n,o):r.mixpanelTrackerQueue(e,n,o)},getDistinctId:function(){var e,r;return null===(e=t.mixpanel)||void 0===e||null===(r=e.get_distinct_id)||void 0===r?void 0:r.call(e)},reset:function(){var e,r;return null===(e=t.mixpanel)||void 0===e||null===(r=e.reset)||void 0===r?void 0:r.call(e)},initialized:!!t.mixpanel}}var t,r,n;return OF(e,[{key:"getCookie",value:function(e){if(void 0!==this.window.document){var t=new RegExp("(?:(?:^|.*;\\s*)".concat(e,"\\s*\\=\\s*([^;]*).*$)|^.*$"));return this.window.document.cookie.replace(t,"$1")}}},{key:"setupMixpanelSuperProps",value:function(e){_F(e,this.window.location.search,["utm_source","utm_medium","utm_campaign","utm_content","utm_term"],"utm_timestamp"),_F(e,this.window.location.search,["embed_id","embed_domain","embed_context","embed_cta"],"embed_timestamp")}},{key:"getUserPlan",value:(n=xF(regeneratorRuntime.mark((function e(t){var r,n,o=this,i=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=i.length>1&&void 0!==i[1]?i[1]:{},n=r.force,!this.cachedUserPlan||n){e.next=3;break}return e.abrupt("return",this.cachedUserPlan);case 3:return this.cachedUserPlanPromise||(this.cachedUserPlanPromise=vF("/res/licensing/".concat(t,"/publisher_plan")).then((function(e){return"ok"===e.rsp.stat?e.rsp._content.plan:"free"})).catch((function(e){return EM.error("could not get user license, %o",e),"free"})).then((function(e){return o.cachedUserPlanPromise=void 0,o.cachedUserPlan=e,e}))),e.abrupt("return",this.cachedUserPlanPromise);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"mixpanelTrackerQueue",value:(r=xF(regeneratorRuntime.mark((function e(t,r){var n,o=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>2&&void 0!==o[2]?o[2]:{},r?this.queue.push({event:t,payload:r,options:n}):this.queue.push({event:t,options:n}),e.abrupt("return",Promise.resolve());case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"mixpanelTracker",value:(t=xF(regeneratorRuntime.mark((function e(t,r){var n,o,i,a,s,u=this,c=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=c.length>2&&void 0!==c[2]?c[2]:{},e.prev=1,o=this.getCookie("site.model.username"),i=this.getCookie("site.model.token"),a=null,!o||!i||n.noPlanInfo){e.next=9;break}return e.next=8,this.getUserPlan(o,{force:n.forcePlanCheck});case 8:a=e.sent;case 9:return s={},o&&Object.assign(s,{username:o}),a&&Object.assign(s,{current_plan:a}),Object.assign(s,r||{},bF(this.window.location.search)),e.abrupt("return",kF(100,new Promise((function(e){var r,n,o=null===(r=u.window.mixpanel)||void 0===r||null===(n=r.track)||void 0===n?void 0:n.call(r,t,s,e);o?EM.info('tracking "'.concat(o.event,'" with payload %o'),o.properties):EM.info('(deffered) tracking "'.concat(t,'" with payload %o'),s)}))));case 16:e.prev=16,e.t0=e.catch(1),EM.error("error while attempting to track, %o",e.t0);case 19:case"end":return e.stop()}}),e,this,[[1,16]])}))),function(e,r){return t.apply(this,arguments)})}]),e}();function AF(e){var t=null!=e?e:window;return t.mp_issuu_t||(t.mp_issuu_t=new CF(t).tracker),t.mp_issuu_t}function RF(e){return MF(e)||DF(e)||IF(e)||jF()}function jF(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function IF(e,t){if(e){if("string"==typeof e)return LF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?LF(e,t):void 0}}function DF(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function MF(e){if(Array.isArray(e))return LF(e)}function LF(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var NF,BF="TRACKED_EVENTS_MIXPANEL",FF=(NF=[],function(e){if(e.fake){var t=function(e,t,r){return NF.push({event:e,payload:t,options:r}),Promise.resolve()};return t.queue=NF,{track:t,getDistinctId:function(){},initialized:!1,reset:function(){}}}return window.loadMixpanel&&window.loadMixpanel(),AF()}),UF=function(){var e=kt();return"string"==typeof e.iutk&&parseInt(e.iutk.slice(0,8),16)%1e3<10},WF=function(e){return function(t,r){try{if(UF()){var n=JSON.parse(sessionStorage.getItem(BF)||"{}");if(n[r.documentId]&&n[r.documentId].includes(t))return Promise.resolve();n[r.documentId]=[].concat(RF(n[r.documentId]||[]),[t]),sessionStorage.setItem(BF,JSON.stringify(n));for(var o=arguments.length,i=new Array(o>2?o-2:0),a=2;a<o;a++)i[a-2]=arguments[a];return e.track.apply(e,[t,r].concat(i))}return Promise.resolve()}catch(e){return Promise.resolve()}}},zF=FF;r(396);function HF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function GF(e,t,r){return t&&VF(e.prototype,t),r&&VF(e,r),e}function qF(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var $F=5e3,KF=function(){function e(t){HF(this,e),qF(this,"metrics",void 0),qF(this,"mode",void 0),qF(this,"_hasTrackedTimeToCover",!1),qF(this,"_pageLoadStartTime",new Map),qF(this,"_fontLoadStartTime",new Map),qF(this,"_imageDecodeStartTime",new Map),qF(this,"_pageLoadStats",{failedCount:0,successCount:0,successAfterRetryCount:0,failedTotalTime:0,successTotalTime:0,layersImageFallbackCount:0,fontloadCount:0,fontloadTotalTime:0}),qF(this,"_pageLoadStatsTimerId",null),qF(this,"_totalFontRenderCalls",0),qF(this,"_totalSlowFontRenderCalls",0),qF(this,"_totalFramesDroppedOnFontRendering",0),qF(this,"_fontRenderingTimings",{uncached:[],preview:[],hires:[]}),qF(this,"_fontLoadTimings",[]),qF(this,"_imageDecodeTimings",[]),this.metrics=t}return GF(e,[{key:"onLoaderError",value:function(){this.metrics.monitor("reader3-render-manager-load-layer-error")}},{key:"onOpsValidationError",value:function(e){this.metrics.monitor("reader3-render-manager-ops-validation-failed",{count:e})}},{key:"onDynamicApiLoadComplete",value:function(e,t){t?this.metrics.monitor("reader3-dynamicapi-stats",{failure:1,failure_time:Math.round(e)}):this.metrics.monitor("reader3-dynamicapi-stats",{success:1,success_time:Math.round(e)})}},{key:"onPageLoadStart",value:function(e,t){this.mode=t,this._pageLoadStartTime.set(e,Ne()())}},{key:"onPageLoadSuccess",value:function(e){var t=Ne()();if(!this._hasTrackedTimeToCover){try{var r=window.performance.timing.fetchStart-window.performance.timing.navigationStart,n=window.performance.now()-r;this.metrics.onTimeToCover(n)}catch(e){}this._hasTrackedTimeToCover=!0}this._pageLoadStats.successCount+=1,this._pageLoadStats.successTotalTime+=t-(this._pageLoadStartTime.get(e)||0),this._pageLoadStartTime.delete(e),this.batchPageLoadStats()}},{key:"onPageLoadSuccessAfterRetry",value:function(e){this._pageLoadStats.successAfterRetryCount+=1,this.onPageLoadSuccess(e)}},{key:"onPageLoadFailure",value:function(e){this._pageLoadStats.failedCount+=1,this._pageLoadStats.failedTotalTime+=Ne()()-(this._pageLoadStartTime.get(e)||0),this.batchPageLoadStats()}},{key:"onLayersImageFallback",value:function(){this._pageLoadStats.layersImageFallbackCount+=1,this.batchPageLoadStats()}},{key:"onFontRenderingStart",value:function(){}},{key:"onFontRenderingEnd",value:function(){}},{key:"uncachedFontRenderingTracker",value:function(){return this._fontRenderingTracker("uncached")}},{key:"previewFontRenderingTracker",value:function(){return this._fontRenderingTracker("preview")}},{key:"hiresFontRenderingTracker",value:function(){return this._fontRenderingTracker("hires")}},{key:"_fontRenderingTracker",value:function(e){var t,r=this;return{start:function(){t=Ne()()},end:function(){var n=Ne()()-t;r._fontRenderingTimings[e].push(Math.round(n)),r._totalFontRenderCalls+=1;var o=Math.max(Math.floor(n/(1e3/60))-1,0);o&&(r._totalSlowFontRenderCalls+=1,r._totalFramesDroppedOnFontRendering+=o),r.batchPageLoadStats()}}}},{key:"onFontLoadStart",value:function(e){this._fontLoadStartTime.set(e,Ne()())}},{key:"onFontLoadEnd",value:function(e){var t=Ne()()-(this._fontLoadStartTime.get(e)||0);this._fontLoadTimings.push(Math.round(t)),this._fontLoadStartTime.delete(e)}},{key:"onImageDecodeStart",value:function(e){this._imageDecodeStartTime.set(e,Ne()())}},{key:"onImageDecodeEnd",value:function(e){var t=Ne()()-(this._imageDecodeStartTime.get(e)||0);this._imageDecodeTimings.push(Math.round(t)),this._imageDecodeStartTime.delete(e)}},{key:"batchPageLoadStats",value:function(){var e=this;if(!this._pageLoadStatsTimerId){var t=this._pageLoadStats;this._pageLoadStatsTimerId=setTimeout((function(){if(e._pageLoadStatsTimerId=null,t.successCount>0){var r={success_count:t.successCount,success_total_time:t.successTotalTime,success_avg_time:t.successTotalTime/t.successCount,success_after_retry:t.successAfterRetryCount,mode:e.mode,load_and_decode_count:void 0,load_and_decode_total_time:void 0,load_and_decode_avg_time:void 0};t.fontloadCount>0&&(Object.assign(r,{load_and_decode_count:t.fontloadCount,load_and_decode_total_time:t.fontloadTotalTime,load_and_decode_avg_time:t.fontloadTotalTime/t.fontloadCount}),t.fontloadCount=0,t.fontloadTotalTime=0),e.metrics.monitor("reader3-pageload-stats",r),t.successCount=0,t.successAfterRetryCount=0,t.successTotalTime=0}t.layersImageFallbackCount>0&&(e.metrics.monitor("reader3-pageload-stats",{layers_image_fallback_count:t.layersImageFallbackCount}),t.layersImageFallbackCount=0),t.failedCount>0&&(e.metrics.monitor("reader3-pageload-stats",{failed_count:t.failedCount,failed_total_time:t.failedTotalTime,failed_avg_time:t.failedTotalTime/t.failedCount,mode:e.mode}),t.failedCount=0,t.failedTotalTime=0),e._totalFontRenderCalls>0&&(e.metrics.monitor("reader3-fontrender-stats",{total:e._totalFontRenderCalls,total_slow:e._totalSlowFontRenderCalls,total_frames_dropped:e._totalFramesDroppedOnFontRendering,mode:e.mode,time_uncached:e._fontRenderingTimings.uncached.slice(0),time_preview:e._fontRenderingTimings.preview.slice(0),time_hires:e._fontRenderingTimings.hires.slice(0)}),e._totalFontRenderCalls=0,e._totalSlowFontRenderCalls=0,e._totalFramesDroppedOnFontRendering=0,e._fontRenderingTimings.uncached.length=0,e._fontRenderingTimings.preview.length=0,e._fontRenderingTimings.hires.length=0),(e._fontLoadTimings.length||e._imageDecodeTimings.length)&&(e.metrics.monitor("reader3-fontload-stats",{image_decode:e._fontLoadTimings.slice(0),font_load:e._imageDecodeTimings.slice(0),mode:e.mode}),e._fontLoadTimings.length=0,e._imageDecodeTimings.length=0)}),$F)}}}]),e}();function YF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ZF(e,t,r){return t&&XF(e.prototype,t),r&&XF(e,r),e}function JF(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var QF=1e3,eU=function(){function e(t){YF(this,e),JF(this,"quantcastTracker",void 0),JF(this,"_previousPageNumbers",[]),JF(this,"_timeoutId",void 0),this.quantcastTracker=t}return ZF(e,[{key:"destroy",value:function(){window.clearTimeout(this._timeoutId)}},{key:"onDocumentLoaded",value:function(e){var t=this;this._previousPageNumbers=e,Be().rIC((function(){t.quantcastTracker.track()}))}},{key:"onPageChanged",value:function(e){var t=this;this._previousPageNumbers.join()!==e.join()&&(this._previousPageNumbers=e,window.clearTimeout(this._timeoutId),this._timeoutId=window.setTimeout((function(){var e=t._previousPageNumbers.slice();Be().rIC((function(){e.forEach((function(){t.quantcastTracker.track()}))}))}),QF))}}]),e}();function tU(e,t){return function(r){return function(n){return function(o){var i=n(o),a=r.getState();try{switch(o.type){case Pl:e.onDocumentLoaded(o.currentPageNumbers);break;case Do:a.reader.isReady&&o.currentPagesHasChanged&&e.onPageChanged(o.currentPageNumbers)}}catch(e){t(e)}return i}}}}function rU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nU(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function oU(e,t,r){return t&&nU(e.prototype,t),r&&nU(e,r),e}function iU(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var aU=1e3,sU=function(){function e(t){rU(this,e),iU(this,"gaTracker",void 0),iU(this,"_baseUrl",""),iU(this,"_previousPageNumbers",[]),iU(this,"_timeoutId",void 0),this.gaTracker=t}return oU(e,[{key:"destroy",value:function(){window.clearTimeout(this._timeoutId)}},{key:"onDocumentLoaded",value:function(e,t,r){var n=this;this._baseUrl=e,this._previousPageNumbers=r,Be().rIC((function(){n.gaTracker.sendInitialPageview("".concat(n._baseUrl,"/").concat(t)),n.gaTracker.handleDocumentLoadByPublisherAccount(n._baseUrl)}))}},{key:"onPageChanged",value:function(e){var t=this;this._previousPageNumbers.join()!==e.join()&&(this._previousPageNumbers=e,window.clearTimeout(this._timeoutId),this._timeoutId=window.setTimeout((function(){var e=t._previousPageNumbers.slice();Be().rIC((function(){e.forEach((function(e){t.gaTracker.sendVirtualPageview("".concat(t._baseUrl,"/").concat(e))}))}))}),aU))}}]),e}();function uU(e,t){return function(r){return function(n){return function(o){var i=n(o),a=r.getState();try{switch(o.type){case Pl:e.onDocumentLoaded(Fo(a).path,o.pageNumber,o.currentPageNumbers);break;case Do:a.reader.isReady&&o.currentPagesHasChanged&&e.onPageChanged(o.currentPageNumbers)}}catch(e){t(e)}return i}}}}function cU(e,t,r){var n=[ha,va,da,pa,ma,ya],o=function(e,t){var r=t();r.readMorePlugin&&r.readMorePlugin.load(r.config.origins.main,Fo(r).publicationId,Fo(r).username,Ca(r),Aa(r)).then((function(t){t&&e(mg())}))};return function(i,a){i({type:"EMBED_PREVIEW",embedConfig:t,readMorePlugin:r});var s=xs(a());i(Ec(Wo(s,t.startPage))),t.noRelatedEnabled?(i(Ma(n.concat([ga]))),i(o)):e.whenLicensesFetched().then((function(e){i(Ma(Array.from(new Set(n.concat(e))))),i(o)}))}}function lU(e){return function(t,r){return t(Ec(Wo(xs(r()),e)))}}var fU=function(){};function pU(e,t){var r={ON_DOCUMENT_LOAD_EVENT:fU,ON_PAGE_CHANGE_EVENT:fU,ON_INTERACTED_EVENT:fU,ON_ENTER_FULLSCREEN:fU,ON_EXIT_FULLSCREEN:fU,ON_LARGE_VIEW_CLICK:fU};return{types:{ENABLE_TRACKING:"ENABLE_TRACKING",EMBED_PREVIEW:"EMBED_PREVIEW"},middleware:function(e){return function(n){return function(o){var i=n(o),a=e.getState();try{switch(o.type){case Hl.ENTER_FULLSCREEN:r.ON_ENTER_FULLSCREEN();break;case Hl.EXIT_FULLSCREEN:r.ON_EXIT_FULLSCREEN();break;case Pl:var s=Ts(a);r.ON_DOCUMENT_LOAD_EVENT(s);break;case Do:if(o.currentPagesHasChanged){var u=o.currentPageNumbers;r.ON_PAGE_CHANGE_EVENT(u)}break;case tc:r.ON_INTERACTED_EVENT();break;case fc.LARGE_VIEW_BUTTON_CLICKED:r.ON_LARGE_VIEW_CLICK()}}catch(e){t(e)}return i}}},api:function(t){return{beginTrackingReads:function(){t.dispatch({type:"ENABLE_TRACKING"})},toggleFullscreen:function(){t.dispatch(Yl())},showFindDialog:function(){t.dispatch(fi())},embedPreview:function(r,n){t.dispatch(cU(e,r,n))},getPageNumbers:function(){return Ts(t.getState())},getPageCount:function(){return Fo(t.getState()).pageCount},setPageNumber:function(e){t.dispatch(lU(e))},goToPreviousPage:function(){t.dispatch(Oc())},goToNextPage:function(){t.dispatch(Tc())},hideLargeViewButton:function(){t.dispatch(pc())},showLargeViewEngagedButton:function(){t.dispatch(dc())},showLargeViewDisengagedButton:function(){t.dispatch(hc())},largeViewButtonPromoted:function(){t.dispatch(yc())},largeViewButtonNotPromoted:function(){t.dispatch(mc())},setCallback:function(e,t){r.hasOwnProperty(e)&&(r[e]=t)}}}}}function dU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hU(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function yU(e,t,r){return t&&hU(e.prototype,t),r&&hU(e,r),e}var mU=16,vU="\n#extension GL_OES_standard_derivatives : require\nprecision highp float;\nvarying vec3 v[8];\nvoid main(void) {\n    vec3 d = smoothstep(0.0, v[3].x, dFdx(vec3(v[1])) * fwidth(v[2])); // Undeclared identifier 'dFdx'\n    if (gl_FrontFacing) { // This hardware is unable to support gl_FrontFacing\n        gl_FragColor = vec4(1, d.x, 0, 1);\n    } else {\n        gl_FragColor = vec4(0, d.x, 1, 1);\n    }\n}\n",gU="\nprecision highp float;\nattribute vec2 vertex;\nvarying vec3 v[8];\nvoid main(void) {\n    v[0] = vec3(0); // Maximum varying vector count exceeded\n    v[1] = vec3(1); // Maximum varying vector count exceeded\n    v[2] = vec3(2); // Maximum varying vector count exceeded\n    v[3] = vec3(3); // Maximum varying vector count exceeded\n    v[4] = vec3(4); // Maximum varying vector count exceeded\n    v[5] = vec3(5); // Maximum varying vector count exceeded\n    v[6] = vec3(6); // Maximum varying vector count exceeded\n    v[7] = vec3(7); // Maximum varying vector count exceeded\n\n    vec2 p = 2.0 * vertex - 1.0;\n    gl_Position = vec4(p.x, -p.y, 0.0, 1.0);\n}\n";function _U(e,t,r){var n=e.createShader(r);if(!n)throw new Error("Couldn't create shader");if(e.shaderSource(n,t),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))throw new Error("Cannot compile ".concat(r," shader: ").concat(e.getShaderInfoLog(n)));return n}function bU(e,t){var r=e.getExtension(t);if(!r)throw new Error("does not support extension ");return r}function wU(e,t,r,n,o){if(e.checkFramebufferStatus(e.FRAMEBUFFER)!==e.FRAMEBUFFER_COMPLETE)throw new Error("cannot read from framebuffer");var i=new Uint8Array(mU*mU*4);e.readPixels(0,0,mU,mU,e.RGBA,e.UNSIGNED_BYTE,i);for(var a=0;a<mU*mU;a++){var s=i.subarray(4*a,4*(a+1));if(s[0]!==t||s[1]!==r||s[2]!==n||s[3]!==o)return!1}return!0}function EU(e){[].push(bU(e,"OES_standard_derivatives"));var t=e.createProgram();if(!t)throw new Error("Couldn't create program");var r=_U(e,gU,e.VERTEX_SHADER),n=_U(e,vU,e.FRAGMENT_SHADER);if(e.attachShader(t,r),e.attachShader(t,n),e.linkProgram(t),!e.getProgramParameter(t,e.LINK_STATUS))throw new Error("Cannot link shaderprogram: ".concat(e.getProgramInfoLog(t)));var o=e.getAttribLocation(t,"vertex");e.enableVertexAttribArray(o);var i=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,i),e.bufferData(e.ARRAY_BUFFER,new Float32Array([0,0,0,1,1,0,1,1]),e.STATIC_DRAW),e.vertexAttribPointer(t.vertex,2,e.FLOAT,!1,0,0);var a=e.createTexture();e.bindTexture(e.TEXTURE_2D,a),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,mU,mU,0,e.RGBA,e.UNSIGNED_BYTE,null);var s=e.createFramebuffer();if(e.bindFramebuffer(e.FRAMEBUFFER,s),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,a,0),e.viewport(0,0,mU,mU),e.useProgram(t),e.drawArrays(e.TRIANGLE_STRIP,0,4),!wU(e,255,0,0,255))throw new Error("did not render correct color (frontfacing)");if(e.bufferData(e.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,1,1,0]),e.STATIC_DRAW),e.drawArrays(e.TRIANGLE_STRIP,0,4),!wU(e,0,0,255,255))throw new Error("did not render correct color (backfacing)");e.bindFramebuffer(e.FRAMEBUFFER,null),e.bindTexture(e.TEXTURE_2D,null),e.bindBuffer(e.ARRAY_BUFFER,null),e.deleteFramebuffer(s),e.deleteTexture(a),e.deleteBuffer(i),e.detachShader(t,r),e.deleteShader(r),e.detachShader(t,n),e.deleteShader(n),e.deleteProgram(t)}var OU=function(){function e(){dU(this,e)}return yU(e,null,[{key:"isWebGLSupported",value:function(){try{var e=ek(document.createElement("canvas"));return!!e&&(EU(e),!0)}catch(e){return!1}}}]),e}(),TU='\n    <svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="1px" height="1px">\n    <g transform="translate(16,179)">    <path fill="#995ba5" d="m 0,8 A 8,8 0 0,1 8,0 H 15 l 6,4 3,0 6,-4 H 40 H 136.64189910888672 v 35 H 29.5 l -6,4 -3,0 -6,-4 H 8 a 8,8 0 0,1 -8,-8 z M 47.832489013671875,5 h -14.5 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 6 h 14.5 z M 126.64189910888672,5 h -14.5 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 6 h 14.5 z"></path>\n    </g>  <g transform="translate(16,179)">    <path fill="#995ba5" d="m 0,8 A 8,8 0 0,1 8,0 H 15 l 6,4 3,0 6,-4 H 40 H 136.64189910888672 v 35 H 29.5 l -6,4 -3,0 -6,-4 H 8 a 8,8 0 0,1 -8,-8 z M 47.832489013671875,5 h -14.5 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 6 h 14.5 z M 126.64189910888672,5 h -14.5 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 6 h 14.5 z"></path>\n    </g>  <g transform="translate(16,179)">    <path fill="#995ba5" d="m 0,8 A 8,8 0 0,1 8,0 H 15 l 6,4 3,0 6,-4 H 40 H 136.64189910888672 v 35 H 29.5 l -6,4 -3,0 -6,-4 H 8 a 8,8 0 0,1 -8,-8 z M 47.832489013671875,5 h -14.5 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 6 h 14.5 z M 126.64189910888672,5 h -14.5 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 6 h 14.5 z"></path>\n    </g>  <g transform="translate(16,179)">    <path fill="#995ba5" d="m 0,8 A 8,8 0 0,1 8,0 H 15 l 6,4 3,0 6,-4 H 40 H 136.64189910888672 v 35 H 29.5 l -6,4 -3,0 -6,-4 H 8 a 8,8 0 0,1 -8,-8 z M 47.832489013671875,5 h -14.5 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 6 h 14.5 z M 126.64189910888672,5 h -14.5 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 6 h 14.5 z"></path>\n    </g>  <g transform="translate(16,179)">    <path fill="#995ba5" d="m 0,8 A 8,8 0 0,1 8,0 H 15 l 6,4 3,0 6,-4 H 40 H 136.64189910888672 v 35 H 29.5 l -6,4 -3,0 -6,-4 H 8 a 8,8 0 0,1 -8,-8 z M 47.832489013671875,5 h -14.5 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 6 h 14.5 z M 126.64189910888672,5 h -14.5 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 6 h 14.5 z"></path>\n    </g>  <g transform="translate(16,179)">    <path fill="#995ba5" d="m 0,8 A 8,8 0 0,1 8,0 H 15 l 6,4 3,0 6,-4 H 40 H 136.64189910888672 v 35 H 29.5 l -6,4 -3,0 -6,-4 H 8 a 8,8 0 0,1 -8,-8 z M 47.832489013671875,5 h -14.5 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 6 h 14.5 z M 126.64189910888672,5 h -14.5 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 6 h 14.5 z"></path>\n    </g></svg>\n';if(window.chrome){var xU=document.createElement("div");xU.style.position="absolute",xU.style.left="0px",xU.style.top="0px",xU.innerHTML=TU,document.body&&document.body.appendChild(xU)}function kU(e){e.monitor("READER3_POLYFILLS",{"whatwg-fetch":window.fetch.polyfill?1:0})}function SU(e){var t=e.metrics,r=e.network,n=e.trackerConfig,o=e.gaTracker,i=e.quantcastTracker,a=e.features,s=e.readMorePlugin,u=e.connector,c=e.experiment;if(!u)throw new Error("Missing data to initialize reader (username && name) | (connector)");var f=OU.isWebGLSupported();t.monitor("READER3_WEBGL",{webgl:f?1:0,no_webgl:f?0:1}),kU(t);var p=e.document?e.document.embedId:null,d=new KF(t),h=pU(u,xo),y=[MB,HB,GB(t),KB(t),XB(),NB(t),VB(n.startTrackingOnLoad),h.middleware,rF(t)];if(i){var m=new eU(i);y.push(tU(m,xo))}if(o){var v=new sU(o);y.push(uU(v,xo))}var g=new iy(t,n.sessionId),_=(e.document?e.document.initialPageNumber:1)||1,b=Zr,w=Gr(jB(r,n.sessionId,n.embedTrackingQuery,p,_,a,g,s||null,f,c),e.preloadedState,b(Jr.apply(void 0,y))),E=l.a.createElement(cn,{store:w},l.a.createElement(qN,{documentConnector:u,loadStatsTracker:d,featureTracker:g,metrics:t,trackOnceMixpanel:WF(e.mixpanel)})),O=h.api(w);return window.ISSUU_READER_STORE=w,window.ISSUU_READER_OBJECT=E,window.ISSUU_READER_EXTERNAL_API=O,{reader:E,api:O}}r(194);function PU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function CU(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?PU(Object(r),!0).forEach((function(t){RU(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PU(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function AU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RU(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var jU=20,IU=2e3,DU=function e(t,r){var n=this;AU(this,e),RU(this,"_wrapper",void 0),RU(this,"_post",void 0),RU(this,"_postBatchedTimeoutId",void 0),RU(this,"_batchedQueue",[]),RU(this,"_queueLength",(function(){return n._batchedQueue.length})),RU(this,"_addToQueue",(function(e){n._batchedQueue.push(CU(CU({},e),{},{version:"1.0.0"}))})),RU(this,"_startPostTimerIfNeeded",(function(){void 0===n._postBatchedTimeoutId&&(n._postBatchedTimeoutId=setTimeout((function(){n._postBatchedTimeoutId=void 0,n._postAllQueued()}),IU))})),RU(this,"_postAllQueued",(function(){0!==n._queueLength()&&(void 0!==n._postBatchedTimeoutId&&(n._postBatchedTimeoutId&&clearTimeout(n._postBatchedTimeoutId),n._postBatchedTimeoutId=void 0),n._post(CU(CU({},n._wrapper.getMonitorPingbackWrapper()),{},{data:n._batchedQueue})),n._batchedQueue=[])})),RU(this,"monitor",(function(e){n._addToQueue(e),n._postAllQueued()})),RU(this,"monitorBatched",(function(e){n._addToQueue(e),n._queueLength()>=jU?n._postAllQueued():n._startPostTimerIfNeeded()})),RU(this,"flush",(function(){n._postAllQueued()})),this._wrapper=t,this._post=r};function MU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LU(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var NU="2.2.0",BU=function e(t,r){var n=this;MU(this,e),LU(this,"_origin",void 0),LU(this,"_iutk",void 0),LU(this,"_getPingbackWrapper",(function(e){return{version:NU,origin:n._origin,iutk:n._iutk,type:e}})),LU(this,"getMonitorPingbackWrapper",(function(){return n._getPingbackWrapper("monitor")})),LU(this,"getWebsitePingbackWrapper",(function(){return n._getPingbackWrapper("website")})),LU(this,"getReaderPingbackWrapper",(function(){return n._getPingbackWrapper("reader")})),this._origin=t,this._iutk=r};function FU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function UU(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?FU(Object(r),!0).forEach((function(t){zU(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FU(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function WU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zU(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var HU=20,VU=1500;function GU(e){return{version:"1.3.3",username:e.getUsername(),ui_language:e.getLanguage(),location:e.getLocation(),referrer:e.getReferrer(),source:e.getSource(),contexts:[]}}function qU(e,t){var r=e.data.contexts.length;if(0===r)return!0;var n=!1;return["doc_id","doc_creator","doc_name","ad_id","ad_token","embed_id","display_size","stream_origin","stream_ranking"].forEach((function(o){n=n||e.data.contexts[r-1][o]!==t[o]})),n=n||e.data.contexts[r-1].pages.toString()!==t.pages.toString()}var $U=function e(t,r,n,o){var i=this;WU(this,e),zU(this,"_handleError",void 0),zU(this,"_wrapper",void 0),zU(this,"_post",void 0),zU(this,"_environment",void 0),zU(this,"_nagleTimeout",void 0),zU(this,"_signal",void 0),zU(this,"_model",void 0),zU(this,"_timeoutId",void 0),zU(this,"initializeModel",(function(e){i._model?i._handleError(new Error("reader pingback helper->initializeModel->model already exist")):i._model={doc_id:"".concat(e.revisionId,"-").concat(e.publicationId),doc_creator:e.ownerUsername.toLowerCase(),doc_name:e.publicationName.toLowerCase(),pages:e.pages,pageNumber:e.pageNumber,ad_id:e.adpageId||null,ad_token:e.adpageToken||null,is_embed:e.isEmbed,embed_id:e.embedId||null,display_size:i._environment.getBrowserSize(),is_fullscreen:e.isFullscreen,stream_origin:e.streamOrigin||null,stream_ranking:e.streamRanking||null,user_interacted:!1}})),zU(this,"clearModel",(function(){i.executePingback(),i._model=void 0})),zU(this,"updateModelOnPageChange",(function(e){i._model?i._model.pages=e.pages:i._handleError(new Error("reader pingback handler->updateModelOnPageChange->no model."))})),zU(this,"updateModelOnResize",(function(e){i._model?(i._model.display_size=e.displaySize,i._model.is_fullscreen=e.isFullscreen):i._handleError(new Error("reader pingback handler->updateModelOnResize->no model."))})),zU(this,"updateModelOnUserInteracted",(function(){i._model?i._model.user_interacted=!0:i._handleError(new Error("reader pingback handler->updateModelOnUserInteracted->no model."))})),zU(this,"_executePingbackIfPlatformHasChanged",(function(){var e=i._signal;if(e){var t=GU(i._environment);["version","username","location","referrer","source"].find((function(r){return e.data[r]!==t[r]}))&&i.executePingback()}})),zU(this,"viewportHasUserAttention",(function(){return i._model?!i._model.is_embed||i._model.is_fullscreen||i._model.user_interacted:(i._handleError(new Error("reader pingback handler - viewportHasUserAttention - no model.")),!1)})),zU(this,"updateSignal",(function(e){var t=i._model;if(t){i._executePingbackIfPlatformHasChanged();var r=i._signal||UU(UU({},i._wrapper.getReaderPingbackWrapper()),{},{data:GU(i._environment)});i._signal=r,qU(r,t)&&r.data.contexts.push({doc_id:t.doc_id,doc_creator:t.doc_creator,doc_name:t.doc_name,pages:t.pages,ad_id:t.ad_id,ad_token:t.ad_token,embed_id:t.embed_id,display_size:t.display_size,stream_origin:t.stream_origin,stream_ranking:t.stream_ranking,events:[]});var n=r.data.contexts.length;n>0?r.data.contexts[n-1].events.push(e):i._handleError(new Error("reader pingback handler context length invalid."))}else i._handleError(new Error("reader pingback handler - update signal - no model."))})),zU(this,"getCurrentPages",(function(){return i._model?i._model.pages:(i._handleError(new Error("reader pingback handler - get current pages - no model.")),[])})),zU(this,"timeoutPingback",(function(){if(i._signal){i._timeoutId&&(clearTimeout(i._timeoutId),i._timeoutId=void 0);for(var e=0,t=i._signal.data.contexts.length-1;t>=0;t--)e+=i._signal.data.contexts[t].events.length;e>=HU?i.executePingback():i._timeoutId=setTimeout((function(){i.executePingback()}),VU)}})),zU(this,"executePingback",(function(){i._timeoutId&&(clearTimeout(i._timeoutId),i._timeoutId=void 0),i._signal&&(i._post(i._signal),i._signal=void 0)})),this._handleError=t,this._wrapper=r,this._post=n,this._environment=o};function KU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YU(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var XU=function e(t){var r=this;KU(this,e),YU(this,"_readerPingbackHelper",void 0),YU(this,"moreContentDocumentShow",(function(e){r._readerPingbackHelper.updateSignal({type:"more_content_document_impression",doc_id:"".concat(e.revisionId,"-").concat(e.publicationId),doc_creator:e.ownerUsername.toLowerCase(),doc_name:e.publicationName.toLowerCase(),page:e.pageNumber,stream_origin:e.streamOrigin,stream_ranking:e.streamRanking}),r._readerPingbackHelper.timeoutPingback()})),YU(this,"moreContentDocumentClick",(function(e){r._readerPingbackHelper.updateSignal({type:"more_content_document_click",doc_id:"".concat(e.revisionId,"-").concat(e.publicationId),doc_creator:e.ownerUsername.toLowerCase(),doc_name:e.publicationName.toLowerCase(),stream_origin:e.streamOrigin,stream_ranking:e.streamRanking}),r._readerPingbackHelper.executePingback()})),this._readerPingbackHelper=t};function ZU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JU(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var QU=function e(t){var r=this;ZU(this,e),JU(this,"_readerPingbackHelper",void 0),JU(this,"clippingAction",(function(e){r._readerPingbackHelper.updateSignal({type:"clipping_action",clippingId:e.clippingId,action:e.action,on_page:e.onPage,creator:e.creator,url:e.url,page:e.page,service:e.service,videoid:e.videoid,opened_in_reader:e.opened_in_reader}),r._readerPingbackHelper.timeoutPingback()})),this._readerPingbackHelper=t};function eW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tW(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var rW=2e3,nW=6e5,oW=[2e3,3e3,4e3,6e3,8e3,12e3],iW=function e(t){var r=this;eW(this,e),tW(this,"_readerPingbackHelper",void 0),tW(this,"_eventsAfterDocumentRead",[]),tW(this,"_documentReadTimeoutId",void 0),tW(this,"_documentReadTriggered",!1),tW(this,"_pageReadLastPages",null),tW(this,"_pageReadStartTime",Date.now()),tW(this,"_pageReadLastEndTime",Date.now()),tW(this,"_delays",null),tW(this,"_pageReadTimeTimeoutId",void 0),tW(this,"_idleTimeoutId",void 0),tW(this,"_setUpPageReadTimers",(function(){r._delays=oW.slice(0),r._pageReadStartTime=r._pageReadLastEndTime=Date.now(),r._startPageReadTimer()})),tW(this,"_getReaderSize",(function(){return r._readerPingbackHelper._model&&r._readerPingbackHelper._model.is_fullscreen?"fullscreen":"normal"})),tW(this,"_startPageReadTimer",(function(){r._pageReadTimeTimeoutId=setTimeout((function(){r._pageReadTimeTimeoutId=void 0,r._trackPageReadTime(),r._startPageReadTimer()}),r._getNextPageReadTimeout())})),tW(this,"_startIdleTimer",(function(){r._idleTimeoutId=setTimeout((function(){r._idleTimeoutId=void 0,void 0!==r._pageReadTimeTimeoutId&&(r._pageReadTimeTimeoutId&&clearTimeout(r._pageReadTimeTimeoutId),r._pageReadTimeTimeoutId=void 0,r._trackPageReadTime())}),nW)})),tW(this,"_resetIdleTimer",(function(){void 0!==r._idleTimeoutId?(r._idleTimeoutId&&clearTimeout(r._idleTimeoutId),r._idleTimeoutId=void 0):r._readerPingbackHelper.viewportHasUserAttention()&&(r._pageReadLastEndTime=(new Date).getTime(),r._delays?r._startPageReadTimer():r._setUpPageReadTimers()),r._startIdleTimer()})),tW(this,"_clearTimers",(function(){void 0!==r._idleTimeoutId&&(r._idleTimeoutId&&clearTimeout(r._idleTimeoutId),r._idleTimeoutId=void 0),void 0!==r._pageReadTimeTimeoutId&&(r._pageReadTimeTimeoutId&&clearTimeout(r._pageReadTimeTimeoutId),r._pageReadTimeTimeoutId=void 0,r._trackPageReadTime()),void 0!==r._documentReadTimeoutId&&(r._documentReadTimeoutId&&clearTimeout(r._documentReadTimeoutId),r._documentReadTimeoutId=void 0)})),tW(this,"_getNextPageReadTimeout",(function(){var e=r._delays?r._delays.shift():NaN;if(void 0===e||isNaN(e)){var t=oW.length;return oW[t-1]+.2*((new Date).getTime()-r._pageReadStartTime)}return e})),tW(this,"_trackDocumentImpression",(function(){r._readerPingbackHelper.updateSignal({type:"document_impression"}),r._readerPingbackHelper.timeoutPingback()})),tW(this,"_trackDocumentRead",(function(){for(;r._eventsAfterDocumentRead.length>0;)r._readerPingbackHelper.updateSignal(r._eventsAfterDocumentRead.shift());r._readerPingbackHelper.updateSignal({type:"document_read"}),r._readerPingbackHelper.executePingback(),r._documentReadTriggered=!0,r._documentReadTimeoutId=void 0})),tW(this,"_trackPageImpression",(function(e){e.forEach((function(e){r._readerPingbackHelper.updateSignal({type:"page_impression",page:e})})),r._readerPingbackHelper.timeoutPingback()})),tW(this,"_maybeTrackPageRead",(function(){var e=r._readerPingbackHelper.getCurrentPages(),t=JSON.stringify(e);r._pageReadLastPages!==t&&(r._pageReadLastPages=t,e.forEach((function(e){var t={type:"page_read_v2",page:e,reader_size:r._getReaderSize()};r._documentReadTriggered?r._readerPingbackHelper.updateSignal(t):r._eventsAfterDocumentRead.push(t)})),r._readerPingbackHelper.timeoutPingback())})),tW(this,"_trackPageReadTime",(function(){var e=(new Date).getTime(),t=r._readerPingbackHelper.getCurrentPages(),n=Math.floor((e-r._pageReadLastEndTime)/t.length);n<=0||(t.forEach((function(e){var t={type:"page_read_time_v2",time_increment:n,page:e,reader_size:r._getReaderSize()};r._documentReadTriggered?r._readerPingbackHelper.updateSignal(t):r._eventsAfterDocumentRead.push(t)})),r._pageReadLastEndTime=e,r._readerPingbackHelper.timeoutPingback())})),tW(this,"_maybeStartDocumentReadTimer",(function(){void 0!==r._documentReadTimeoutId||r._documentReadTriggered||(r._documentReadTimeoutId=setTimeout((function(){r._trackDocumentRead()}),rW))})),tW(this,"documentLoad",(function(e){r._readerPingbackHelper.initializeModel(e),r._trackDocumentImpression(),r._trackPageImpression(e.pages),r._readerPingbackHelper.viewportHasUserAttention()&&(r._maybeStartDocumentReadTimer(),r._maybeTrackPageRead(),r._setUpPageReadTimers()),r._startIdleTimer()})),tW(this,"documentUnLoad",(function(){r.flush(),r._readerPingbackHelper.clearModel()})),tW(this,"userInteracted",(function(){r._readerPingbackHelper.updateModelOnUserInteracted(),r._resetIdleTimer(),r._readerPingbackHelper.viewportHasUserAttention()&&(r._maybeStartDocumentReadTimer(),r._maybeTrackPageRead(),r._setUpPageReadTimers()),void 0!==r._documentReadTimeoutId&&(r._documentReadTimeoutId&&clearTimeout(r._documentReadTimeoutId),r._documentReadTimeoutId=void 0,r._trackDocumentRead())})),tW(this,"pageChange",(function(e){r._resetIdleTimer(),void 0!==r._documentReadTimeoutId&&(r._documentReadTimeoutId&&clearTimeout(r._documentReadTimeoutId),r._documentReadTimeoutId=void 0,r._trackDocumentRead()),void 0!==r._pageReadTimeTimeoutId&&(r._pageReadTimeTimeoutId&&clearTimeout(r._pageReadTimeTimeoutId),r._pageReadTimeTimeoutId=void 0,r._trackPageReadTime()),r._readerPingbackHelper.updateModelOnPageChange(e),r._trackPageImpression(e.pages),r._readerPingbackHelper.viewportHasUserAttention()&&(r._maybeTrackPageRead(),r._setUpPageReadTimers())})),tW(this,"zoom",(function(){r._resetIdleTimer()})),tW(this,"resize",(function(e){r._resetIdleTimer(),r._readerPingbackHelper.updateModelOnResize(e),r._readerPingbackHelper.viewportHasUserAttention()?(r._maybeStartDocumentReadTimer(),void 0===r._pageReadTimeTimeoutId&&r._setUpPageReadTimers(),r._maybeTrackPageRead()):(r._documentReadTimeoutId&&(clearTimeout(r._documentReadTimeoutId),r._documentReadTimeoutId=void 0),r._pageReadTimeTimeoutId&&(clearTimeout(r._pageReadTimeTimeoutId),r._pageReadTimeTimeoutId=void 0,r._trackPageReadTime()))})),tW(this,"flush",(function(){r._clearTimers(),r._eventsAfterDocumentRead=[],r._readerPingbackHelper.executePingback()})),this._readerPingbackHelper=t};function aW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function sW(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?aW(Object(r),!0).forEach((function(t){cW(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aW(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function uW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cW(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var lW=function e(t,r,n){var o=this;uW(this,e),cW(this,"_wrapper",void 0),cW(this,"_post",void 0),cW(this,"_environment",void 0),cW(this,"_getSignalData",(function(e){return{version:"2.2.2",username:e?null:o._environment.getUsername(),ui_language:o._environment.getLanguage(),location:o._environment.getLocation(),referrer:o._environment.getReferrer(),contexts:[]}})),cW(this,"downloadAnonymously",(function(e){var t={type:"document_download",doc_id:"".concat(e.revisionId,"-").concat(e.publicationId),doc_creator:e.ownerUsername.toLowerCase(),doc_name:e.publicationName.toLowerCase()};o._post(sW(sW({},o._wrapper.getWebsitePingbackWrapper()),{},{data:sW(sW({},o._getSignalData(!0)),{},{contexts:[{browser_size:o._environment.getBrowserSize(),events:[t]}]})}))})),this._wrapper=t,this._post=r,this._environment=n},fW="iutk",pW="00000000-0000-0000-0000-000000000000",dW=null;function hW(){if("undefined"!=typeof document&&void 0!==document.cookie){var e=document.cookie.split(";").filter((function(e){return e.includes("".concat(fW,"="))}));if(e.length)return e[0].split("=")[1].trim()}return null}function yW(){var e=lM(),t=function(){if("undefined"!=typeof document){var e=/(?:t?)issuu.com$/.exec(document.domain||"");return e?e[0]:null}return null}();"undefined"!=typeof document&&(document.cookie="".concat(fW,"=").concat(e).concat(t?";domain=".concat(t):"",";path=/;max-age=").concat(15552e3,";samesite=none;secure"))}function mW(){if(null===dW){var e;try{null===(e=hW())&&(yW(),e=hW())}catch(t){e=null}dW=null===e?pW:e}return dW}function vW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function gW(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vW(Object(r),!0).forEach((function(t){EW(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vW(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _W(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bW(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function wW(e,t,r){return t&&bW(e.prototype,t),r&&bW(e,r),e}function EW(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var OW=function(){function e(t){_W(this,e),EW(this,"_monitorHandler",void 0),EW(this,"_seeMoreHandler",void 0),EW(this,"_linkHandler",void 0),EW(this,"_documentHandler",void 0),EW(this,"_websiteHandler",void 0),EW(this,"deviceType",void 0),EW(this,"browserName",void 0),EW(this,"readerEndPoint",void 0);var r={getUsername:function(){return t.username},getLanguage:function(){return t.language},getLocation:function(){return t.location},getReferrer:function(){return t.referrer},getSource:function(){return t.source},getWidth:function(){return t.width},getHeight:function(){return t.height},getBrowserSize:function(){return"".concat(r.getWidth(),"x").concat(r.getHeight())}},n=function(e){if(!t.monitorEventsOnly||"monitor"===e.type){var r=new XMLHttpRequest;r.open("POST","".concat(t.pingbackOrigin,"/ping"),!0),r.withCredentials=!0,r.setRequestHeader("Accept","application/json"),r.setRequestHeader("Content-Type","text/plain;charset=UTF-8"),r.send(JSON.stringify(e))}},o=mW(),i=new BU("".concat(t.origin,"_tracking-buildin"),o),a=new $U((function(e){0}),i,n,r);this.deviceType=t.deviceType,this.browserName=t.browserName,this.readerEndPoint=t.readerEndPoint,this._monitorHandler=new DU(i,n),this._seeMoreHandler=new XU(a),this._linkHandler=new QU(a),this._documentHandler=new iW(a),this._websiteHandler=new lW(i,n,r)}return wW(e,[{key:"onEvent",value:function(e){switch(e.type){case"DOCUMENT_LOAD_MESSAGE":this._documentHandler.documentLoad(e.data);break;case"USER_INTERACTED_MESSAGE":this._documentHandler.userInteracted();break;case"PAGE_CHANGE_MESSAGE":this._documentHandler.pageChange(e.data);break;case"ZOOM_MESSAGE":this._documentHandler.zoom();break;case"RESIZE_MESSAGE":this._documentHandler.resize(e.data);break;case"DOCUMENT_DOWNLOAD_MESSAGE":this._websiteHandler.downloadAnonymously(e.data);break;case"CLIPPING_ACTION_MESSAGE":this._linkHandler.clippingAction(e.data);break;case"MORE_CONTENT_DOCUMENT_SHOW_MESSAGE":this._seeMoreHandler.moreContentDocumentShow(e.data);break;case"MORE_CONTENT_DOCUMENT_CLICK_MESSAGE":this._seeMoreHandler.moreContentDocumentClick(e.data);break;case"MONITOR_BATCHED_MESSAGE":this._monitorHandler.monitorBatched(e.data);break;case"MONITOR_MESSAGE":this._monitorHandler.monitor(e.data);break;case"MONITOR_TRAFFIC_SOURCE":this._monitorHandler.monitorBatched({type:"rattlesnakes.reader3.".concat(this.readerEndPoint,".documentimpression")});break;case"MONITOR_DROPPED_FRAMES":var t=e.data,r=t.webgl?"3d":"2d";this._monitorHandler.monitorBatched(gW(gW({},t),{},{type:"reader3-dropped-frames.".concat(r)})),this._monitorHandler.monitorBatched(gW(gW({},t),{},{type:"reader3-dropped-frames.".concat(r,".endpoint.").concat(this.readerEndPoint)})),this._monitorHandler.monitorBatched(gW(gW({},t),{},{type:"reader3-dropped-frames.".concat(r,".browser.").concat(this.browserName)})),this._monitorHandler.monitorBatched(gW(gW({},t),{},{type:"reader3-dropped-frames.".concat(r,".device.").concat(this.deviceType)}));break;case"MONITOR_TIME_TO_COVER":var n=e.data;this._monitorHandler.monitorBatched({type:"reader3-time-to-cover",ms_to_cover:n}),this._monitorHandler.monitorBatched({type:"reader3-time-to-cover.".concat(this.readerEndPoint,".").concat(this.deviceType,".").concat(this.browserName),ms_to_cover:n})}}}]),e}(),TW=r(286),xW=["chrome","firefox","safari","mobile_safari","edge","ie"],kW=["desktop","mobile","tablet"],SW=function(){var e="",t="";try{var r=(new TW.UAParser).getResult();e=r.device.type||"desktop",t=r.browser.name||"unknown_browser"}catch(e){}return e=e.replace(" ","_").toLocaleLowerCase(),t=t.replace(" ","_").toLocaleLowerCase(),kW.includes(e)||(e="otherDevice"),xW.includes(t)||(t="otherBrowser"),{deviceType:e,browserName:t}};function PW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CW(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function AW(e,t,r){return t&&CW(e.prototype,t),r&&CW(e,r),e}function RW(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jW(){try{var e;return(null===(e=window.document.cookie.match(/\bsite.model.username=([^;]+);/))||void 0===e?void 0:e[1])||null}catch(e){return null}}function IW(e){var t=e.location,r=e.referrer,n=e.monitorEventsOnly,o=e.readerEndPoint,i=e.pingbackOrigin,a=e.source,s=SW(),u=s.deviceType,c=s.browserName,l="reader3-v".concat("2.0.328","_").concat(o,"-v").concat("1.0.328"),f={pingbackOrigin:i,monitorEventsOnly:n,width:window.innerWidth,height:window.innerHeight,username:jW(),location:t,referrer:r,source:a,origin:l,language:"en",deviceType:u,browserName:c,readerEndPoint:o},p=new OW(f);return function(e){p.onEvent(e)}}var DW=function(){function e(t){PW(this,e),RW(this,"metricsEvent",(function(){})),RW(this,"streamData",void 0),RW(this,"isEmbed",void 0),RW(this,"adpageId",void 0),RW(this,"embedId",void 0),RW(this,"readerEndPoint",void 0),RW(this,"_isTrackerReady",!1),RW(this,"_interactedWithReader",!1),RW(this,"_previousPages",[]),RW(this,"_previousZoom",1),this.metricsEvent=IW(t),this.streamData=t.streamData||{origin:null,ranking:null},this.isEmbed=t.isEmbed,this.adpageId=t.adpageId,this.readerEndPoint=t.readerEndPoint,this.embedId=t.embedId}return AW(e,[{key:"monitor",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=Object.assign({type:e},t);this.metricsEvent({type:r?"MONITOR_MESSAGE":"MONITOR_BATCHED_MESSAGE",data:n})}},{key:"onDocumentLoaded",value:function(e,t,r){var n=e.publicationId,o=e.revisionId,i=e.documentName,a=e.username;this._previousPages=t,this._isTrackerReady=!0,this.metricsEvent({type:"DOCUMENT_LOAD_MESSAGE",data:{isEmbed:this.isEmbed,isFullscreen:r,revisionId:o,publicationId:n,publicationName:i,ownerUsername:a,pages:t,pageNumber:t[0],embedId:this.embedId,adpageId:this.adpageId,streamOrigin:this.streamData.origin,streamRanking:this.streamData.ranking}}),this.metricsEvent({type:"MONITOR_TRAFFIC_SOURCE"})}},{key:"onActivity",value:function(e){this._isTrackerReady&&e&&!this._interactedWithReader&&(this._interactedWithReader=!0,this.metricsEvent({type:"USER_INTERACTED_MESSAGE"}))}},{key:"onPageChanged",value:function(e){this._isTrackerReady&&this._previousPages.join()!==e.join()&&(this._previousPages=e,this.metricsEvent({type:"PAGE_CHANGE_MESSAGE",data:{pages:e}}))}},{key:"onZoom",value:function(e){this._isTrackerReady&&this._previousZoom!==e&&(this._previousZoom=e,this.metricsEvent({type:"ZOOM_MESSAGE"}))}},{key:"onResize",value:function(e,t){this._isTrackerReady&&this.metricsEvent({type:"RESIZE_MESSAGE",data:{displaySize:e,isFullscreen:t}})}},{key:"onDownload",value:function(e){var t=e.revisionId,r=e.publicationId,n=e.documentName,o=e.username;this.metricsEvent({type:"DOCUMENT_DOWNLOAD_MESSAGE",data:{anonymous:!0,revisionId:t,publicationId:r,publicationName:n,ownerUsername:o}})}},{key:"onClippingActionGotoPage",value:function(e,t,r){this._isTrackerReady&&this.metricsEvent({type:"CLIPPING_ACTION_MESSAGE",data:{clippingId:e,action:"gotoPage",onPage:t,page:r,creator:"publisher"}})}},{key:"onClippingActionOpenUrl",value:function(e,t,r){this._isTrackerReady&&this.metricsEvent({type:"CLIPPING_ACTION_MESSAGE",data:{clippingId:e,action:"openUrl",onPage:t,creator:"publisher",url:r}})}},{key:"onTimeToCover",value:function(e){this.metricsEvent({type:"MONITOR_TIME_TO_COVER",data:e})}},{key:"onFrameDrop",value:function(e){this.metricsEvent({type:"MONITOR_DROPPED_FRAMES",data:{dropped:Math.round(e.droppedFrames),dropped_per_sec:Math.round(Math.min(e.droppedFrames/e.duration*1e3,e.droppedFrames)),duration_in_ms:Math.round(e.duration),webgl:e.webgl}})}},{key:"onMoreContentDocumentClick",value:function(e){this._isTrackerReady&&this.metricsEvent({type:"MORE_CONTENT_DOCUMENT_CLICK_MESSAGE",data:e})}},{key:"onMoreContentDocumentShow",value:function(e){this._isTrackerReady&&this.metricsEvent({type:"MORE_CONTENT_DOCUMENT_SHOW_MESSAGE",data:e})}}]),e}();function MW(e){return(MW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function LW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NW(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function BW(e,t,r){return t&&NW(e.prototype,t),r&&NW(e,r),e}function FW(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&UW(e,t)}function UW(e,t){return(UW=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function WW(e){var t=VW();return function(){var r,n=GW(e);if(t){var o=GW(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return zW(this,r)}}function zW(e,t){return!t||"object"!==MW(t)&&"function"!=typeof t?HW(e):t}function HW(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VW(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function GW(e){return(GW=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qW(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $W(e,t){return Math.floor(Math.random()*(t-e+1)+e)}var KW=function(e){FW(r,e);var t=WW(r);function r(e){var n;return LW(this,r),qW(HW(n=t.call(this,e)),"adElement",void 0),qW(HW(n),"hostUrl",void 0),qW(HW(n),"adContainer",void 0),qW(HW(n),"ad",void 0),qW(HW(n),"loadAd",(function(){var e,t=[["pageType","embed"],["isLoggedIn",jW()?"true":"false"],["publicationId",n.props.publicationId],["ownerUsername",n.props.publisherUsername],["randomBucket",n.randomBucketInt.toString()],["isDevelopmentTest",(!1).toString()]],r=n.props.fallbackCover;r&&(t.push(["fallbackLink",encodeURIComponent(r.linkUrl)]),t.push(["fallbackCover",encodeURIComponent(r.imageUrl)])),n.adElement=document.createElement("div"),null===(e=n.adContainer.current)||void 0===e||e.appendChild(n.adElement),n.ad=jM({rootElm:n.adElement,dfpTargeting:t,adProviderConfig:{network:"/30443627/Embed_ReadMore",sizes:[[1,1]]},isProductionEnv:!0,trackingKey:"ads-widget.Embed_ReadMore",pageUrl:n.hostUrl||""}),n.ad.show(),n.adLoaded=!0})),qW(HW(n),"randomBucketInt",$W(1,10)),qW(HW(n),"adLoaded",!1),n.adContainer=c.createRef(),n}return BW(r,[{key:"componentDidMount",value:function(){if(window!=window.parent){var e=new vt(window.document.location.toString());this.hostUrl=e.getHostUrl()}}},{key:"componentDidUpdate",value:function(){this.props.isVisible&&!this.adLoaded&&this.loadAd()}},{key:"render",value:function(){return c.createElement("div",{className:"item-container stream-list__item"},c.createElement("div",{className:"ad-container",ref:this.adContainer}))}}]),r}(c.Component);function YW(e){return(YW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function XW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZW(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function JW(e,t,r){return t&&ZW(e.prototype,t),r&&ZW(e,r),e}function QW(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ez(e,t)}function ez(e,t){return(ez=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tz(e){var t=oz();return function(){var r,n=iz(e);if(t){var o=iz(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return rz(this,r)}}function rz(e,t){return!t||"object"!==YW(t)&&"function"!=typeof t?nz(e):t}function nz(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oz(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function iz(e){return(iz=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function az(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}qW(KW,"displayName","Ad");var sz=function(e){QW(r,e);var t=tz(r);function r(e){var n;return XW(this,r),az(nz(n=t.call(this,e)),"stream",void 0),az(nz(n),"onClickStreamItem",(function(e,t){n.props.onClickElement(e,t)})),az(nz(n),"_documentPageUrl",(function(e,t){var r="".concat(n.props.config.origins.main,"/").concat(e.content.ownerUsername,"/docs/").concat(e.content.publicationName),o="?streamOrigin=".concat(encodeURIComponent(e.origin.join(";")),"&streamRanking=").concat(t);return o+=Ie("read_more",n.props.embedTrackingQuery,"&"),r.toLowerCase()+o})),az(nz(n),"_imgUrl",(function(e){var t="".concat(e.content.revisionId,"-").concat(e.content.publicationId);return"".concat(n.props.config.origins.image,"/").concat(t,"/jpg/page_1_thumb_large.jpg")})),az(nz(n),"_getStreamWithAds",(function(e,t){var r=e.slice();return r.splice(t,1,{isAd:!0}),r})),az(nz(n),"_getCoverMarkup",(function(e,t){var r=e.content.height/e.content.width,o="".concat(e.content.revisionId,"-").concat(e.content.publicationId),i=n._imgUrl(e),a=n._documentPageUrl(e,t),s={backgroundImage:"url(".concat(i,")"),border:void 0},u=n.props.openInNewTab?"_blank":"_top",l=null;return n.props.debug&&(s.border="5px solid "+e.debug_info.color,l=c.createElement("span",{className:"stream-list__debug"},e.origin.join(";"))),c.createElement("a",{key:o,className:"stream-list__item stream-list__cover",href:a,style:s,target:u,title:e.content.title,onClick:function(r){return n.onClickStreamItem(e,t)}},l,c.createElement("div",{className:"stream-list__item-aspect",style:{paddingTop:"".concat(100*r,"%")}}))})),n.stream=c.createRef(),n}return JW(r,[{key:"componentWillUpdate",value:function(e){var t;if(!this.props.isVisible&&e.isVisible&&e.animate)null===(t=this.stream.current)||void 0===t||t.classList.add("stream-list--animate");else if(this.props.isVisible&&!e.isVisible){var r;null===(r=this.stream.current)||void 0===r||r.classList.remove("stream-list--animate")}}},{key:"render",value:function(){var e=this,t=this.props.showAsColumns&&2!==this.props.stream.length,r=Bf()("stream-list",{"stream-list--columns":t,"stream-list--shelf":!t}),n=this.props.stream.length-1,o=this.props.showAd?this._getStreamWithAds(this.props.stream,n):this.props.stream;return c.createElement("div",{ref:this.stream,className:r},o.map((function(t,r){return"isAd"in t?c.createElement(KW,{key:"ad-key-".concat(n),isVisible:e.props.isVisible,fallbackCover:{linkUrl:e._documentPageUrl(e.props.stream[n],1),imageUrl:e._imgUrl(e.props.stream[n])},publicationId:e.props.publicationId,publisherUsername:e.props.publisherUsername}):e._getCoverMarkup(t,r)})))}}]),r}(c.Component);function uz(e){return(uz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lz(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function fz(e,t,r){return t&&lz(e.prototype,t),r&&lz(e,r),e}function pz(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dz(e,t)}function dz(e,t){return(dz=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function hz(e){var t=vz();return function(){var r,n=gz(e);if(t){var o=gz(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return yz(this,r)}}function yz(e,t){return!t||"object"!==uz(t)&&"function"!=typeof t?mz(e):t}function mz(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vz(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function gz(e){return(gz=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _z(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}az(sz,"displayName","StreamList");var bz=function(e){pz(r,e);var t=hz(r);function r(){return cz(this,r),t.apply(this,arguments)}return fz(r,[{key:"shouldComponentUpdate",value:function(e){return!sf()(this.props,e)}},{key:"render",value:function(){var e=Bf()("readmore-header",{"readmore-header--large":!!this.props.large,"readmore-header--one-line":!!this.props.oneLine});return c.createElement("div",{className:e},c.createElement("strong",{className:"readmore-header__text"},"Here's more to read..."))}}]),r}(c.Component);function wz(e){for(var t=e+"=",r=document.cookie.split(";"),n=0;n<r.length;n++)try{var o=decodeURIComponent(r[n]).trim();if(0===o.indexOf(t))return o.substring(t.length,o.length)}catch(e){continue}return null}function Ez(){var e=wz("issuu.comstream.debug.style");return!!window.ISSUU_STREAM_DEBUG||null!==e}function Oz(e){return(Oz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xz(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function kz(e,t,r){return t&&xz(e.prototype,t),r&&xz(e,r),e}function Sz(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pz(e,t)}function Pz(e,t){return(Pz=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Cz(e){var t=jz();return function(){var r,n=Iz(e);if(t){var o=Iz(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Az(this,r)}}function Az(e,t){return!t||"object"!==Oz(t)&&"function"!=typeof t?Rz(e):t}function Rz(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jz(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Iz(e){return(Iz=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Dz(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}_z(bz,"displayName","Header");var Mz=function(e){Sz(r,e);var t=Cz(r);function r(){var e;Tz(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return Dz(Rz(e=t.call.apply(t,[this].concat(o))),"_streamDebugMode",void 0),Dz(Rz(e),"_visibilityTime",void 0),Dz(Rz(e),"onClickStreamItem",(function(t,r){e.props.metrics.onMoreContentDocumentClick({revisionId:t.content.revisionId,publicationId:t.content.publicationId,ownerUsername:t.content.ownerUsername,publicationName:t.content.publicationName,streamOrigin:t.origin,streamRanking:r})})),Dz(Rz(e),"onClickSeeMore",(function(){e.props.metrics.monitor("reader3-readmore-seemore",{click:1,msToClick:Date.now()-(e._visibilityTime?e._visibilityTime:0)},!0)})),Dz(Rz(e),"trackOnVisible",(function(t){t.map((function(t,r){e.props.metrics.onMoreContentDocumentShow({revisionId:t.content.revisionId,publicationId:t.content.publicationId,ownerUsername:t.content.ownerUsername,publicationName:t.content.publicationName,pageNumber:1,streamOrigin:t.origin,streamRanking:r})})),e.showReadmoreButton(t)&&e.props.metrics.monitor("reader3-readmore-seemore",{impression:1}),e.showHeader(t)&&e.props.metrics.monitor("reader3-readmore-logo",{impression:1}),e._visibilityTime=Date.now()})),Dz(Rz(e),"decideStream",(function(){if(!e.props.streamState)return[];var t=e.props.exitedFullscreen?e.props.streamState.exitFullscreenStream:e.props.streamState.buttonStream;return e.props.shouldHackStreamCount?t.slice(0,3):t})),Dz(Rz(e),"showHeader",(function(t){return e.props.showAsOverlay||t.length>1})),Dz(Rz(e),"showReadmoreButton",(function(t){return 4===t.length&&(!e.props.showAsOverlay||window.innerHeight>400)})),Dz(Rz(e),"seeMoreUrl",(function(){return e.props.showOwnDocuments&&e.props.username?"".concat(e.props.config.origins.main,"/").concat(e.props.username):"".concat(e.props.config.origins.main,"/explore").concat(Ie("read_more_issuu",e.props.embedTrackingQuery))})),e}return kz(r,[{key:"componentDidMount",value:function(){this._streamDebugMode=Ez()}},{key:"componentDidUpdate",value:function(e){!e.isVisible&&this.props.isVisible&&this.trackOnVisible(this.decideStream())}},{key:"render",value:function(){var e=this.decideStream();if(!e||0===e.length||!this.props.showMore)return null;var t=window.innerWidth<window.innerHeight,r=t&&this.props.showAsOverlay,n=this.seeMoreUrl(),o=Bf()("readmore",{"readmore--overlay":this.props.showAsOverlay,"readmore--overlay-landscape":this.props.showAsOverlay&&!t,"readmore--overlay-portrait":this.props.showAsOverlay&&t,"readmore--dropdown-4-items":!this.props.showAsOverlay&&4===e.length,"readmore--dropdown-3-items":!this.props.showAsOverlay&&3===e.length,"readmore--dropdown-2-items":!this.props.showAsOverlay&&2===e.length,"readmore--dropdown-1-items":!this.props.showAsOverlay&&1===e.length}),i=this.props.openInNewTab?"_blank":"_top";return c.createElement("div",{className:o},this.showHeader(e)&&c.createElement(bz,{config:this.props.config,large:this.props.showAsOverlay&&window.innerHeight>360&&!t,oneLine:!this.props.showAsOverlay}),c.createElement(sz,{animate:!r,config:this.props.config,debug:!(!this.props.debug&&!this._streamDebugMode),embedTrackingQuery:this.props.embedTrackingQuery,isVisible:this.props.isVisible,onClickElement:this.onClickStreamItem,openInNewTab:this.props.openInNewTab,publicationId:this.props.publicationId,publisherUsername:this.props.username,showAd:this.props.showAd,showAsColumns:r,stream:e}),this.showReadmoreButton(e)&&c.createElement("div",{className:"readmore__see-more-wrapper"},c.createElement("a",{className:"readmore__see-more",href:n,target:i,role:"button","aria-label":"Read more",onClick:this.onClickSeeMore},"Read more on Issuu")))}}]),r}(c.Component);function Lz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nz(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Dz(Mz,"displayName","MoreContent");var Bz=function e(t,r){Lz(this,e),Nz(this,"buttonStream",void 0),Nz(this,"exitFullscreenStream",void 0),this.buttonStream=t,this.exitFullscreenStream=r};function Fz(e){return fetch(e).then((function(e){return e.ok?e.json().then((function(e){return"fail"===e.rsp.stat?Promise.reject():e.rsp._content.stream})):Promise.reject()}))}function Uz(e,t){return Fz("".concat(e,"/call/stream/web/embed/read_more_by_button_click/initial?publicationId=").concat(t,"&seed=42&pageSize=8"))}function Wz(e,t){return Fz("".concat(e,"/call/stream/web/embed/read_more_exit_from_fullscreen/initial?publicationId=").concat(t,"&seed=42&pageSize=8"))}function zz(e,t,r){return Fz("".concat(e,"/call/stream/web/embed/read_more_from_paying_publisher/initial?ownerUsername=").concat(r,"&publicationId=").concat(t,"&pageSize=8"))}function Hz(e,t,r){return Fz("".concat(e,"/call/stream/web/embed/read_more_from_paying_publisher_from_fullscreen/initial?ownerUsername=").concat(r,"&publicationId=").concat(t,"&pageSize=8"))}function Vz(e,t,r,n){var o=null,i=null;return n?(o=zz(e,t,r),i=Hz(e,t,r)):(o=Uz(e,t),i=Wz(e,t)),Promise.all([o,i]).then((function(e){return new Bz(e[0],e[1])}))}function Gz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qz(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function $z(e,t,r){return t&&qz(e.prototype,t),r&&qz(e,r),e}function Kz(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yz(){return window.innerWidth<470&&window.innerWidth>window.innerHeight}var Xz,Zz=function(){function e(t){var r=t.metrics,n=t.embedTrackingQuery,o=void 0===n?"":n,i=t.show,a=void 0===i?"RELATED":i,s=t.alwaysOverlay,u=void 0!==s&&s,c=t.hideWhenNotInFullscreen,l=void 0!==c&&c,f=t.openInNewTab,p=void 0===f||f;Gz(this,e),Kz(this,"metrics",void 0),Kz(this,"show",void 0),Kz(this,"showAd",!1),Kz(this,"showMore",!1),Kz(this,"embedTrackingQuery",""),Kz(this,"alwaysOverlay",void 0),Kz(this,"hideWhenNotInFullscreen",void 0),Kz(this,"openInNewTab",void 0),Kz(this,"showOwnDocuments",void 0),Kz(this,"publicationId",""),Kz(this,"username",""),Kz(this,"unreadCount",void 0),Kz(this,"streamState",void 0),this.metrics=r,this.show=a,this.embedTrackingQuery=o,this.alwaysOverlay=u,this.hideWhenNotInFullscreen=l,this.openInNewTab=p,this.showOwnDocuments="OWN_DOCUMENTS"===this.show}return $z(e,[{key:"load",value:function(e,t,r,n,o){var i=this;return this.showMore=this.shouldShowMore(n,o),this.showOwnDocuments=this.shouldShowOwnDocuments(n),this.showAd=!o,this.publicationId=t,this.username=r,this.showMore?Vz(e,t,r,this.showOwnDocuments).then((function(e){return i.streamState=e,!0})):Promise.resolve(!1)}},{key:"shouldShowOwnDocuments",value:function(e){return"OWN_DOCUMENTS"===this.show&&e}},{key:"shouldShowRelated",value:function(e,t){return"RELATED"===this.show||"RELATED_FOR_FREE_PUBLISHERS"===this.show&&!t||"OWN_DOCUMENTS"===this.show&&!e&&!t}},{key:"shouldShowMore",value:function(e,t){return this.shouldShowRelated(e,t)||this.shouldShowOwnDocuments(e)}},{key:"shouldAlwaysBeOverlay",value:function(){return this.alwaysOverlay}},{key:"hasStreamData",value:function(){return!!(this.streamState&&this.streamState.buttonStream&&this.streamState.buttonStream.length>0)}},{key:"shouldRenderButton",value:function(e,t,r){return!(this.hideWhenNotInFullscreen&&!r)&&(this.hasStreamData()&&this.shouldShowMore(e,t))}},{key:"shouldRenderExitFullscreenOverlay",value:function(e,t){return!this.hideWhenNotInFullscreen&&this.hasStreamData()&&this.shouldShowMore(e,t)}},{key:"getButtonUnreadCount",value:function(){var e;return(e=void 0!==this.unreadCount?this.unreadCount:this.streamState&&this.streamState.buttonStream?this.streamState.buttonStream.length:void 0)&&Yz()&&(e=Math.min(e,3)),e}},{key:"clearButtonUnreadCount",value:function(){this.unreadCount=0}},{key:"render",value:function(e,t,r,n,o){return c.createElement(Mz,{config:e,debug:t,exitedFullscreen:r,embedTrackingQuery:this.embedTrackingQuery,isVisible:n,openInNewTab:this.openInNewTab,publicationId:this.publicationId,shouldHackStreamCount:Yz(),showAd:this.showAd,showAsOverlay:o,showMore:this.showMore,showOwnDocuments:this.showOwnDocuments,streamState:this.streamState,metrics:this.metrics,username:this.username})}}]),e}();function Jz(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=window.document.referrer,o=!n,i=Ue(n);try{window.parent.postMessage(e,o?"*":i),r&&r.push(e)}catch(e){t.monitor("reader3-postmessage-datacloneerror",{count:1})}}function Qz(e,t){var r=[];window.addEventListener("message",(function(n){if(We(n.origin)&&n&&n.data&&n.data.type)switch(n.data.type){case"KEY_LEFT":e.goToPreviousPage();break;case"KEY_RIGHT":e.goToNextPage();break;case"HIDE_LARGE_VIEW_BUTTON":e.hideLargeViewButton();break;case"SHOW_LARGE_VIEW_BUTTON_ENGAGED":e.showLargeViewEngagedButton();break;case"SHOW_LARGE_VIEW_BUTTON_DISENGAGED":e.showLargeViewDisengagedButton();break;case"LARGE_VIEW_BUTTON_PROMOTED":e.largeViewButtonPromoted();break;case"LARGE_VIEW_BUTTON_NOT_PROMOTED":e.largeViewButtonNotPromoted();break;case"ENABLE_TRACKING":e.beginTrackingReads();break;case"TOGGLE_FULLSCREEN":e.toggleFullscreen();break;case"SHOW_FIND_DIALOG":e.showFindDialog();break;case"GO_TO_PAGE":n.data.pageNumber&&e.setPageNumber(n.data.pageNumber);break;case"SEND_QUEUED_MESSAGES":r&&(r.forEach((function(e){Jz(e,t,null)})),r=null);break;case"STOP_MESSAGE_QUEUE":r=null;break;default:return}}),!1),e.setCallback("ON_PAGE_CHANGE_EVENT",(function(e){Jz({type:"pageChanged",data:e},t,r)})),e.setCallback("ON_INTERACTED_EVENT",(function(){Jz({type:"reader3Interacted"},t,r)})),e.setCallback("ON_EXIT_FULLSCREEN",(function(){Jz({type:"reader3ExitFullScreen"},t,r)})),e.setCallback("ON_ENTER_FULLSCREEN",(function(){Jz({type:"reader3EnterFullScreen"},t,r)})),e.setCallback("ON_LARGE_VIEW_CLICK",(function(){Jz({type:"reader3LargeViewClick"},t,r)})),e.setCallback("ON_DOCUMENT_LOAD_EVENT",(function(e){Jz({type:"documentLoaded",data:e},t,r)})),Jz({type:"reader3Available"},t,r)}var eH=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(){Xz=Function.prototype.toString,Function.prototype.toString=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=this.__sentry_original__||this;return Xz.apply(r,e)}},e.id="FunctionToString",e}(),tH=r(103),rH=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],nH=function(){function e(t){void 0===t&&(t={}),this._options=t,this.name=e.id}return e.prototype.setupOnce=function(){uo((function(t){var r=go();if(!r)return t;var n=r.getIntegration(e);if(n){var o=r.getClient(),i=o?o.getOptions():{},a=n._mergeOptions(i);if(n._shouldDropEvent(t,a))return null}return t}))},e.prototype._shouldDropEvent=function(e,t){return this._isSentryError(e,t)?(to.warn("Event dropped due to being internal Sentry Error.\nEvent: "+Object(Yn.d)(e)),!0):this._isIgnoredError(e,t)?(to.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+Object(Yn.d)(e)),!0):this._isDeniedUrl(e,t)?(to.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: "+Object(Yn.d)(e)+".\nUrl: "+this._getEventFilterUrl(e)),!0):!this._isAllowedUrl(e,t)&&(to.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: "+Object(Yn.d)(e)+".\nUrl: "+this._getEventFilterUrl(e)),!0)},e.prototype._isSentryError=function(e,t){if(!t.ignoreInternal)return!1;try{return e&&e.exception&&e.exception.values&&e.exception.values[0]&&"SentryError"===e.exception.values[0].type||!1}catch(e){return!1}},e.prototype._isIgnoredError=function(e,t){return!(!t.ignoreErrors||!t.ignoreErrors.length)&&this._getPossibleEventMessages(e).some((function(e){return t.ignoreErrors.some((function(t){return Object(tH.a)(e,t)}))}))},e.prototype._isDeniedUrl=function(e,t){if(!t.denyUrls||!t.denyUrls.length)return!1;var r=this._getEventFilterUrl(e);return!!r&&t.denyUrls.some((function(e){return Object(tH.a)(r,e)}))},e.prototype._isAllowedUrl=function(e,t){if(!t.allowUrls||!t.allowUrls.length)return!0;var r=this._getEventFilterUrl(e);return!r||t.allowUrls.some((function(e){return Object(tH.a)(r,e)}))},e.prototype._mergeOptions=function(e){return void 0===e&&(e={}),{allowUrls:Object(Kn.e)(this._options.whitelistUrls||[],this._options.allowUrls||[],e.whitelistUrls||[],e.allowUrls||[]),denyUrls:Object(Kn.e)(this._options.blacklistUrls||[],this._options.denyUrls||[],e.blacklistUrls||[],e.denyUrls||[]),ignoreErrors:Object(Kn.e)(this._options.ignoreErrors||[],e.ignoreErrors||[],rH),ignoreInternal:void 0===this._options.ignoreInternal||this._options.ignoreInternal}},e.prototype._getPossibleEventMessages=function(e){if(e.message)return[e.message];if(e.exception)try{var t=e.exception.values&&e.exception.values[0]||{},r=t.type,n=void 0===r?"":r,o=t.value,i=void 0===o?"":o;return[""+i,n+": "+i]}catch(t){return to.error("Cannot extract message for event "+Object(Yn.d)(e)),[]}return[]},e.prototype._getEventFilterUrl=function(e){try{if(e.stacktrace){var t=e.stacktrace.frames;return t&&t[t.length-1].filename||null}if(e.exception){var r=e.exception.values&&e.exception.values[0].stacktrace&&e.exception.values[0].stacktrace.frames;return r&&r[r.length-1].filename||null}return null}catch(t){return to.error("Cannot extract url for event "+Object(Yn.d)(e)),null}},e.id="InboundFilters",e}(),oH="6.0.0";function iH(e,t){!0===t.debug&&to.enable();var r=go(),n=new e(t);r.bindClient(n)}var aH=r(160);function sH(){if(!("fetch"in Object(Yn.e)()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(e){return!1}}function uH(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function cH(){if(!sH())return!1;var e=Object(Yn.e)();if(uH(e.fetch))return!0;var t=!1,r=e.document;if(r&&"function"==typeof r.createElement)try{var n=r.createElement("iframe");n.hidden=!0,r.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(t=uH(n.contentWindow.fetch)),r.head.removeChild(n)}catch(e){to.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return t}function lH(){if(!sH())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(e){return!1}}function fH(){var e=Object(Yn.e)(),t=e.chrome,r=t&&t.app&&t.app.runtime,n="history"in e&&!!e.history.pushState&&!!e.history.replaceState;return!r&&n}var pH,dH=Object(Yn.e)(),hH={},yH={};function mH(e){if(!yH[e])switch(yH[e]=!0,e){case"console":_H();break;case"dom":xH();break;case"xhr":OH();break;case"fetch":bH();break;case"history":TH();break;case"error":IH();break;case"unhandledrejection":MH();break;default:to.warn("unknown instrumentation type:",e)}}function vH(e){e&&"string"==typeof e.type&&"function"==typeof e.callback&&(hH[e.type]=hH[e.type]||[],hH[e.type].push(e.callback),mH(e.type))}function gH(e,t){var r,n;if(e&&hH[e])try{for(var o=Object(Kn.f)(hH[e]||[]),i=o.next();!i.done;i=o.next()){var a=i.value;try{a(t)}catch(t){to.error("Error while triggering instrumentation handler.\nType: "+e+"\nName: "+Object(aH.a)(a)+"\nError: "+t)}}}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}}function _H(){"console"in dH&&["debug","info","warn","error","log","assert"].forEach((function(e){e in dH.console&&Object(co.c)(dH.console,e,(function(t){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];gH("console",{args:r,level:e}),t&&Function.prototype.apply.call(t,dH.console,r)}}))}))}function bH(){cH()&&Object(co.c)(dH,"fetch",(function(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n={args:t,fetchData:{method:wH(t),url:EH(t)},startTimestamp:Date.now()};return gH("fetch",Object(Kn.a)({},n)),e.apply(dH,t).then((function(e){return gH("fetch",Object(Kn.a)(Object(Kn.a)({},n),{endTimestamp:Date.now(),response:e})),e}),(function(e){throw gH("fetch",Object(Kn.a)(Object(Kn.a)({},n),{endTimestamp:Date.now(),error:e})),e}))}}))}function wH(e){return void 0===e&&(e=[]),"Request"in dH&&Object(no.g)(e[0],Request)&&e[0].method?String(e[0].method).toUpperCase():e[1]&&e[1].method?String(e[1].method).toUpperCase():"GET"}function EH(e){return void 0===e&&(e=[]),"string"==typeof e[0]?e[0]:"Request"in dH&&Object(no.g)(e[0],Request)?e[0].url:String(e[0])}function OH(){if("XMLHttpRequest"in dH){var e=[],t=[],r=XMLHttpRequest.prototype;Object(co.c)(r,"open",(function(r){return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var i=this,a=n[1];i.__sentry_xhr__={method:Object(no.k)(n[0])?n[0].toUpperCase():n[0],url:n[1]},Object(no.k)(a)&&"POST"===i.__sentry_xhr__.method&&a.match(/sentry_key/)&&(i.__sentry_own_request__=!0);var s=function(){if(4===i.readyState){try{i.__sentry_xhr__&&(i.__sentry_xhr__.status_code=i.status)}catch(e){}try{var r=e.indexOf(i);if(-1!==r){e.splice(r);var o=t.splice(r)[0];i.__sentry_xhr__&&void 0!==o[0]&&(i.__sentry_xhr__.body=o[0])}}catch(e){}gH("xhr",{args:n,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:i})}};return"onreadystatechange"in i&&"function"==typeof i.onreadystatechange?Object(co.c)(i,"onreadystatechange",(function(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return s(),e.apply(i,t)}})):i.addEventListener("readystatechange",s),r.apply(i,n)}})),Object(co.c)(r,"send",(function(r){return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return e.push(this),t.push(n),gH("xhr",{args:n,startTimestamp:Date.now(),xhr:this}),r.apply(this,n)}}))}}function TH(){if(fH()){var e=dH.onpopstate;dH.onpopstate=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=dH.location.href,o=pH;if(pH=n,gH("history",{from:o,to:n}),e)return e.apply(this,t)},Object(co.c)(dH.history,"pushState",t),Object(co.c)(dH.history,"replaceState",t)}function t(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t.length>2?t[2]:void 0;if(n){var o=pH,i=String(n);pH=i,gH("history",{from:o,to:i})}return e.apply(this,t)}}}function xH(){"document"in dH&&(dH.document.addEventListener("click",AH("click",gH.bind(null,"dom")),!1),dH.document.addEventListener("keypress",RH(gH.bind(null,"dom")),!1),["EventTarget","Node"].forEach((function(e){var t=dH[e]&&dH[e].prototype;t&&t.hasOwnProperty&&t.hasOwnProperty("addEventListener")&&(Object(co.c)(t,"addEventListener",(function(e){return function(t,r,n){return r&&r.handleEvent?("click"===t&&Object(co.c)(r,"handleEvent",(function(e){return function(t){return AH("click",gH.bind(null,"dom"))(t),e.call(this,t)}})),"keypress"===t&&Object(co.c)(r,"handleEvent",(function(e){return function(t){return RH(gH.bind(null,"dom"))(t),e.call(this,t)}}))):("click"===t&&AH("click",gH.bind(null,"dom"),!0)(this),"keypress"===t&&RH(gH.bind(null,"dom"))(this)),e.call(this,t,r,n)}})),Object(co.c)(t,"removeEventListener",(function(e){return function(t,r,n){try{e.call(this,t,r.__sentry_wrapped__,n)}catch(e){}return e.call(this,t,r,n)}})))})))}var kH,SH,PH=1e3,CH=0;function AH(e,t,r){return void 0===r&&(r=!1),function(n){kH=void 0,n&&SH!==n&&(SH=n,CH&&clearTimeout(CH),r?CH=setTimeout((function(){t({event:n,name:e})})):t({event:n,name:e}))}}function RH(e){return function(t){var r;try{r=t.target}catch(e){return}var n=r&&r.tagName;n&&("INPUT"===n||"TEXTAREA"===n||r.isContentEditable)&&(kH||AH("input",e)(t),clearTimeout(kH),kH=setTimeout((function(){kH=void 0}),PH))}}var jH=null;function IH(){jH=dH.onerror,dH.onerror=function(e,t,r,n,o){return gH("error",{column:n,error:o,line:r,msg:e,url:t}),!!jH&&jH.apply(this,arguments)}}var DH=null;function MH(){DH=dH.onunhandledrejection,dH.onunhandledrejection=function(e){return gH("unhandledrejection",e),!DH||DH.apply(this,arguments)}}var LH=Object.setPrototypeOf||({__proto__:[]}instanceof Array?NH:BH);function NH(e,t){return e.__proto__=t,e}function BH(e,t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r]);return e}var FH=function(e){function t(t){var r=this.constructor,n=e.call(this,t)||this;return n.message=t,n.name=r.prototype.constructor.name,LH(n,r.prototype),n}return Object(Kn.b)(t,e),t}(Error),UH=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/,WH="Invalid Dsn",zH=function(){function e(e){"string"==typeof e?this._fromString(e):this._fromComponents(e),this._validate()}return e.prototype.toString=function(e){void 0===e&&(e=!1);var t=this,r=t.host,n=t.path,o=t.pass,i=t.port,a=t.projectId;return t.protocol+"://"+t.user+(e&&o?":"+o:"")+"@"+r+(i?":"+i:"")+"/"+(n?n+"/":n)+a},e.prototype._fromString=function(e){var t=UH.exec(e);if(!t)throw new FH(WH);var r=Object(Kn.c)(t.slice(1),6),n=r[0],o=r[1],i=r[2],a=void 0===i?"":i,s=r[3],u=r[4],c=void 0===u?"":u,l="",f=r[5],p=f.split("/");if(p.length>1&&(l=p.slice(0,-1).join("/"),f=p.pop()),f){var d=f.match(/^\d+/);d&&(f=d[0])}this._fromComponents({host:s,pass:a,path:l,projectId:f,port:c,protocol:n,user:o})},e.prototype._fromComponents=function(e){this.protocol=e.protocol,this.user=e.user,this.pass=e.pass||"",this.host=e.host,this.port=e.port||"",this.path=e.path||"",this.projectId=e.projectId},e.prototype._validate=function(){var e=this;if(["protocol","user","host","projectId"].forEach((function(t){if(!e[t])throw new FH(WH+": "+t+" missing")})),!this.projectId.match(/^\d+$/))throw new FH(WH+": Invalid projectId "+this.projectId);if("http"!==this.protocol&&"https"!==this.protocol)throw new FH(WH+": Invalid protocol "+this.protocol);if(this.port&&isNaN(parseInt(this.port,10)))throw new FH(WH+": Invalid port "+this.port)},e}(),HH=[];function VH(e){var t=e.defaultIntegrations&&Object(Kn.e)(e.defaultIntegrations)||[],r=e.integrations,n=[];if(Array.isArray(r)){var o=r.map((function(e){return e.name})),i=[];t.forEach((function(e){-1===o.indexOf(e.name)&&-1===i.indexOf(e.name)&&(n.push(e),i.push(e.name))})),r.forEach((function(e){-1===i.indexOf(e.name)&&(n.push(e),i.push(e.name))}))}else"function"==typeof r?(n=r(t),n=Array.isArray(n)?n:[n]):n=Object(Kn.e)(t);var a=n.map((function(e){return e.name}));return-1!==a.indexOf("Debug")&&n.push.apply(n,Object(Kn.e)(n.splice(a.indexOf("Debug"),1))),n}function GH(e){-1===HH.indexOf(e.name)&&(e.setupOnce(uo,go),HH.push(e.name),to.log("Integration installed: "+e.name))}function qH(e){var t={};return VH(e).forEach((function(e){t[e.name]=e,GH(e)})),t}var $H,KH=function(){function e(e,t){this._integrations={},this._processing=0,this._backend=new e(t),this._options=t,t.dsn&&(this._dsn=new zH(t.dsn))}return e.prototype.captureException=function(e,t,r){var n=this,o=t&&t.event_id;return this._process(this._getBackend().eventFromException(e,t).then((function(e){return n._captureEvent(e,t,r)})).then((function(e){o=e}))),o},e.prototype.captureMessage=function(e,t,r,n){var o=this,i=r&&r.event_id,a=Object(no.i)(e)?this._getBackend().eventFromMessage(String(e),t,r):this._getBackend().eventFromException(e,r);return this._process(a.then((function(e){return o._captureEvent(e,r,n)})).then((function(e){i=e}))),i},e.prototype.captureEvent=function(e,t,r){var n=t&&t.event_id;return this._process(this._captureEvent(e,t,r).then((function(e){n=e}))),n},e.prototype.captureSession=function(e){e.release?this._sendSession(e):to.warn("Discarded session because of missing release")},e.prototype.getDsn=function(){return this._dsn},e.prototype.getOptions=function(){return this._options},e.prototype.flush=function(e){var t=this;return this._isClientProcessing(e).then((function(r){return t._getBackend().getTransport().close(e).then((function(e){return r&&e}))}))},e.prototype.close=function(e){var t=this;return this.flush(e).then((function(e){return t.getOptions().enabled=!1,e}))},e.prototype.setupIntegrations=function(){this._isEnabled()&&(this._integrations=qH(this._options))},e.prototype.getIntegration=function(e){try{return this._integrations[e.id]||null}catch(t){return to.warn("Cannot retrieve integration "+e.id+" from the current Client"),null}},e.prototype._updateSessionFromEvent=function(e,t){var r,n,o,i=!1,a=!1,s=t.exception&&t.exception.values;if(s){a=!0;try{for(var u=Object(Kn.f)(s),c=u.next();!c.done;c=u.next()){var l=c.value.mechanism;if(l&&!1===l.handled){i=!0;break}}}catch(e){r={error:e}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}}var f=t.user;if(!e.userAgent){var p=t.request?t.request.headers:{};for(var d in p)if("user-agent"===d.toLowerCase()){o=p[d];break}}e.update(Object(Kn.a)(Object(Kn.a)({},i&&{status:oo.Crashed}),{user:f,userAgent:o,errors:e.errors+Number(a||i)}))},e.prototype._sendSession=function(e){this._getBackend().sendSession(e)},e.prototype._isClientProcessing=function(e){var t=this;return new io((function(r){var n=0,o=setInterval((function(){0==t._processing?(clearInterval(o),r(!0)):(n+=1,e&&n>=e&&(clearInterval(o),r(!1)))}),1)}))},e.prototype._getBackend=function(){return this._backend},e.prototype._isEnabled=function(){return!1!==this.getOptions().enabled&&void 0!==this._dsn},e.prototype._prepareEvent=function(e,t,r){var n=this,o=this.getOptions().normalizeDepth,i=void 0===o?3:o,a=Object(Kn.a)(Object(Kn.a)({},e),{event_id:e.event_id||(r&&r.event_id?r.event_id:Object(Yn.i)()),timestamp:e.timestamp||Object(Xn.a)()});this._applyClientOptions(a),this._applyIntegrationsMetadata(a);var s=t;r&&r.captureContext&&(s=ao.clone(s).update(r.captureContext));var u=io.resolve(a);return s&&(u=s.applyToEvent(a,r)),u.then((function(e){return"number"==typeof i&&i>0?n._normalizeEvent(e,i):e}))},e.prototype._normalizeEvent=function(e,t){if(!e)return null;var r=Object(Kn.a)(Object(Kn.a)(Object(Kn.a)(Object(Kn.a)(Object(Kn.a)({},e),e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map((function(e){return Object(Kn.a)(Object(Kn.a)({},e),e.data&&{data:Object(co.d)(e.data,t)})}))}),e.user&&{user:Object(co.d)(e.user,t)}),e.contexts&&{contexts:Object(co.d)(e.contexts,t)}),e.extra&&{extra:Object(co.d)(e.extra,t)});return e.contexts&&e.contexts.trace&&(r.contexts.trace=e.contexts.trace),r},e.prototype._applyClientOptions=function(e){var t=this.getOptions(),r=t.environment,n=t.release,o=t.dist,i=t.maxValueLength,a=void 0===i?250:i;"environment"in e||(e.environment="environment"in t?r:"production"),void 0===e.release&&void 0!==n&&(e.release=n),void 0===e.dist&&void 0!==o&&(e.dist=o),e.message&&(e.message=Object(tH.d)(e.message,a));var s=e.exception&&e.exception.values&&e.exception.values[0];s&&s.value&&(s.value=Object(tH.d)(s.value,a));var u=e.request;u&&u.url&&(u.url=Object(tH.d)(u.url,a))},e.prototype._applyIntegrationsMetadata=function(e){var t=e.sdk,r=Object.keys(this._integrations);t&&r.length>0&&(t.integrations=r)},e.prototype._sendEvent=function(e){this._getBackend().sendEvent(e)},e.prototype._captureEvent=function(e,t,r){return this._processEvent(e,t,r).then((function(e){return e.event_id}),(function(e){to.error(e)}))},e.prototype._processEvent=function(e,t,r){var n=this,o=this.getOptions(),i=o.beforeSend,a=o.sampleRate;if(!this._isEnabled())return io.reject(new FH("SDK not enabled, will not send event."));var s="transaction"===e.type;return!s&&"number"==typeof a&&Math.random()>a?io.reject(new FH("Discarding event because it's not included in the random sample (sampling rate = "+a+")")):this._prepareEvent(e,r,t).then((function(e){if(null===e)throw new FH("An event processor returned null, will not send event.");if(t&&t.data&&!0===t.data.__sentry__||s||!i)return e;var r=i(e,t);if(void 0===r)throw new FH("`beforeSend` method has to return `null` or a valid event.");return Object(no.m)(r)?r.then((function(e){return e}),(function(e){throw new FH("beforeSend rejected with "+e)})):r})).then((function(e){if(null===e)throw new FH("`beforeSend` returned `null`, will not send event.");var t=r&&r.getSession&&r.getSession();return!s&&t&&n._updateSessionFromEvent(t,e),n._sendEvent(e),e})).then(null,(function(e){if(e instanceof FH)throw e;throw n.captureException(e,{data:{__sentry__:!0},originalException:e}),new FH("Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: "+e)}))},e.prototype._process=function(e){var t=this;this._processing+=1,e.then((function(e){return t._processing-=1,e}),(function(e){return t._processing-=1,e}))},e}();!function(e){e.Unknown="unknown",e.Skipped="skipped",e.Success="success",e.RateLimit="rate_limit",e.Invalid="invalid",e.Failed="failed"}($H||($H={})),function(e){e.fromHttpCode=function(t){return t>=200&&t<300?e.Success:429===t?e.RateLimit:t>=400&&t<500?e.Invalid:t>=500?e.Failed:e.Unknown}}($H||($H={}));var YH,XH=function(){function e(){}return e.prototype.sendEvent=function(e){return io.resolve({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:$H.Skipped})},e.prototype.close=function(e){return io.resolve(!0)},e}(),ZH=function(){function e(e){this._options=e,this._options.dsn||to.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}return e.prototype.eventFromException=function(e,t){throw new FH("Backend has to implement `eventFromException` method")},e.prototype.eventFromMessage=function(e,t,r){throw new FH("Backend has to implement `eventFromMessage` method")},e.prototype.sendEvent=function(e){this._transport.sendEvent(e).then(null,(function(e){to.error("Error while sending event: "+e)}))},e.prototype.sendSession=function(e){this._transport.sendSession?this._transport.sendSession(e).then(null,(function(e){to.error("Error while sending session: "+e)})):to.warn("Dropping session because custom transport doesn't implement sendSession")},e.prototype.getTransport=function(){return this._transport},e.prototype._setupTransport=function(){return new XH},e}();!function(e){e.Fatal="fatal",e.Error="error",e.Warning="warning",e.Log="log",e.Info="info",e.Debug="debug",e.Critical="critical"}(YH||(YH={})),function(e){e.fromString=function(t){switch(t){case"debug":return e.Debug;case"info":return e.Info;case"warn":case"warning":return e.Warning;case"error":return e.Error;case"fatal":return e.Fatal;case"critical":return e.Critical;case"log":default:return e.Log}}}(YH||(YH={}));var JH="?",QH=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,eV=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,tV=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,rV=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,nV=/\((\S*)(?::(\d+))(?::(\d+))\)/,oV=/Minified React error #\d+;/i;function iV(e){var t=null,r=0;e&&("number"==typeof e.framesToPop?r=e.framesToPop:oV.test(e.message)&&(r=1));try{if(t=sV(e))return uV(t,r)}catch(e){}try{if(t=aV(e))return uV(t,r)}catch(e){}return{message:cV(e),name:e&&e.name,stack:[],failed:!0}}function aV(e){if(!e||!e.stack)return null;for(var t,r,n,o=[],i=e.stack.split("\n"),a=0;a<i.length;++a){if(r=QH.exec(i[a])){var s=r[2]&&0===r[2].indexOf("native");r[2]&&0===r[2].indexOf("eval")&&(t=nV.exec(r[2]))&&(r[2]=t[1],r[3]=t[2],r[4]=t[3]),n={url:r[2]&&0===r[2].indexOf("address at ")?r[2].substr("address at ".length):r[2],func:r[1]||JH,args:s?[r[2]]:[],line:r[3]?+r[3]:null,column:r[4]?+r[4]:null}}else if(r=tV.exec(i[a]))n={url:r[2],func:r[1]||JH,args:[],line:+r[3],column:r[4]?+r[4]:null};else{if(!(r=eV.exec(i[a])))continue;r[3]&&r[3].indexOf(" > eval")>-1&&(t=rV.exec(r[3]))?(r[1]=r[1]||"eval",r[3]=t[1],r[4]=t[2],r[5]=""):0!==a||r[5]||void 0===e.columnNumber||(o[0].column=e.columnNumber+1),n={url:r[3],func:r[1]||JH,args:r[2]?r[2].split(","):[],line:r[4]?+r[4]:null,column:r[5]?+r[5]:null}}!n.func&&n.line&&(n.func=JH),o.push(n)}return o.length?{message:cV(e),name:e.name,stack:o}:null}function sV(e){if(!e||!e.stacktrace)return null;for(var t,r=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,n=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\((.*)\))? in (.*):\s*$/i,o=e.stacktrace.split("\n"),i=[],a=0;a<o.length;a+=2){var s=null;(t=r.exec(o[a]))?s={url:t[2],func:t[3],args:[],line:+t[1],column:null}:(t=n.exec(o[a]))&&(s={url:t[6],func:t[3]||t[4],args:t[5]?t[5].split(","):[],line:+t[1],column:+t[2]}),s&&(!s.func&&s.line&&(s.func=JH),i.push(s))}return i.length?{message:cV(e),name:e.name,stack:i}:null}function uV(e,t){try{return Object(Kn.a)(Object(Kn.a)({},e),{stack:e.stack.slice(t)})}catch(t){return e}}function cV(e){var t=e&&e.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message"}var lV=50;function fV(e){var t=hV(e.stack),r={type:e.name,value:e.message};return t&&t.length&&(r.stacktrace={frames:t}),void 0===r.type&&""===r.value&&(r.value="Unrecoverable error caught"),r}function pV(e,t,r){var n={exception:{values:[{type:Object(no.f)(e)?e.constructor.name:r?"UnhandledRejection":"Error",value:"Non-Error "+(r?"promise rejection":"exception")+" captured with keys: "+Object(co.b)(e)}]},extra:{__serialized__:Object(co.e)(e)}};if(t){var o=hV(iV(t).stack);n.stacktrace={frames:o}}return n}function dV(e){return{exception:{values:[fV(e)]}}}function hV(e){if(!e||!e.length)return[];var t=e,r=t[0].func||"",n=t[t.length-1].func||"";return-1===r.indexOf("captureMessage")&&-1===r.indexOf("captureException")||(t=t.slice(1)),-1!==n.indexOf("sentryWrapped")&&(t=t.slice(0,-1)),t.slice(0,lV).map((function(e){return{colno:null===e.column?void 0:e.column,filename:e.url||t[0].url,function:e.func||"?",in_app:!0,lineno:null===e.line?void 0:e.line}})).reverse()}function yV(e,t,r){var n=vV(t,r&&r.syntheticException||void 0,{attachStacktrace:e.attachStacktrace});return Object(Yn.a)(n,{handled:!0,type:"generic"}),n.level=YH.Error,r&&r.event_id&&(n.event_id=r.event_id),io.resolve(n)}function mV(e,t,r,n){void 0===r&&(r=YH.Info);var o=gV(t,n&&n.syntheticException||void 0,{attachStacktrace:e.attachStacktrace});return o.level=r,n&&n.event_id&&(o.event_id=n.event_id),io.resolve(o)}function vV(e,t,r){var n;if(void 0===r&&(r={}),Object(no.e)(e)&&e.error)return n=dV(iV(e=e.error));if(Object(no.a)(e)||Object(no.b)(e)){var o=e,i=o.name||(Object(no.a)(o)?"DOMError":"DOMException"),a=o.message?i+": "+o.message:i;return n=gV(a,t,r),Object(Yn.b)(n,a),"code"in o&&(n.tags=Object(Kn.a)(Object(Kn.a)({},n.tags),{"DOMException.code":""+o.code})),n}return Object(no.d)(e)?n=dV(iV(e)):Object(no.h)(e)||Object(no.f)(e)?(n=pV(e,t,r.rejection),Object(Yn.a)(n,{synthetic:!0}),n):(n=gV(e,t,r),Object(Yn.b)(n,""+e,void 0),Object(Yn.a)(n,{synthetic:!0}),n)}function gV(e,t,r){void 0===r&&(r={});var n={message:e};if(r.attachStacktrace&&t){var o=hV(iV(t).stack);n.stacktrace={frames:o}}return n}function _V(e){if(e.metadata&&e.metadata.sdk){var t=e.metadata.sdk;return{name:t.name,version:t.version}}}function bV(e,t){return t?(e.sdk=e.sdk||{name:t.name,version:t.version},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=Object(Kn.e)(e.sdk.integrations||[],t.integrations||[]),e.sdk.packages=Object(Kn.e)(e.sdk.packages||[],t.packages||[]),e):e}function wV(e,t){var r=_V(t);return{body:JSON.stringify(Object(Kn.a)({sent_at:(new Date).toISOString()},r&&{sdk:r}))+"\n"+JSON.stringify({type:"session"})+"\n"+JSON.stringify(e),type:"session",url:t.getEnvelopeEndpointWithUrlEncodedAuth()}}function EV(e,t){var r=e.tags||{},n=r.__sentry_samplingMethod,o=r.__sentry_sampleRate,i=Object(Kn.d)(r,["__sentry_samplingMethod","__sentry_sampleRate"]);e.tags=i;var a=_V(t),s=e.type||"event",u="transaction"===s,c={body:JSON.stringify(a?bV(e,t.metadata.sdk):e),type:s,url:u?t.getEnvelopeEndpointWithUrlEncodedAuth():t.getStoreEndpointWithUrlEncodedAuth()};if(u){var l=JSON.stringify(Object(Kn.a)({event_id:e.event_id,sent_at:(new Date).toISOString()},a&&{sdk:a}))+"\n"+JSON.stringify({type:e.type,sample_rates:[{id:n,rate:o}]})+"\n"+c.body;c.body=l}return c}var OV="7",TV=function(){function e(e,t){void 0===t&&(t={}),this.dsn=e,this.metadata=t,this._dsnObject=new zH(e)}return e.prototype.getDsn=function(){return this._dsnObject},e.prototype.getBaseApiEndpoint=function(){var e=this._dsnObject,t=e.protocol?e.protocol+":":"",r=e.port?":"+e.port:"";return t+"//"+e.host+r+(e.path?"/"+e.path:"")+"/api/"},e.prototype.getStoreEndpoint=function(){return this._getIngestEndpoint("store")},e.prototype.getStoreEndpointWithUrlEncodedAuth=function(){return this.getStoreEndpoint()+"?"+this._encodedAuth()},e.prototype.getEnvelopeEndpointWithUrlEncodedAuth=function(){return this._getEnvelopeEndpoint()+"?"+this._encodedAuth()},e.prototype.getStoreEndpointPath=function(){var e=this._dsnObject;return(e.path?"/"+e.path:"")+"/api/"+e.projectId+"/store/"},e.prototype.getRequestHeaders=function(e,t){var r=this._dsnObject,n=["Sentry sentry_version="+OV];return n.push("sentry_client="+e+"/"+t),n.push("sentry_key="+r.user),r.pass&&n.push("sentry_secret="+r.pass),{"Content-Type":"application/json","X-Sentry-Auth":n.join(", ")}},e.prototype.getReportDialogEndpoint=function(e){void 0===e&&(e={});var t=this._dsnObject,r=this.getBaseApiEndpoint()+"embed/error-page/",n=[];for(var o in n.push("dsn="+t.toString()),e)if("dsn"!==o)if("user"===o){if(!e.user)continue;e.user.name&&n.push("name="+encodeURIComponent(e.user.name)),e.user.email&&n.push("email="+encodeURIComponent(e.user.email))}else n.push(encodeURIComponent(o)+"="+encodeURIComponent(e[o]));return n.length?r+"?"+n.join("&"):r},e.prototype._getEnvelopeEndpoint=function(){return this._getIngestEndpoint("envelope")},e.prototype._getIngestEndpoint=function(e){return""+this.getBaseApiEndpoint()+this._dsnObject.projectId+"/"+e+"/"},e.prototype._encodedAuth=function(){var e={sentry_key:this._dsnObject.user,sentry_version:OV};return Object(co.f)(e)},e}(),xV=function(){function e(e){this._limit=e,this._buffer=[]}return e.prototype.isReady=function(){return void 0===this._limit||this.length()<this._limit},e.prototype.add=function(e){var t=this;return this.isReady()?(-1===this._buffer.indexOf(e)&&this._buffer.push(e),e.then((function(){return t.remove(e)})).then(null,(function(){return t.remove(e).then(null,(function(){}))})),e):io.reject(new FH("Not adding Promise due to buffer limit reached."))},e.prototype.remove=function(e){return this._buffer.splice(this._buffer.indexOf(e),1)[0]},e.prototype.length=function(){return this._buffer.length},e.prototype.drain=function(e){var t=this;return new io((function(r){var n=setTimeout((function(){e&&e>0&&r(!1)}),e);io.all(t._buffer).then((function(){clearTimeout(n),r(!0)})).then(null,(function(){r(!0)}))}))},e}(),kV=function(){function e(e){this.options=e,this._buffer=new xV(30),this._rateLimits={},this._api=new TV(e.dsn,e._metadata),this.url=this._api.getStoreEndpointWithUrlEncodedAuth()}return e.prototype.sendEvent=function(e){throw new FH("Transport Class has to implement `sendEvent` method")},e.prototype.close=function(e){return this._buffer.drain(e)},e.prototype._handleResponse=function(e){var t=e.requestType,r=e.response,n=e.headers,o=e.resolve,i=e.reject,a=$H.fromHttpCode(r.status);this._handleRateLimit(n)&&to.warn("Too many requests, backing off until: "+this._disabledUntil(t)),a!==$H.Success?i(r):o({status:a})},e.prototype._disabledUntil=function(e){return this._rateLimits[e]||this._rateLimits.all},e.prototype._isRateLimited=function(e){return this._disabledUntil(e)>new Date(Date.now())},e.prototype._handleRateLimit=function(e){var t,r,n,o,i=Date.now(),a=e["x-sentry-rate-limits"],s=e["retry-after"];if(a){try{for(var u=Object(Kn.f)(a.trim().split(",")),c=u.next();!c.done;c=u.next()){var l=c.value.split(":",2),f=parseInt(l[0],10),p=1e3*(isNaN(f)?60:f);try{for(var d=(n=void 0,Object(Kn.f)(l[1].split(";"))),h=d.next();!h.done;h=d.next()){var y=h.value;this._rateLimits[y||"all"]=new Date(i+p)}}catch(e){n={error:e}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(t)throw t.error}}return!0}return!!s&&(this._rateLimits.all=new Date(i+Object(Yn.g)(i,s)),!0)},e}(),SV=Object(Yn.e)(),PV=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(Kn.b)(t,e),t.prototype.sendEvent=function(e){return this._sendRequest(EV(e,this._api),e)},t.prototype.sendSession=function(e){return this._sendRequest(wV(e,this._api),e)},t.prototype._sendRequest=function(e,t){var r=this;if(this._isRateLimited(e.type))return Promise.reject({event:t,type:e.type,reason:"Transport locked till "+this._disabledUntil(e.type)+" due to too many requests.",status:429});var n={body:e.body,method:"POST",referrerPolicy:lH()?"origin":""};return void 0!==this.options.fetchParameters&&Object.assign(n,this.options.fetchParameters),void 0!==this.options.headers&&(n.headers=this.options.headers),this._buffer.add(new io((function(t,o){SV.fetch(e.url,n).then((function(n){var i={"x-sentry-rate-limits":n.headers.get("X-Sentry-Rate-Limits"),"retry-after":n.headers.get("Retry-After")};r._handleResponse({requestType:e.type,response:n,headers:i,resolve:t,reject:o})})).catch(o)})))},t}(kV),CV=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(Kn.b)(t,e),t.prototype.sendEvent=function(e){return this._sendRequest(EV(e,this._api),e)},t.prototype.sendSession=function(e){return this._sendRequest(wV(e,this._api),e)},t.prototype._sendRequest=function(e,t){var r=this;return this._isRateLimited(e.type)?Promise.reject({event:t,type:e.type,reason:"Transport locked till "+this._disabledUntil(e.type)+" due to too many requests.",status:429}):this._buffer.add(new io((function(t,n){var o=new XMLHttpRequest;for(var i in o.onreadystatechange=function(){if(4===o.readyState){var i={"x-sentry-rate-limits":o.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":o.getResponseHeader("Retry-After")};r._handleResponse({requestType:e.type,response:o,headers:i,resolve:t,reject:n})}},o.open("POST",e.url),r.options.headers)r.options.headers.hasOwnProperty(i)&&o.setRequestHeader(i,r.options.headers[i]);o.send(e.body)})))},t}(kV),AV=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(Kn.b)(t,e),t.prototype.eventFromException=function(e,t){return yV(this._options,e,t)},t.prototype.eventFromMessage=function(e,t,r){return void 0===t&&(t=YH.Info),mV(this._options,e,t,r)},t.prototype._setupTransport=function(){if(!this._options.dsn)return e.prototype._setupTransport.call(this);var t=Object(Kn.a)(Object(Kn.a)({},this._options.transportOptions),{dsn:this._options.dsn,_metadata:this._options._metadata});return this._options.transport?new this._options.transport(t):sH()?new PV(t):new CV(t)},t}(ZH),RV=0;function jV(){return RV>0}function IV(){RV+=1,setTimeout((function(){RV-=1}))}function DV(e,t,r){if(void 0===t&&(t={}),"function"!=typeof e)return e;try{if(e.__sentry__)return e;if(e.__sentry_wrapped__)return e.__sentry_wrapped__}catch(t){return e}var n=function(){var n=Array.prototype.slice.call(arguments);try{r&&"function"==typeof r&&r.apply(this,arguments);var o=n.map((function(e){return DV(e,t)}));return e.handleEvent?e.handleEvent.apply(this,o):e.apply(this,o)}catch(e){throw IV(),ko((function(r){r.addEventProcessor((function(e){var r=Object(Kn.a)({},e);return t.mechanism&&(Object(Yn.b)(r,void 0,void 0),Object(Yn.a)(r,t.mechanism)),r.extra=Object(Kn.a)(Object(Kn.a)({},r.extra),{arguments:n}),r})),xo(e)})),e}};try{for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}catch(e){}e.prototype=e.prototype||{},n.prototype=e.prototype,Object.defineProperty(e,"__sentry_wrapped__",{enumerable:!1,value:n}),Object.defineProperties(n,{__sentry__:{enumerable:!1,value:!0},__sentry_original__:{enumerable:!1,value:e}});try{Object.getOwnPropertyDescriptor(n,"name").configurable&&Object.defineProperty(n,"name",{get:function(){return e.name}})}catch(e){}return n}function MV(e){if(void 0===e&&(e={}),e.eventId)if(e.dsn){var t=document.createElement("script");t.async=!0,t.src=new TV(e.dsn).getReportDialogEndpoint(e),e.onLoad&&(t.onload=e.onLoad),(document.head||document.body).appendChild(t)}else to.error("Missing dsn option in showReportDialog call");else to.error("Missing eventId option in showReportDialog call")}var LV=r(200),NV=function(){function e(t){this.name=e.id,this._options=Object(Kn.a)({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},t)}return e.prototype.addSentryBreadcrumb=function(e){this._options.sentry&&go().addBreadcrumb({category:"sentry."+("transaction"===e.type?"transaction":"event"),event_id:e.event_id,level:e.level,message:Object(Yn.d)(e)},{event:e})},e.prototype.setupOnce=function(){var e=this;this._options.console&&vH({callback:function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];e._consoleBreadcrumb.apply(e,Object(Kn.e)(t))},type:"console"}),this._options.dom&&vH({callback:function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];e._domBreadcrumb.apply(e,Object(Kn.e)(t))},type:"dom"}),this._options.xhr&&vH({callback:function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];e._xhrBreadcrumb.apply(e,Object(Kn.e)(t))},type:"xhr"}),this._options.fetch&&vH({callback:function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];e._fetchBreadcrumb.apply(e,Object(Kn.e)(t))},type:"fetch"}),this._options.history&&vH({callback:function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];e._historyBreadcrumb.apply(e,Object(Kn.e)(t))},type:"history"})},e.prototype._consoleBreadcrumb=function(e){var t={category:"console",data:{arguments:e.args,logger:"console"},level:YH.fromString(e.level),message:Object(tH.b)(e.args," ")};if("assert"===e.level){if(!1!==e.args[0])return;t.message="Assertion failed: "+(Object(tH.b)(e.args.slice(1)," ")||"console.assert"),t.data.arguments=e.args.slice(1)}go().addBreadcrumb(t,{input:e.args,level:e.level})},e.prototype._domBreadcrumb=function(e){var t;try{t=e.event.target?Object(LV.a)(e.event.target):Object(LV.a)(e.event)}catch(e){t="<unknown>"}0!==t.length&&go().addBreadcrumb({category:"ui."+e.name,message:t},{event:e.event,name:e.name})},e.prototype._xhrBreadcrumb=function(e){if(e.endTimestamp){if(e.xhr.__sentry_own_request__)return;var t=e.xhr.__sentry_xhr__||{},r=t.method,n=t.url,o=t.status_code,i=t.body;go().addBreadcrumb({category:"xhr",data:{method:r,url:n,status_code:o},type:"http"},{xhr:e.xhr,input:i})}else;},e.prototype._fetchBreadcrumb=function(e){e.endTimestamp&&(e.fetchData.url.match(/sentry_key/)&&"POST"===e.fetchData.method||(e.error?go().addBreadcrumb({category:"fetch",data:e.fetchData,level:YH.Error,type:"http"},{data:e.error,input:e.args}):go().addBreadcrumb({category:"fetch",data:Object(Kn.a)(Object(Kn.a)({},e.fetchData),{status_code:e.response.status}),type:"http"},{input:e.args,response:e.response})))},e.prototype._historyBreadcrumb=function(e){var t=Object(Yn.e)(),r=e.from,n=e.to,o=Object(Yn.h)(t.location.href),i=Object(Yn.h)(r),a=Object(Yn.h)(n);i.path||(i=o),o.protocol===a.protocol&&o.host===a.host&&(n=a.relative),o.protocol===i.protocol&&o.host===i.host&&(r=i.relative),go().addBreadcrumb({category:"navigation",data:{from:r,to:n}})},e.id="Breadcrumbs",e}(),BV=function(e){function t(t){return void 0===t&&(t={}),e.call(this,AV,t)||this}return Object(Kn.b)(t,e),t.prototype.showReportDialog=function(e){void 0===e&&(e={}),Object(Yn.e)().document&&(this._isEnabled()?MV(Object(Kn.a)(Object(Kn.a)({},e),{dsn:e.dsn||this.getDsn()})):to.error("Trying to call showReportDialog with Sentry Client disabled"))},t.prototype._prepareEvent=function(t,r,n){return t.platform=t.platform||"javascript",e.prototype._prepareEvent.call(this,t,r,n)},t.prototype._sendEvent=function(t){var r=this.getIntegration(NV);r&&r.addSentryBreadcrumb(t),e.prototype._sendEvent.call(this,t)},t}(KH),FV=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],UV=function(){function e(t){this.name=e.id,this._options=Object(Kn.a)({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},t)}return e.prototype.setupOnce=function(){var e=Object(Yn.e)();(this._options.setTimeout&&Object(co.c)(e,"setTimeout",this._wrapTimeFunction.bind(this)),this._options.setInterval&&Object(co.c)(e,"setInterval",this._wrapTimeFunction.bind(this)),this._options.requestAnimationFrame&&Object(co.c)(e,"requestAnimationFrame",this._wrapRAF.bind(this)),this._options.XMLHttpRequest&&"XMLHttpRequest"in e&&Object(co.c)(XMLHttpRequest.prototype,"send",this._wrapXHR.bind(this)),this._options.eventTarget)&&(Array.isArray(this._options.eventTarget)?this._options.eventTarget:FV).forEach(this._wrapEventTarget.bind(this))},e.prototype._wrapTimeFunction=function(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t[0];return t[0]=DV(n,{mechanism:{data:{function:Object(aH.a)(e)},handled:!0,type:"instrument"}}),e.apply(this,t)}},e.prototype._wrapRAF=function(e){return function(t){return e.call(this,DV(t,{mechanism:{data:{function:"requestAnimationFrame",handler:Object(aH.a)(e)},handled:!0,type:"instrument"}}))}},e.prototype._wrapEventTarget=function(e){var t=Object(Yn.e)(),r=t[e]&&t[e].prototype;r&&r.hasOwnProperty&&r.hasOwnProperty("addEventListener")&&(Object(co.c)(r,"addEventListener",(function(t){return function(r,n,o){try{"function"==typeof n.handleEvent&&(n.handleEvent=DV(n.handleEvent.bind(n),{mechanism:{data:{function:"handleEvent",handler:Object(aH.a)(n),target:e},handled:!0,type:"instrument"}}))}catch(e){}return t.call(this,r,DV(n,{mechanism:{data:{function:"addEventListener",handler:Object(aH.a)(n),target:e},handled:!0,type:"instrument"}}),o)}})),Object(co.c)(r,"removeEventListener",(function(e){return function(t,r,n){var o,i=r;try{var a=null===(o=i)||void 0===o?void 0:o.__sentry_wrapped__;a&&e.call(this,t,a,n)}catch(e){}return e.call(this,t,i,n)}})))},e.prototype._wrapXHR=function(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=this,o=["onload","onerror","onprogress","onreadystatechange"];return o.forEach((function(e){e in n&&"function"==typeof n[e]&&Object(co.c)(n,e,(function(t){var r={mechanism:{data:{function:e,handler:Object(aH.a)(t)},handled:!0,type:"instrument"}};return t.__sentry_original__&&(r.mechanism.data.handler=Object(aH.a)(t.__sentry_original__)),DV(t,r)}))})),e.apply(this,t)}},e.id="TryCatch",e}(),WV=function(){function e(t){this.name=e.id,this._onErrorHandlerInstalled=!1,this._onUnhandledRejectionHandlerInstalled=!1,this._options=Object(Kn.a)({onerror:!0,onunhandledrejection:!0},t)}return e.prototype.setupOnce=function(){Error.stackTraceLimit=50,this._options.onerror&&(to.log("Global Handler attached: onerror"),this._installGlobalOnErrorHandler()),this._options.onunhandledrejection&&(to.log("Global Handler attached: onunhandledrejection"),this._installGlobalOnUnhandledRejectionHandler())},e.prototype._installGlobalOnErrorHandler=function(){var t=this;this._onErrorHandlerInstalled||(vH({callback:function(r){var n=r.error,o=go(),i=o.getIntegration(e),a=n&&!0===n.__sentry_own_request__;if(i&&!jV()&&!a){var s=o.getClient(),u=Object(no.i)(n)?t._eventFromIncompleteOnError(r.msg,r.url,r.line,r.column):t._enhanceEventWithInitialFrame(vV(n,void 0,{attachStacktrace:s&&s.getOptions().attachStacktrace,rejection:!1}),r.url,r.line,r.column);Object(Yn.a)(u,{handled:!1,type:"onerror"}),o.captureEvent(u,{originalException:n})}},type:"error"}),this._onErrorHandlerInstalled=!0)},e.prototype._installGlobalOnUnhandledRejectionHandler=function(){var t=this;this._onUnhandledRejectionHandlerInstalled||(vH({callback:function(r){var n=r;try{"reason"in r?n=r.reason:"detail"in r&&"reason"in r.detail&&(n=r.detail.reason)}catch(e){}var o=go(),i=o.getIntegration(e),a=n&&!0===n.__sentry_own_request__;if(!i||jV()||a)return!0;var s=o.getClient(),u=Object(no.i)(n)?t._eventFromRejectionWithPrimitive(n):vV(n,void 0,{attachStacktrace:s&&s.getOptions().attachStacktrace,rejection:!0});u.level=YH.Error,Object(Yn.a)(u,{handled:!1,type:"onunhandledrejection"}),o.captureEvent(u,{originalException:n})},type:"unhandledrejection"}),this._onUnhandledRejectionHandlerInstalled=!0)},e.prototype._eventFromIncompleteOnError=function(e,t,r,n){var o,i=Object(no.e)(e)?e.message:e;if(Object(no.k)(i)){var a=i.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i);a&&(o=a[1],i=a[2])}var s={exception:{values:[{type:o||"Error",value:i}]}};return this._enhanceEventWithInitialFrame(s,t,r,n)},e.prototype._eventFromRejectionWithPrimitive=function(e){return{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(e)}]}}},e.prototype._enhanceEventWithInitialFrame=function(e,t,r,n){e.exception=e.exception||{},e.exception.values=e.exception.values||[],e.exception.values[0]=e.exception.values[0]||{},e.exception.values[0].stacktrace=e.exception.values[0].stacktrace||{},e.exception.values[0].stacktrace.frames=e.exception.values[0].stacktrace.frames||[];var o=isNaN(parseInt(n,10))?void 0:n,i=isNaN(parseInt(r,10))?void 0:r,a=Object(no.k)(t)&&t.length>0?t:Object(Yn.f)();return 0===e.exception.values[0].stacktrace.frames.length&&e.exception.values[0].stacktrace.frames.push({colno:o,filename:a,function:"?",in_app:!0,lineno:i}),e},e.id="GlobalHandlers",e}(),zV="cause",HV=5,VV=function(){function e(t){void 0===t&&(t={}),this.name=e.id,this._key=t.key||zV,this._limit=t.limit||HV}return e.prototype.setupOnce=function(){uo((function(t,r){var n=go().getIntegration(e);return n?n._handler(t,r):t}))},e.prototype._handler=function(e,t){if(!(e.exception&&e.exception.values&&t&&Object(no.g)(t.originalException,Error)))return e;var r=this._walkErrorTree(t.originalException,this._key);return e.exception.values=Object(Kn.e)(r,e.exception.values),e},e.prototype._walkErrorTree=function(e,t,r){if(void 0===r&&(r=[]),!Object(no.g)(e[t],Error)||r.length+1>=this._limit)return r;var n=fV(iV(e[t]));return this._walkErrorTree(e[t],t,Object(Kn.e)([n],r))},e.id="LinkedErrors",e}(),GV=Object(Yn.e)(),qV=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(){uo((function(t){var r,n,o;if(go().getIntegration(e)){if(!GV.navigator&&!GV.location&&!GV.document)return t;var i=(null===(r=t.request)||void 0===r?void 0:r.url)||(null===(n=GV.location)||void 0===n?void 0:n.href),a=(GV.document||{}).referrer,s=(GV.navigator||{}).userAgent,u=Object(Kn.a)(Object(Kn.a)(Object(Kn.a)({},null===(o=t.request)||void 0===o?void 0:o.headers),a&&{Referer:a}),s&&{"User-Agent":s}),c=Object(Kn.a)(Object(Kn.a)({},i&&{url:i}),{headers:u});return Object(Kn.a)(Object(Kn.a)({},t),{request:c})}return t}))},e.id="UserAgent",e}(),$V=[new a.InboundFilters,new a.FunctionToString,new UV,new NV,new WV,new VV,new qV];function KV(e){if(void 0===e&&(e={}),void 0===e.defaultIntegrations&&(e.defaultIntegrations=$V),void 0===e.release){var t=Object(Yn.e)();t.SENTRY_RELEASE&&t.SENTRY_RELEASE.id&&(e.release=t.SENTRY_RELEASE.id)}void 0===e.autoSessionTracking&&(e.autoSessionTracking=!0),e._metadata=e._metadata||{},e._metadata.sdk={name:"sentry.javascript.browser",packages:[{name:"npm:@sentry/browser",version:oH}],version:oH},iH(BV,e),e.autoSessionTracking&&YV()}function YV(){var e=Object(Yn.e)(),t=go(),r="complete"===document.readyState,n=!1,o=function(){n&&r&&t.endSession()},i=function(){r=!0,o(),e.removeEventListener("load",i)};t.startSession(),r||e.addEventListener("load",i);try{var a=new PerformanceObserver((function(e,t){e.getEntries().forEach((function(e){"first-contentful-paint"===e.name&&e.startTime<s&&(t.disconnect(),n=!0,o())}))})),s="hidden"===document.visibilityState?0:1/0;document.addEventListener("visibilitychange",(function(e){s=Math.min(s,e.timeStamp)}),{once:!0}),a.observe({type:"paint",buffered:!0})}catch(e){n=!0,o()}vH({callback:function(){var e;(null===(e=go().getScope())||void 0===e?void 0:e.getSession())||(t.startSession(),t.endSession())},type:"history"})}function XV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ZV(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?XV(Object(r),!0).forEach((function(t){JV(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XV(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function JV(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var QV="https://8032d897b775460797a37afd3d0854f3@sentry.issuu.com/150";function eG(){KV(ZV(ZV({},L({dsn:QV,environment:$e,release:"1.0.328"})),{},{allowUrls:[Ze,tt,"www.googletagmanager.com","consent.cookiebot.com","unpkg.com"],ignoreErrors:["ReferenceError: 'createImageBitmap' is not defined",/\(--client-only--\)/i,A.DocumentNotLoad,A.ClippingNotLoad,A.DocumentIdMissing,A.JsonNotLoad,A.PaywallPreviewDisableLicenseCheck,A.PreviewDisableLicenseCheck,"ReferenceError: 'fetch'",'ReferenceError: "fetch"',"ReferenceError: fetch","ReferenceError: « fetch »"]}))}var tG=new vt(document.location.toString()),rG=tG.getUsername(),nG=tG.getDocumentName(),oG=tG.getInitialPageNumber(),iG=Me(window.navigator.userAgent),aG=_t();function sG(){var e=tG.getStreamOrigin();return{origin:e,ranking:e?tG.getStreamRanking():null}}eG(),Ge();var uG=new DW({streamData:sG(),isEmbed:!1,embedId:null,location:tG.getLatestHostUrl(),referrer:tG.getHostReferrer(),monitorEventsOnly:!1,readerEndPoint:"documentpage",pingbackOrigin:rt(),source:"internal"}),cG=ot(),lG={controls:[{type:"FEATURE_NAVIGATION_ARROWS"},{type:"FEATURE_FULLSCREEN",kind:"NORMAL",overlayOnSmallReaders:!1,showButtons:"ALWAYS",fullscreenFallbackArgs:""},{type:"FEATURE_ZOOM"},{type:"FEATURE_SHARE_DIALOG",hideWhenNotInFullscreen:!0}],canLoadAdsInFullscreen:!0,canLoadAdOverlay:!0,canUseCredentials:!0,autoFlip:!1,disableLicenseCheck:!0,links:{allowOnSmallReaders:!0},showControlsUntilFirstInteraction:!0,allowUIToOverlayCover:!1,readModeRules:{defaultMode:"DOUBLE_PAGE_SPREAD",responsiveModeWhen:"PHONE_ISH_IN_PORTRAIT"},requireEmbedLicense:!1},fG=SU({document:{embedId:null,initialPageNumber:oG},connector:$t({origins:cG,username:rG,documentName:nG,metrics:uG,sessionId:aG,isRobot:iG}),network:{origins:cG},features:lG,trackerConfig:{startTrackingOnLoad:!tG.getDelayTracking(),sessionId:aG},metrics:uG,mixpanel:zF({fake:!UF()}),readMorePlugin:new Zz({metrics:uG,show:"RELATED",alwaysOverlay:!1,hideWhenNotInFullscreen:!0,openInNewTab:!1}),experiment:At()}),pG=document.getElementById("app");if(!pG)throw new Error("unexpected missing markup");u.a.render(fG.reader,pG),Qz(fG.api,uG)},,,,function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return u}));var n=r(39),o=r(144),i={nowSeconds:function(){return Date.now()/1e3}};var a=Object(o.b)()?function(){try{return Object(o.a)(e,"perf_hooks").performance}catch(e){return}}():function(){var e=Object(n.e)().performance;if(e&&e.now)return{now:function(){return e.now()},timeOrigin:Date.now()-e.now()}}(),s=void 0===a?i:{nowSeconds:function(){return(a.timeOrigin+a.now())/1e3}},u=i.nowSeconds.bind(i);s.nowSeconds.bind(s),function(){var e=Object(n.e)().performance;if(e)e.timeOrigin?e.timeOrigin:e.timing&&e.timing.navigationStart||Date.now()}()}).call(this,r(192)(e))}]);
//# sourceMappingURL=//sourcemaps.issuu.com/product-reader3-frontend/328/document-page-reader.js.map
}!function(){var n,t=[],e=!!window.Promise,i=!!window.fetch,o=!!window.PointerEvent;n=window.SCRIPT_LOADER,e&&i&&o?n():(e||t.push("https://cdn.jsdelivr.net/npm/promise-polyfill@8/dist/polyfill.min.js"),i||t.push("https://cdn.jsdelivr.net/npm/whatwg-fetch@3.5.0/dist/fetch.umd.min.js"),o||t.push("https://cdn.jsdelivr.net/npm/pepjs@0.5.2/dist/pep.min.js"),function(n,t){if(0===n.length)return t();var e={};n.forEach((function(i){e[i]=!1;var o=document.createElement("script");o.src=i,o.defer=!0,o.onload=function(){e[i]=!0,function(n,t){for(var e=t.length,i=!0,o=0;o<e&&(i=i&&n[t[o]]);o++);return i}(e,n)&&t()},o.onerror=function(){new Error("Failed to load polyfill")},document.head.appendChild(o)}))}(t,n))}();